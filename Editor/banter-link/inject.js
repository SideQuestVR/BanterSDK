var BS;(()=>{var t={72:()=>{!function(){if(document.registerElement=()=>{},void 0===window.Reflect||void 0===window.customElements)return;const t=HTMLElement;window.HTMLElement=function(){return Reflect.construct(t,[],this.constructor)},HTMLElement.prototype=t.prototype,HTMLElement.prototype.constructor=HTMLElement,Object.setPrototypeOf(HTMLElement,t)}()},217:(t,e,s)=>{"use strict";s.r(e),s.d(e,{isValidDefaultCoordinate:()=>_,isValidDefaultValue:()=>f,propertyTypes:()=>l,registerPropertyType:()=>d,setComponentProperty:()=>k}),console.warn.bind(console);var i=["x","y","z","w"],n=/\s+/g;function r(t){var e;return"object"!=typeof t?t:(e=t.x+" "+t.y,null!=t.z&&(e+=" "+t.z),null!=t.w&&(e+=" "+t.w),e)}function o(t){return null!=t&&t.constructor===String?parseFloat(t.toString()):t}const a=console.error.bind(console),h=console.warn.bind(console);var l={},c=/[,> .[\]:]/,u=/\url\((.+)\)/;function d(t,e,s,i){"type"in l?a("Property type "+t+" is already registered."):l[t]={default:e,parse:s||g,stringify:i||m}}function p(t){var e,s;return"string"!=typeof t?t:(s=t.match(u))?s[1]:"#"===t.charAt(0)?(e=document.getElementById(t.substring(1)))?"CANVAS"===e.tagName||"VIDEO"===e.tagName||"IMG"===e.tagName?e:e.getAttribute("src"):void h('"'+t+'" asset not found.'):t}function g(t){return t}function m(t){return null===t?"null":t.toString()}function y(t){return parseInt(t,10)}function b(t){return function(t,e){var s,r,a,h,l,c,u,d,p;if(t&&t instanceof Object)return c=void 0===t.x?e&&e.x:t.x,u=void 0===t.y?e&&e.y:t.y,d=void 0===t.z?e&&e.z:t.z,p=void 0===t.w?e&&e.w:t.w,null!=c&&(t.x=o(c)),null!=u&&(t.y=o(u)),null!=d&&(t.z=o(d)),null!=p&&(t.w=o(p)),t;if(null==t)return"object"==typeof e?Object.assign({},e):e;for(s=t.trim().split(n),l={},h=0;h<i.length;h++)if(a=i[h],s[h])l[a]=parseFloat(s[h]);else{if(void 0===(r=e&&e[a]))continue;l[a]=o(r)}return l}(t,this.default)}function f(t,e){return("audio"!==t||"string"==typeof e)&&!("array"===t&&!Array.isArray(e))&&("asset"!==t||"string"==typeof e)&&("boolean"!==t||"boolean"==typeof e)&&("color"!==t||"string"==typeof e)&&("int"!==t||"number"==typeof e)&&("number"!==t||"number"==typeof e)&&("map"!==t||"string"==typeof e)&&("model"!==t||"string"==typeof e)&&("selector"!==t||"string"==typeof e||null===e)&&("selectorAll"!==t||"string"==typeof e||null===e)&&("src"!==t||"string"==typeof e)&&("string"!==t||"string"==typeof e)&&("time"!==t||"number"==typeof e)&&("vec2"===t?_(e,2):"vec3"===t?_(e,3):"vec4"!==t||_(e,4))}function _(t,e){if(null===t)return!0;if("object"!=typeof t)return!1;if(Object.keys(t).length!==e)return!1;var s=t.x,i=t.y,n=t.z,r=t.w;return!("number"!=typeof s||"number"!=typeof i||e>2&&"number"!=typeof n||e>3&&"number"!=typeof r)}d("audio","",p),d("array",[],(function(t){return Array.isArray(t)?t:t&&"string"==typeof t?t.split(",").map((function(t){return t.trim()})):[]}),(function(t){return t.join(", ")})),d("asset","",p),d("boolean",!1,(function(t){return"false"!==t&&!1!==t})),d("color","#FFF",g,m),d("int",0,y),d("number",0,(function(t){return parseFloat(t)})),d("map","",p),d("model","",p),d("selector",null,(function(t){return t?"string"!=typeof t?t:"#"!==t[0]||c.test(t)?document.querySelector(t):document.getElementById(t.substring(1)):null}),(function(t){return t.getAttribute?"#"+t.getAttribute("id"):m(t)})),d("selectorAll",null,(function(t){return t?"string"!=typeof t?t:Array.prototype.slice.call(document.querySelectorAll(t),0):null}),(function(t){return t instanceof Array?t.map((function(t){return"#"+t.getAttribute("id")})).join(", "):m(t)})),d("src","",(function(t){return h("`src` property type is deprecated. Use `asset` instead."),p(t)})),d("string","",g,m),d("time",0,y),d("vec2",{x:0,y:0},b,r),d("vec3",{x:0,y:0,z:0},b,r),d("vec4",{x:0,y:0,z:0,w:1},b,r);const v=(S={},function(t,e){return e in S||(S[e]={}),t in S[e]||(S[e][t]=t.split(e)),S[e][t]});var S;const k=function(t,e,s,i){var n;i=i||".",-1===e.indexOf(i)?t.setAttribute(e,s):(n=function(t,e){var s=v(t,e=e||".");return 1===s.length?s[0]:s}(e,i)).constructor===String?t.setAttribute(n,s):t.setAttribute(n[0],n[1],s)}}},e={};function s(i){var n=e[i];if(void 0!==n)return n.exports;var r=e[i]={exports:{}};return t[i](r,r.exports,s),r.exports}s.d=(t,e)=>{for(var i in e)s.o(e,i)&&!s.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},s.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),s.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var i={};(()=>{"use strict";s.r(i),s.d(i,{AFRAME:()=>gi,BanterAssetBundle:()=>A,BanterAttachedObject:()=>I,BanterAudioSource:()=>x,BanterBillboard:()=>M,BanterBox:()=>N,BanterBrowser:()=>O,BanterCircle:()=>Y,BanterColliderEvents:()=>U,BanterCone:()=>j,BanterCylinder:()=>F,BanterGLTF:()=>G,BanterGeometry:()=>z,BanterGrabHandle:()=>V,BanterGrabType:()=>ki,BanterHeldEvents:()=>H,BanterInvertedMesh:()=>q,BanterKitItem:()=>W,BanterLayers:()=>a,BanterMaterial:()=>K,BanterMirror:()=>Z,BanterPhysicMaterial:()=>$,BanterPlane:()=>Q,BanterPortal:()=>tt,BanterRigidbody:()=>et,BanterRing:()=>st,BanterScene:()=>te,BanterSphere:()=>it,BanterStreetView:()=>rt,BanterSyncedObject:()=>ot,BanterText:()=>at,BanterTorus:()=>ht,BanterUI:()=>Fi,BanterUIPanel:()=>ct,BanterVideoPlayer:()=>ut,BanterWorldObject:()=>dt,BoxCollider:()=>L,ButtonType:()=>t,CapsuleCollider:()=>D,Color:()=>Hs,Component:()=>k,ComponentQuery:()=>jt,ComponentType:()=>e,ConfigurableJoint:()=>J,ConfigurableJointMotion:()=>l,CreateGameObject:()=>bt,ForceMode:()=>n,GameObject:()=>yt,GeometryType:()=>ve,GetComponentType:()=>pt,HandSide:()=>r,HorizontalAlignment:()=>Ws,IS_DEV:()=>zi,KeyCode:()=>o,LegacyAttachmentPosition:()=>ei,LoadSceneBundles:()=>Qt,MaterialSide:()=>Qs,MeshCollider:()=>X,ParametricGeometryType:()=>Se,PropertyName:()=>h,Quaternion:()=>B,SceneSettings:()=>Ft,SphereCollider:()=>nt,Transform:()=>lt,UIButton:()=>Li,UICommands:()=>kt,UIElement:()=>Mi,UIElementType:()=>Ii,UILabel:()=>Di,UIPropertyName:()=>Ai,UIScrollView:()=>Yi,UISlider:()=>Ui,UIToggle:()=>ji,UIVisualElement:()=>Oi,Vector2:()=>E,Vector3:()=>R,Vector4:()=>C,VerticalAlignment:()=>Ks,createUIElement:()=>Ji,waitFor:()=>g});var t,e,n,r,o,a,h,l,c,u,d={};s.r(d),s.d(d,{parseStyle:()=>ge,stringify:()=>me,toCamelCase:()=>ye,transformKeysToCamelCase:()=>be}),function(t){t[t.TRIGGER=0]="TRIGGER",t[t.GRIP=1]="GRIP",t[t.PRIMARY=2]="PRIMARY",t[t.SECONDARY=3]="SECONDARY"}(t||(t={})),function(t){t[t.BanterAssetBundle=0]="BanterAssetBundle",t[t.BanterAttachedObject=1]="BanterAttachedObject",t[t.BanterAudioSource=2]="BanterAudioSource",t[t.BanterBillboard=3]="BanterBillboard",t[t.BanterBox=4]="BanterBox",t[t.BoxCollider=5]="BoxCollider",t[t.BanterBrowser=6]="BanterBrowser",t[t.CapsuleCollider=7]="CapsuleCollider",t[t.BanterCircle=8]="BanterCircle",t[t.BanterColliderEvents=9]="BanterColliderEvents",t[t.BanterCone=10]="BanterCone",t[t.ConfigurableJoint=11]="ConfigurableJoint",t[t.BanterCylinder=12]="BanterCylinder",t[t.BanterGeometry=13]="BanterGeometry",t[t.BanterGLTF=14]="BanterGLTF",t[t.BanterGrabHandle=15]="BanterGrabHandle",t[t.BanterHeldEvents=16]="BanterHeldEvents",t[t.BanterInvertedMesh=17]="BanterInvertedMesh",t[t.BanterKitItem=18]="BanterKitItem",t[t.BanterMaterial=19]="BanterMaterial",t[t.MeshCollider=20]="MeshCollider",t[t.BanterMirror=21]="BanterMirror",t[t.BanterPhysicMaterial=22]="BanterPhysicMaterial",t[t.BanterPlane=23]="BanterPlane",t[t.BanterPortal=24]="BanterPortal",t[t.BanterRigidbody=25]="BanterRigidbody",t[t.BanterRing=26]="BanterRing",t[t.BanterSphere=27]="BanterSphere",t[t.SphereCollider=28]="SphereCollider",t[t.BanterStreetView=29]="BanterStreetView",t[t.BanterSyncedObject=30]="BanterSyncedObject",t[t.BanterText=31]="BanterText",t[t.BanterTorus=32]="BanterTorus",t[t.Transform=33]="Transform",t[t.BanterUIPanel=34]="BanterUIPanel",t[t.BanterVideoPlayer=35]="BanterVideoPlayer",t[t.BanterWorldObject=36]="BanterWorldObject"}(e||(e={})),function(t){t[t.Force=0]="Force",t[t.Impulse=1]="Impulse",t[t.VelocityChange=2]="VelocityChange",t[t.Acceleration=3]="Acceleration"}(n||(n={})),function(t){t[t.LEFT=0]="LEFT",t[t.RIGHT=1]="RIGHT"}(r||(r={})),function(t){t[t.None=0]="None",t[t.Backspace=1]="Backspace",t[t.Tab=2]="Tab",t[t.Clear=3]="Clear",t[t.Return=4]="Return",t[t.Pause=5]="Pause",t[t.Escape=6]="Escape",t[t.Space=7]="Space",t[t.Exclaim=8]="Exclaim",t[t.DoubleQuote=9]="DoubleQuote",t[t.Hash=10]="Hash",t[t.Dollar=11]="Dollar",t[t.Percent=12]="Percent",t[t.Ampersand=13]="Ampersand",t[t.Quote=14]="Quote",t[t.LeftParen=15]="LeftParen",t[t.RightParen=16]="RightParen",t[t.Asterisk=17]="Asterisk",t[t.Plus=18]="Plus",t[t.Comma=19]="Comma",t[t.Minus=20]="Minus",t[t.Period=21]="Period",t[t.Slash=22]="Slash",t[t.Alpha0=23]="Alpha0",t[t.Alpha1=24]="Alpha1",t[t.Alpha2=25]="Alpha2",t[t.Alpha3=26]="Alpha3",t[t.Alpha4=27]="Alpha4",t[t.Alpha5=28]="Alpha5",t[t.Alpha6=29]="Alpha6",t[t.Alpha7=30]="Alpha7",t[t.Alpha8=31]="Alpha8",t[t.Alpha9=32]="Alpha9",t[t.Colon=33]="Colon",t[t.Semicolon=34]="Semicolon",t[t.Less=35]="Less",t[t.Equals=36]="Equals",t[t.Greater=37]="Greater",t[t.Question=38]="Question",t[t.At=39]="At",t[t.LeftBracket=40]="LeftBracket",t[t.Backslash=41]="Backslash",t[t.RightBracket=42]="RightBracket",t[t.Caret=43]="Caret",t[t.Underscore=44]="Underscore",t[t.BackQuote=45]="BackQuote",t[t.A=46]="A",t[t.B=47]="B",t[t.C=48]="C",t[t.D=49]="D",t[t.E=50]="E",t[t.F=51]="F",t[t.G=52]="G",t[t.H=53]="H",t[t.I=54]="I",t[t.J=55]="J",t[t.K=56]="K",t[t.L=57]="L",t[t.M=58]="M",t[t.N=59]="N",t[t.O=60]="O",t[t.P=61]="P",t[t.Q=62]="Q",t[t.R=63]="R",t[t.S=64]="S",t[t.T=65]="T",t[t.U=66]="U",t[t.V=67]="V",t[t.W=68]="W",t[t.X=69]="X",t[t.Y=70]="Y",t[t.Z=71]="Z",t[t.LeftCurlyBracket=72]="LeftCurlyBracket",t[t.Pipe=73]="Pipe",t[t.RightCurlyBracket=74]="RightCurlyBracket",t[t.Tilde=75]="Tilde",t[t.Delete=76]="Delete",t[t.Keypad0=77]="Keypad0",t[t.Keypad1=78]="Keypad1",t[t.Keypad2=79]="Keypad2",t[t.Keypad3=80]="Keypad3",t[t.Keypad4=81]="Keypad4",t[t.Keypad5=82]="Keypad5",t[t.Keypad6=83]="Keypad6",t[t.Keypad7=84]="Keypad7",t[t.Keypad8=85]="Keypad8",t[t.Keypad9=86]="Keypad9",t[t.KeypadPeriod=87]="KeypadPeriod",t[t.KeypadDivide=88]="KeypadDivide",t[t.KeypadMultiply=89]="KeypadMultiply",t[t.KeypadMinus=90]="KeypadMinus",t[t.KeypadPlus=91]="KeypadPlus",t[t.KeypadEnter=92]="KeypadEnter",t[t.KeypadEquals=93]="KeypadEquals",t[t.UpArrow=94]="UpArrow",t[t.DownArrow=95]="DownArrow",t[t.RightArrow=96]="RightArrow",t[t.LeftArrow=97]="LeftArrow",t[t.Insert=98]="Insert",t[t.Home=99]="Home",t[t.End=100]="End",t[t.PageUp=101]="PageUp",t[t.PageDown=102]="PageDown",t[t.F1=103]="F1",t[t.F2=104]="F2",t[t.F3=105]="F3",t[t.F4=106]="F4",t[t.F5=107]="F5",t[t.F6=108]="F6",t[t.F7=109]="F7",t[t.F8=110]="F8",t[t.F9=111]="F9",t[t.F10=112]="F10",t[t.F11=113]="F11",t[t.F12=114]="F12",t[t.F13=115]="F13",t[t.F14=116]="F14",t[t.F15=117]="F15",t[t.Numlock=118]="Numlock",t[t.CapsLock=119]="CapsLock",t[t.ScrollLock=120]="ScrollLock",t[t.RightShift=121]="RightShift",t[t.LeftShift=122]="LeftShift",t[t.RightControl=123]="RightControl",t[t.LeftControl=124]="LeftControl",t[t.RightAlt=125]="RightAlt",t[t.LeftAlt=126]="LeftAlt",t[t.RightApple=127]="RightApple",t[t.LeftCommand=128]="LeftCommand",t[t.LeftWindows=129]="LeftWindows",t[t.RightWindows=130]="RightWindows",t[t.AltGr=131]="AltGr",t[t.Help=132]="Help",t[t.Print=133]="Print",t[t.SysReq=134]="SysReq",t[t.Break=135]="Break",t[t.Menu=136]="Menu",t[t.Mouse0=137]="Mouse0",t[t.Mouse1=138]="Mouse1",t[t.Mouse2=139]="Mouse2",t[t.Mouse3=140]="Mouse3",t[t.Mouse4=141]="Mouse4",t[t.Mouse5=142]="Mouse5",t[t.Mouse6=143]="Mouse6",t[t.JoystickButton0=144]="JoystickButton0",t[t.JoystickButton1=145]="JoystickButton1",t[t.JoystickButton2=146]="JoystickButton2",t[t.JoystickButton3=147]="JoystickButton3",t[t.JoystickButton4=148]="JoystickButton4",t[t.JoystickButton5=149]="JoystickButton5",t[t.JoystickButton6=150]="JoystickButton6",t[t.JoystickButton7=151]="JoystickButton7",t[t.JoystickButton8=152]="JoystickButton8",t[t.JoystickButton9=153]="JoystickButton9",t[t.JoystickButton10=154]="JoystickButton10",t[t.JoystickButton11=155]="JoystickButton11",t[t.JoystickButton12=156]="JoystickButton12",t[t.JoystickButton13=157]="JoystickButton13",t[t.JoystickButton14=158]="JoystickButton14",t[t.JoystickButton15=159]="JoystickButton15",t[t.JoystickButton16=160]="JoystickButton16",t[t.JoystickButton17=161]="JoystickButton17",t[t.JoystickButton18=162]="JoystickButton18",t[t.JoystickButton19=163]="JoystickButton19",t[t.Joystick1Button0=164]="Joystick1Button0",t[t.Joystick1Button1=165]="Joystick1Button1",t[t.Joystick1Button2=166]="Joystick1Button2",t[t.Joystick1Button3=167]="Joystick1Button3",t[t.Joystick1Button4=168]="Joystick1Button4",t[t.Joystick1Button5=169]="Joystick1Button5",t[t.Joystick1Button6=170]="Joystick1Button6",t[t.Joystick1Button7=171]="Joystick1Button7",t[t.Joystick1Button8=172]="Joystick1Button8",t[t.Joystick1Button9=173]="Joystick1Button9",t[t.Joystick1Button10=174]="Joystick1Button10",t[t.Joystick1Button11=175]="Joystick1Button11",t[t.Joystick1Button12=176]="Joystick1Button12",t[t.Joystick1Button13=177]="Joystick1Button13",t[t.Joystick1Button14=178]="Joystick1Button14",t[t.Joystick1Button15=179]="Joystick1Button15",t[t.Joystick1Button16=180]="Joystick1Button16",t[t.Joystick1Button17=181]="Joystick1Button17",t[t.Joystick1Button18=182]="Joystick1Button18",t[t.Joystick1Button19=183]="Joystick1Button19",t[t.Joystick2Button0=184]="Joystick2Button0",t[t.Joystick2Button1=185]="Joystick2Button1",t[t.Joystick2Button2=186]="Joystick2Button2",t[t.Joystick2Button3=187]="Joystick2Button3",t[t.Joystick2Button4=188]="Joystick2Button4",t[t.Joystick2Button5=189]="Joystick2Button5",t[t.Joystick2Button6=190]="Joystick2Button6",t[t.Joystick2Button7=191]="Joystick2Button7",t[t.Joystick2Button8=192]="Joystick2Button8",t[t.Joystick2Button9=193]="Joystick2Button9",t[t.Joystick2Button10=194]="Joystick2Button10",t[t.Joystick2Button11=195]="Joystick2Button11",t[t.Joystick2Button12=196]="Joystick2Button12",t[t.Joystick2Button13=197]="Joystick2Button13",t[t.Joystick2Button14=198]="Joystick2Button14",t[t.Joystick2Button15=199]="Joystick2Button15",t[t.Joystick2Button16=200]="Joystick2Button16",t[t.Joystick2Button17=201]="Joystick2Button17",t[t.Joystick2Button18=202]="Joystick2Button18",t[t.Joystick2Button19=203]="Joystick2Button19",t[t.Joystick3Button0=204]="Joystick3Button0",t[t.Joystick3Button1=205]="Joystick3Button1",t[t.Joystick3Button2=206]="Joystick3Button2",t[t.Joystick3Button3=207]="Joystick3Button3",t[t.Joystick3Button4=208]="Joystick3Button4",t[t.Joystick3Button5=209]="Joystick3Button5",t[t.Joystick3Button6=210]="Joystick3Button6",t[t.Joystick3Button7=211]="Joystick3Button7",t[t.Joystick3Button8=212]="Joystick3Button8",t[t.Joystick3Button9=213]="Joystick3Button9",t[t.Joystick3Button10=214]="Joystick3Button10",t[t.Joystick3Button11=215]="Joystick3Button11",t[t.Joystick3Button12=216]="Joystick3Button12",t[t.Joystick3Button13=217]="Joystick3Button13",t[t.Joystick3Button14=218]="Joystick3Button14",t[t.Joystick3Button15=219]="Joystick3Button15",t[t.Joystick3Button16=220]="Joystick3Button16",t[t.Joystick3Button17=221]="Joystick3Button17",t[t.Joystick3Button18=222]="Joystick3Button18",t[t.Joystick3Button19=223]="Joystick3Button19",t[t.Joystick4Button0=224]="Joystick4Button0",t[t.Joystick4Button1=225]="Joystick4Button1",t[t.Joystick4Button2=226]="Joystick4Button2",t[t.Joystick4Button3=227]="Joystick4Button3",t[t.Joystick4Button4=228]="Joystick4Button4",t[t.Joystick4Button5=229]="Joystick4Button5",t[t.Joystick4Button6=230]="Joystick4Button6",t[t.Joystick4Button7=231]="Joystick4Button7",t[t.Joystick4Button8=232]="Joystick4Button8",t[t.Joystick4Button9=233]="Joystick4Button9",t[t.Joystick4Button10=234]="Joystick4Button10",t[t.Joystick4Button11=235]="Joystick4Button11",t[t.Joystick4Button12=236]="Joystick4Button12",t[t.Joystick4Button13=237]="Joystick4Button13",t[t.Joystick4Button14=238]="Joystick4Button14",t[t.Joystick4Button15=239]="Joystick4Button15",t[t.Joystick4Button16=240]="Joystick4Button16",t[t.Joystick4Button17=241]="Joystick4Button17",t[t.Joystick4Button18=242]="Joystick4Button18",t[t.Joystick4Button19=243]="Joystick4Button19",t[t.Joystick5Button0=244]="Joystick5Button0",t[t.Joystick5Button1=245]="Joystick5Button1",t[t.Joystick5Button2=246]="Joystick5Button2",t[t.Joystick5Button3=247]="Joystick5Button3",t[t.Joystick5Button4=248]="Joystick5Button4",t[t.Joystick5Button5=249]="Joystick5Button5",t[t.Joystick5Button6=250]="Joystick5Button6",t[t.Joystick5Button7=251]="Joystick5Button7",t[t.Joystick5Button8=252]="Joystick5Button8",t[t.Joystick5Button9=253]="Joystick5Button9",t[t.Joystick5Button10=254]="Joystick5Button10",t[t.Joystick5Button11=255]="Joystick5Button11",t[t.Joystick5Button12=256]="Joystick5Button12",t[t.Joystick5Button13=257]="Joystick5Button13",t[t.Joystick5Button14=258]="Joystick5Button14",t[t.Joystick5Button15=259]="Joystick5Button15",t[t.Joystick5Button16=260]="Joystick5Button16",t[t.Joystick5Button17=261]="Joystick5Button17",t[t.Joystick5Button18=262]="Joystick5Button18",t[t.Joystick5Button19=263]="Joystick5Button19",t[t.Joystick6Button0=264]="Joystick6Button0",t[t.Joystick6Button1=265]="Joystick6Button1",t[t.Joystick6Button2=266]="Joystick6Button2",t[t.Joystick6Button3=267]="Joystick6Button3",t[t.Joystick6Button4=268]="Joystick6Button4",t[t.Joystick6Button5=269]="Joystick6Button5",t[t.Joystick6Button6=270]="Joystick6Button6",t[t.Joystick6Button7=271]="Joystick6Button7",t[t.Joystick6Button8=272]="Joystick6Button8",t[t.Joystick6Button9=273]="Joystick6Button9",t[t.Joystick6Button10=274]="Joystick6Button10",t[t.Joystick6Button11=275]="Joystick6Button11",t[t.Joystick6Button12=276]="Joystick6Button12",t[t.Joystick6Button13=277]="Joystick6Button13",t[t.Joystick6Button14=278]="Joystick6Button14",t[t.Joystick6Button15=279]="Joystick6Button15",t[t.Joystick6Button16=280]="Joystick6Button16",t[t.Joystick6Button17=281]="Joystick6Button17",t[t.Joystick6Button18=282]="Joystick6Button18",t[t.Joystick6Button19=283]="Joystick6Button19",t[t.Joystick7Button0=284]="Joystick7Button0",t[t.Joystick7Button1=285]="Joystick7Button1",t[t.Joystick7Button2=286]="Joystick7Button2",t[t.Joystick7Button3=287]="Joystick7Button3",t[t.Joystick7Button4=288]="Joystick7Button4",t[t.Joystick7Button5=289]="Joystick7Button5",t[t.Joystick7Button6=290]="Joystick7Button6",t[t.Joystick7Button7=291]="Joystick7Button7",t[t.Joystick7Button8=292]="Joystick7Button8",t[t.Joystick7Button9=293]="Joystick7Button9",t[t.Joystick7Button10=294]="Joystick7Button10",t[t.Joystick7Button11=295]="Joystick7Button11",t[t.Joystick7Button12=296]="Joystick7Button12",t[t.Joystick7Button13=297]="Joystick7Button13",t[t.Joystick7Button14=298]="Joystick7Button14",t[t.Joystick7Button15=299]="Joystick7Button15",t[t.Joystick7Button16=300]="Joystick7Button16",t[t.Joystick7Button17=301]="Joystick7Button17",t[t.Joystick7Button18=302]="Joystick7Button18",t[t.Joystick7Button19=303]="Joystick7Button19",t[t.Joystick8Button0=304]="Joystick8Button0",t[t.Joystick8Button1=305]="Joystick8Button1",t[t.Joystick8Button2=306]="Joystick8Button2",t[t.Joystick8Button3=307]="Joystick8Button3",t[t.Joystick8Button4=308]="Joystick8Button4",t[t.Joystick8Button5=309]="Joystick8Button5",t[t.Joystick8Button6=310]="Joystick8Button6",t[t.Joystick8Button7=311]="Joystick8Button7",t[t.Joystick8Button8=312]="Joystick8Button8",t[t.Joystick8Button9=313]="Joystick8Button9",t[t.Joystick8Button10=314]="Joystick8Button10",t[t.Joystick8Button11=315]="Joystick8Button11",t[t.Joystick8Button12=316]="Joystick8Button12",t[t.Joystick8Button13=317]="Joystick8Button13",t[t.Joystick8Button14=318]="Joystick8Button14",t[t.Joystick8Button15=319]="Joystick8Button15",t[t.Joystick8Button16=320]="Joystick8Button16",t[t.Joystick8Button17=321]="Joystick8Button17",t[t.Joystick8Button18=322]="Joystick8Button18",t[t.Joystick8Button19=323]="Joystick8Button19",t[t.F16=324]="F16",t[t.F17=325]="F17",t[t.F18=326]="F18",t[t.F19=327]="F19",t[t.F20=328]="F20",t[t.F21=329]="F21",t[t.F22=330]="F22",t[t.F23=331]="F23",t[t.F24=332]="F24"}(o||(o={})),function(t){t[t.UserLayer1=3]="UserLayer1",t[t.UserLayer2=6]="UserLayer2",t[t.UserLayer3=7]="UserLayer3",t[t.UserLayer4=8]="UserLayer4",t[t.UserLayer5=9]="UserLayer5",t[t.UserLayer6=10]="UserLayer6",t[t.UserLayer7=11]="UserLayer7",t[t.UserLayer8=12]="UserLayer8",t[t.UserLayer9=13]="UserLayer9",t[t.UserLayer10=14]="UserLayer10",t[t.UserLayer11=15]="UserLayer11",t[t.UserLayer12=16]="UserLayer12",t[t.NetworkPlayer=17]="NetworkPlayer",t[t.RPMAvatarHead=18]="RPMAvatarHead",t[t.RPMAvatarBody=19]="RPMAvatarBody",t[t.Grabbable=20]="Grabbable",t[t.HandColliders=21]="HandColliders",t[t.Menu=22]="Menu",t[t.PhysicsPlayer=23]="PhysicsPlayer",t[t.BanterInternal1_DONTUSE=24]="BanterInternal1_DONTUSE",t[t.BanterInternal2_DONTUSE=25]="BanterInternal2_DONTUSE",t[t.BanterInternal3_DONTUSE=26]="BanterInternal3_DONTUSE",t[t.BanterInternal4_DONTUSE=27]="BanterInternal4_DONTUSE",t[t.BanterInternal5_DONTUSE=28]="BanterInternal5_DONTUSE",t[t.BanterInternal6_DONTUSE=29]="BanterInternal6_DONTUSE",t[t.BanterInternal7_DONTUSE=30]="BanterInternal7_DONTUSE",t[t.BanterInternal8_DONTUSE=31]="BanterInternal8_DONTUSE"}(a||(a={})),function(t){t[t.hasUnity=0]="hasUnity",t[t.windowsUrl=1]="windowsUrl",t[t.osxUrl=2]="osxUrl",t[t.linuxUrl=3]="linuxUrl",t[t.androidUrl=4]="androidUrl",t[t.iosUrl=5]="iosUrl",t[t.vosUrl=6]="vosUrl",t[t.isScene=7]="isScene",t[t.legacyShaderFix=8]="legacyShaderFix",t[t.uid=9]="uid",t[t.attachmentPosition=10]="attachmentPosition",t[t.attachmentRotation=11]="attachmentRotation",t[t.attachmentType=12]="attachmentType",t[t.avatarAttachmentType=13]="avatarAttachmentType",t[t.avatarAttachmentPoint=14]="avatarAttachmentPoint",t[t.attachmentPoint=15]="attachmentPoint",t[t.autoSync=16]="autoSync",t[t.jointAvatar=17]="jointAvatar",t[t.volume=18]="volume",t[t.pitch=19]="pitch",t[t.mute=20]="mute",t[t.loop=21]="loop",t[t.bypassEffects=22]="bypassEffects",t[t.bypassListenerEffects=23]="bypassListenerEffects",t[t.bypassReverbZones=24]="bypassReverbZones",t[t.playOnAwake=25]="playOnAwake",t[t.spatialBlend=26]="spatialBlend",t[t.smoothing=27]="smoothing",t[t.enableXAxis=28]="enableXAxis",t[t.enableYAxis=29]="enableYAxis",t[t.enableZAxis=30]="enableZAxis",t[t.width=31]="width",t[t.height=32]="height",t[t.depth=33]="depth",t[t.widthSegments=34]="widthSegments",t[t.heightSegments=35]="heightSegments",t[t.depthSegments=36]="depthSegments",t[t.isTrigger=37]="isTrigger",t[t.center=38]="center",t[t.size=39]="size",t[t.url=40]="url",t[t.mipMaps=41]="mipMaps",t[t.pixelsPerUnit=42]="pixelsPerUnit",t[t.pageWidth=43]="pageWidth",t[t.pageHeight=44]="pageHeight",t[t.actions=45]="actions",t[t.radius=46]="radius",t[t.segments=47]="segments",t[t.thetaStart=48]="thetaStart",t[t.thetaLength=49]="thetaLength",t[t.radialSegments=50]="radialSegments",t[t.openEnded=51]="openEnded",t[t.targetPosition=52]="targetPosition",t[t.autoConfigureConnectedAnchor=53]="autoConfigureConnectedAnchor",t[t.xMotion=54]="xMotion",t[t.yMotion=55]="yMotion",t[t.zMotion=56]="zMotion",t[t.topRadius=57]="topRadius",t[t.bottomRadius=58]="bottomRadius",t[t.geometryType=59]="geometryType",t[t.parametricType=60]="parametricType",t[t.phiStart=61]="phiStart",t[t.phiLength=62]="phiLength",t[t.radiusTop=63]="radiusTop",t[t.radiusBottom=64]="radiusBottom",t[t.innerRadius=65]="innerRadius",t[t.outerRadius=66]="outerRadius",t[t.thetaSegments=67]="thetaSegments",t[t.phiSegments=68]="phiSegments",t[t.tube=69]="tube",t[t.tubularSegments=70]="tubularSegments",t[t.arc=71]="arc",t[t.p=72]="p",t[t.q=73]="q",t[t.stacks=74]="stacks",t[t.slices=75]="slices",t[t.detail=76]="detail",t[t.parametricPoints=77]="parametricPoints",t[t.generateMipMaps=78]="generateMipMaps",t[t.addColliders=79]="addColliders",t[t.nonConvexColliders=80]="nonConvexColliders",t[t.slippery=81]="slippery",t[t.climbable=82]="climbable",t[t.legacyRotate=83]="legacyRotate",t[t.childrenLayer=84]="childrenLayer",t[t.grabType=85]="grabType",t[t.grabRadius=86]="grabRadius",t[t.sensitivity=87]="sensitivity",t[t.fireRate=88]="fireRate",t[t.auto=89]="auto",t[t.blockLeftPrimary=90]="blockLeftPrimary",t[t.blockLeftSecondary=91]="blockLeftSecondary",t[t.blockRightPrimary=92]="blockRightPrimary",t[t.blockRightSecondary=93]="blockRightSecondary",t[t.blockLeftThumbstick=94]="blockLeftThumbstick",t[t.blockLeftThumbstickClick=95]="blockLeftThumbstickClick",t[t.blockRightThumbstick=96]="blockRightThumbstick",t[t.blockRightThumbstickClick=97]="blockRightThumbstickClick",t[t.blockLeftTrigger=98]="blockLeftTrigger",t[t.blockRightTrigger=99]="blockRightTrigger",t[t.path=100]="path",t[t.resetTransform=101]="resetTransform",t[t.shaderName=102]="shaderName",t[t.texture=103]="texture",t[t.color=104]="color",t[t.side=105]="side",t[t.convex=106]="convex",t[t.renderTextureSize=107]="renderTextureSize",t[t.cameraClear=108]="cameraClear",t[t.backgroundColor=109]="backgroundColor",t[t.dynamicFriction=110]="dynamicFriction",t[t.staticFriction=111]="staticFriction",t[t.instance=112]="instance",t[t.mass=113]="mass",t[t.drag=114]="drag",t[t.angularDrag=115]="angularDrag",t[t.isKinematic=116]="isKinematic",t[t.useGravity=117]="useGravity",t[t.centerOfMass=118]="centerOfMass",t[t.collisionDetectionMode=119]="collisionDetectionMode",t[t.freezePositionX=120]="freezePositionX",t[t.freezePositionY=121]="freezePositionY",t[t.freezePositionZ=122]="freezePositionZ",t[t.freezeRotationX=123]="freezeRotationX",t[t.freezeRotationY=124]="freezeRotationY",t[t.freezeRotationZ=125]="freezeRotationZ",t[t.velocity=126]="velocity",t[t.angularVelocity=127]="angularVelocity",t[t.panoId=128]="panoId",t[t.syncPosition=129]="syncPosition",t[t.syncRotation=130]="syncRotation",t[t.takeOwnershipOnCollision=131]="takeOwnershipOnCollision",t[t.takeOwnershipOnGrab=132]="takeOwnershipOnGrab",t[t.kinematicIfNotOwned=133]="kinematicIfNotOwned",t[t.text=134]="text",t[t.horizontalAlignment=135]="horizontalAlignment",t[t.verticalAlignment=136]="verticalAlignment",t[t.fontSize=137]="fontSize",t[t.richText=138]="richText",t[t.enableWordWrapping=139]="enableWordWrapping",t[t.rectTransformSizeDelta=140]="rectTransformSizeDelta",t[t.lerpPosition=141]="lerpPosition",t[t.lerpRotation=142]="lerpRotation",t[t.position=143]="position",t[t.localPosition=144]="localPosition",t[t.rotation=145]="rotation",t[t.localRotation=146]="localRotation",t[t.localScale=147]="localScale",t[t.eulerAngles=148]="eulerAngles",t[t.localEulerAngles=149]="localEulerAngles",t[t.up=150]="up",t[t.forward=151]="forward",t[t.right=152]="right",t[t.resolution=153]="resolution",t[t.screenSpace=154]="screenSpace",t[t.skipOnDrop=155]="skipOnDrop",t[t.waitForFirstFrame=156]="waitForFirstFrame",t[t.isPlaying=157]="isPlaying",t[t.isLooping=158]="isLooping",t[t.isPrepared=159]="isPrepared",t[t.isMuted=160]="isMuted",t[t.duration=161]="duration",t[t.time=162]="time"}(h||(h={})),function(t){t[t.Locked=0]="Locked",t[t.Limited=1]="Limited",t[t.Free=2]="Free"}(l||(l={})),function(t){t.KEYBOARD_FOCUS="!kf!",t.KEY_EVENT="!ke!",t.TOUCH_EVENT="!te!",t.CREATE_WINDOW="!cw!",t.RESIZE_WINDOW="!rw!",t.KILL_WINDOW="!kw!",t.SET_NETWORK_ID="!sni!",t.SET_NAME="!sn!",t.REQUEST_ID="!i!",t.RESPONSE_ID="!o!",t.UPDATE="!u!",t.DOM_READY="!dr!",t.LOAD_FAILED="!lf!",t.ONLOAD="!ol!",t.RELOAD="!r!",t.LOG="!l!",t.SCENE_READY="!sr!",t.SCENE_START="!sst!",t.SCENE_SETTINGS="!ss!",t.NOTHING_20S="!no20s!",t.NOTHING="!no!",t.OBJECT_ADDED="!oa!",t.COMPONENT_ADDED="!ca!",t.OBJECT_UPDATE_REQUEST="!our!",t.QUERY_COMPONENTS="!qc!",t.WATCH_PROPERTIES="!wp!",t.SET_PARENT="!sp!",t.COMPONENT_REMOVED="!cr!",t.SET_ACTIVE="!sa!",t.OBJECT_REMOVED="!or!",t.COMPONENT_UPDATED="!cu!",t.INSTANTIATE="!inst!",t.WAIT_FOR_END_OF_FRAME="!weof!",t.CALL_METHOD="!cm!",t.METHOD_RETURN="!mr!",t.RAYCAST="!rc!",t.SET_PUBLIC_SPACE_PROPS="!spsp!",t.SET_PROTECTED_SPACE_PROPS="!sprsp!",t.SET_USER_PROPS="!sup!",t.TELEPORT="!t!",t.ATTACH="!at!",t.DETACH="!dt!",t.LOAD_URL="!lu!",t.TOGGLE_DEV_TOOLS="!tdt!",t.HIDE_DEV_TOOLS="!hdt!",t.ENABLE_LEGACY="!el!",t.SET_LAYER="!sl!",t.OPEN_PAGE="!op!",t.START_TTS="!stts!",t.STOP_TTS="!otts!",t.AI_IMAGE="!aiimg!",t.AI_MODEL="!aiglb!",t.ADD_PLAYER_FORCE="!adpf!",t.BASE_64_TO_CDN="!b64cdn!",t.OBJECT_TEX_TO_BASE_64="!objtob64!",t.SELECT_FILE="!sltglb!",t.GRAVITY="!gv!",t.TIME_SCALE="!ts!",t.PLAYER_SPEED="!ps!",t.DEEP_LINK="!dl!",t.ONE_SHOT="!ons!",t.SEND_MENU_BROWSER_MESSAGE="!smbm!",t.INJECT_JS="!ijs!",t.INJECT_JS_CALLBACK="!ijc!",t.YT_INFO="!yti!",t.LOCK_TELEPORT="!lt!",t.LOCK_SPIDERMAN="!ls!",t.PANEL_ID="!pid!",t.EVENT="!e!",t.LOADED="l!",t.UNITY_LOADED="ulo!",t.CLICKED="c!",t.GRABBED="g!",t.RELEASED="r!",t.BUTTON_PRESSED="bp!",t.BUTTON_RELEASED="br!",t.KEY="k!",t.ONE_SHOT_RECIEVED="on!",t.COLLISION_ENTER="ce!",t.COLLISION_EXIT="cx!",t.COLLISION_STAY="cs!",t.TRIGGER_ENTER="te!",t.TRIGGER_EXIT="tx!",t.TRIGGER_STAY="ts!",t.USER_JOINED="uj!",t.USER_LEFT="ul!",t.USER_STATE_CHANGED="upc!",t.SPACE_STATE_CHANGED="spc!",t.AFRAME_TRIGGER="at!",t.MENU_BROWSER_MESSAGE="mbm!",t.BROWSER_MESSAGE="bm!",t.SEND_TRANSCRIPTION="st!",t.AI_IMAGE_RECV="aiimg!",t.AI_MODEL_RECV="aiglb!",t.BASE_64_TO_CDN_RECV="b64cdn!",t.SELECT_FILE_RECV="sltglb!",t.BANTER_VERSION="bv!",t.SEND_USER="su!",t.FULL_SPACE_STATE="fss!",t.VOICE_STARTED="vs!",t.PLAY_AVATAR="pa!",t.LEGACY="!le",t.LEGACY_SEND_TO_AFRAME="sta!",t.LEGACY_SET_CHILD_COLOR="scc!",t.LEGACY_LOCK_PLAYER="lp!",t.LEGACY_UNLOCK_PLAYER="up!",t.LEGACY_SIT_PLAYER="sp!",t.LEGACY_UNSIT_PLAYER="usp!",t.LEGACY_GORILLA_PLAYER="gp!",t.LEGACY_UNGORILLA_PLAYER="ugp!",t.LEGACY_ENABLE_CONTROLLER_EXTRAS="ece!",t.LEGACY_ENABLE_QUATERNION_POSE="eqp!",t.LEGACY_SET_VIDEO_URL="svu!",t.LEGACY_SET_REFRESH_RATE="srr!",t.LEGACY_SEND_AFRAME_EVENT="sae!",t.LEGACY_PLAY_AVATAR="lpa!",t.LEGACY_REQUEST_OWNERSHIP="ro!",t.LEGACY_RESET_NETWORK_OBJECT="rno!",t.LEGACY_DO_I_OWN="dio!",t.LEGACY_ATTACH_OBJECT="ao!"}(c||(c={})),function(t){t.PRIMARY="¶",t.SECONDARY="§",t.TERTIARY="|",t.BATCH="‽",t.WINDOW="¤",t.REQUEST_ID=":"}(u||(u={}));class p{createDelegate(){this.listeners||(this.listeners=new Map)}On(t,e){this.addEventListener.call(this,t,e)}Off(t,e){this.removeEventListener.call(this,t,e)}addEventListener(t,e){this.createDelegate();var s=this.listeners.get(t);s||(s=new Set,this.listeners.set(t,s)),s.add(e)}dispatchEvent(t){this.createDelegate();var e=this.listeners.get(t.type);if(e)for(const s of e)s(t);return!0}removeEventListener(t,e){this.createDelegate();var s=this.listeners.get(t);s&&(s.delete(e),0===s.size&&this.listeners.delete(t))}removeAllEventListeners(){this.createDelegate(),this.listeners||this.listeners.clear()}}function g(t,e,s){if(t[e])return void(s&&s());const i=(t,e,s)=>{t[e]?s():setTimeout((()=>i(t,e,s)),100)};return s?i(t,e,s):new Promise((s=>i(t,e,s)))}function m(e,s=""){let i="LeftTrigger";switch(e.detail.side){case r.LEFT:switch(e.detail.button){case t.TRIGGER:i="LeftTrigger"+s;break;case t.GRIP:i="LeftGrip"+s;break;case t.PRIMARY:i="LeftPrimary"+s;break;case t.SECONDARY:i="LeftSecondary"+s}break;case r.RIGHT:switch(e.detail.button){case t.TRIGGER:i="RightTrigger"+s;break;case t.GRIP:i="RightGrip"+s;break;case t.PRIMARY:i="RightPrimary"+s;break;case t.SECONDARY:i="RightSecondary"+s}}return i}for(var y,b=[],f=0;f<256;f++)b[f]=(f+256).toString(16).substring(1);function _(){(!y||f+16>4096)&&(4096,y=crypto.getRandomValues(new Uint8Array(4096)),f=0);for(var t,e=0,s="";e<16;e++)t=y[f+e],s+=6==e?b[15&t|64]:8==e?b[63&t|128]:b[t],1&e&&e>1&&e<11&&(s+="-");return f+=16,s}var v=function(t,e,s,i){return new(s||(s=Promise))((function(n,r){function o(t){try{h(i.next(t))}catch(t){r(t)}}function a(t){try{h(i.throw(t))}catch(t){r(t)}}function h(t){var e;t.done?n(t.value):(e=t.value,e instanceof s?e:new s((function(t){t(e)}))).then(o,a)}h((i=i.apply(t,e||[])).next())}))};const S=["reqId","linkId","active","parent","oid","type"];class k extends p{constructor(){super(),this.id=_(),this.scene=te.GetInstance()}Clone(t){t&&Object.keys(t).filter((t=>!S.includes(t))).forEach((e=>{this[e]=t[e]}))}Q(t){return v(this,void 0,void 0,(function*(){yield this.Async();const e=(new jt).Add(this,t);return this.scene.QueryComponents(e)}))}SetProperties(t){return v(this,void 0,void 0,(function*(){yield this.Async();const e=(new jt).Add(this,t);return this.scene.SetComponents(e)}))}Deserialise(t){}Serialise(t){}WatchProperties(t){const e=new Jt;e.id=this.unityId,e.properties=t,this.scene.WatchProperties(e)}Destroy(t=!1){this.scene.RemoveComponent(this,t)}Async(){return v(this,void 0,void 0,(function*(){return yield this.scene.WaitForUnity(this),this}))}}class A extends k{get windowsUrl(){return this._windowsUrl}set windowsUrl(t){this._windowsUrl=t,this.service.SetComponents((new jt).Add(this,[h.windowsUrl]))}get osxUrl(){return this._osxUrl}set osxUrl(t){this._osxUrl=t,this.service.SetComponents((new jt).Add(this,[h.osxUrl]))}get linuxUrl(){return this._linuxUrl}set linuxUrl(t){this._linuxUrl=t,this.service.SetComponents((new jt).Add(this,[h.linuxUrl]))}get androidUrl(){return this._androidUrl}set androidUrl(t){this._androidUrl=t,this.service.SetComponents((new jt).Add(this,[h.androidUrl]))}get iosUrl(){return this._iosUrl}set iosUrl(t){this._iosUrl=t,this.service.SetComponents((new jt).Add(this,[h.iosUrl]))}get vosUrl(){return this._vosUrl}set vosUrl(t){this._vosUrl=t,this.service.SetComponents((new jt).Add(this,[h.vosUrl]))}get isScene(){return this._isScene}set isScene(t){this._isScene=t,this.service.SetComponents((new jt).Add(this,[h.isScene]))}get legacyShaderFix(){return this._legacyShaderFix}set legacyShaderFix(t){this._legacyShaderFix=t,this.service.SetComponents((new jt).Add(this,[h.legacyShaderFix]))}constructor(t=new String,s=new String,i=new String,n=new String,r=new String,o=new String,a=!1,h=!1){super(),this.service=te.GetInstance(),this.type=e.BanterAssetBundle,this._windowsUrl=t,this._osxUrl=s,this._linuxUrl=i,this._androidUrl=n,this._iosUrl=r,this._vosUrl=o,this._isScene=a,this._legacyShaderFix=h}Serialise(t){const e=[];for(let s=0;s<t.length;s++)switch(t[s]){case h.windowsUrl:e.push(t[s]+"§3§"+this._windowsUrl);break;case h.osxUrl:e.push(t[s]+"§3§"+this._osxUrl);break;case h.linuxUrl:e.push(t[s]+"§3§"+this._linuxUrl);break;case h.androidUrl:e.push(t[s]+"§3§"+this._androidUrl);break;case h.iosUrl:e.push(t[s]+"§3§"+this._iosUrl);break;case h.vosUrl:e.push(t[s]+"§3§"+this._vosUrl);break;case h.isScene:e.push(t[s]+"§0§"+(this._isScene?1:0));break;case h.legacyShaderFix:e.push(t[s]+"§0§"+(this._legacyShaderFix?1:0))}return e.join(u.PRIMARY)}Deserialise(t){const e=t.split(u.PRIMARY);for(let t=0;t<e.length;t++){const s=e[t].split(u.SECONDARY);switch(Number(s[0])){case h.windowsUrl:this._windowsUrl=s[2];break;case h.osxUrl:this._osxUrl=s[2];break;case h.linuxUrl:this._linuxUrl=s[2];break;case h.androidUrl:this._androidUrl=s[2];break;case h.iosUrl:this._iosUrl=s[2];break;case h.vosUrl:this._vosUrl=s[2];break;case h.isScene:this._isScene=1==Number(s[2]);break;case h.legacyShaderFix:this._legacyShaderFix=1==Number(s[2])}}}}var w;!function(t){t[t.Bool=0]="Bool",t[t.Int=1]="Int",t[t.Float=2]="Float",t[t.String=3]="String",t[t.Vector2=4]="Vector2",t[t.Vector3=5]="Vector3",t[t.Vector4=6]="Vector4",t[t.Quaternion=7]="Quaternion",t[t.NotSupported=8]="NotSupported"}(w||(w={}));class E{constructor(t=0,e=0){this.x=t,this.y=e}Set(t,e){return this.x=t,this.y=e,this}Add(t){return this.x+=t.x,this.y+=t.y,this}Subtract(t){return this.x-=t.x,this.y-=t.y,this}MultiplyVectors(t){return this.x*=t.x,this.y*=t.y,this}Multiply(t){return this.x*=t,this.y*=t,this}Serialize(){return w.Vector2+u.TERTIARY+this.x+u.TERTIARY+this.y}Deserialize(t){const e=t.split(u.TERTIARY);this.x=Number(e[0]),this.y=Number(e[1])}}class R extends E{constructor(t=0,e=0,s=0){super(t,e),this.z=s}Set(t,e,s){return super.Set(t,e),this.z=s,this}Add(t){return super.Add(t),this.z+=t.z,this}AddNew(t){return new R(this.x+t.x,this.y+t.y,this.z+t.z)}Subtract(t){return super.Subtract(t),this.z-=t.z,this}SubtractNew(t){return new R(this.x-t.x,this.y-t.y,this.z-t.z)}MultiplyVectors(t){return super.MultiplyVectors(t),this.z*=t.z,this}Multiply(t){return super.Multiply(t),this.z*=t,this}MultiplyNew(t){return new R(this.x*t,this.y*t,this.z*t)}Divide(t){return this.Multiply(1/t)}DivideNew(t){return this.MultiplyNew(1/t)}Length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}Normalize(){return this.Divide(this.Length()||1)}NormalizeNew(){return this.DivideNew(this.Length()||1)}Cross(t){return this.CrossVectors(this,t)}CrossVectors(t,e){const s=t.x,i=t.y,n=t.z,r=e.x,o=e.y,a=e.z;return this.x=i*a-n*o,this.y=n*r-s*a,this.z=s*o-i*r,this}Dot(t,e){return t.x*e.x+t.y*e.y+t.z*e.z}ApplyQuaternion(t){const e=this.x,s=this.y,i=this.z,n=t.x,r=t.y,o=t.z,a=t.w,h=2*(r*i-o*s),l=2*(o*e-n*i),c=2*(n*s-r*e);return this.x=e+a*h+r*c-o*l,this.y=s+a*l+o*h-n*c,this.z=i+a*c+n*l-r*h,this}Angle(t){const e=Math.sqrt(this.SqrMagnitude()*t.SqrMagnitude());return 57.29578*Math.acos(Math.min(Math.max(this.Dot(this,t)/e,-1),1))}SignedAngle(t,e){const s=this.Angle(t),i=this.y*t.z-this.z*t.y,n=this.z*t.x-this.x*t.z,r=this.x*t.y-this.y*t.x;return s*Math.sign(e.x*i+e.y*n+e.z*r)}SqrMagnitude(){return this.x*this.x+this.y*this.y+this.z*this.z}Serialize(){return w.Vector3+u.TERTIARY+this.x+u.TERTIARY+this.y+u.TERTIARY+this.z}Deserialize(t){const e=t.split(u.TERTIARY);this.x=Number(e[0]),this.y=Number(e[1]),this.z=Number(e[2])}}class C extends R{constructor(t=0,e=0,s=0,i=1){super(t,e,s),this.w=i}Set(t,e,s,i){return super.Set(t,e),this.z=s,this.w=i,this}Add(t){return super.Add(t),this.w+=t.w,this}MultiplyVectors(t){return super.MultiplyVectors(t),this.w*=t.w,this}Multiply(t){return super.Multiply(t),this.w*=t,this}Serialize(){return w.Vector4+u.TERTIARY+this.x+u.TERTIARY+this.y+u.TERTIARY+this.z+u.TERTIARY+this.w}Deserialize(t){const e=t.split(u.TERTIARY);this.x=Number(e[0]),this.y=Number(e[1]),this.z=Number(e[2]),this.w=Number(e[3])}}const T=Math.PI/180,P=180/Math.PI;class B extends C{SetFromEuler(t){const e=t.x*T,s=t.y*T,i=t.z*T,n=t.order||"ZYX",r=Math.cos,o=Math.sin,a=r(e/2),h=r(s/2),l=r(i/2),c=o(e/2),u=o(s/2),d=o(i/2);switch(n){case"XYZ":this.x=c*h*l+a*u*d,this.y=a*u*l-c*h*d,this.z=a*h*d+c*u*l,this.w=a*h*l-c*u*d;break;case"YXZ":this.x=c*h*l+a*u*d,this.y=a*u*l-c*h*d,this.z=a*h*d-c*u*l,this.w=a*h*l+c*u*d;break;case"ZXY":this.x=c*h*l-a*u*d,this.y=a*u*l+c*h*d,this.z=a*h*d+c*u*l,this.w=a*h*l-c*u*d;break;case"ZYX":this.x=c*h*l-a*u*d,this.y=a*u*l+c*h*d,this.z=a*h*d-c*u*l,this.w=a*h*l+c*u*d;break;case"YZX":this.x=c*h*l+a*u*d,this.y=a*u*l+c*h*d,this.z=a*h*d-c*u*l,this.w=a*h*l-c*u*d;break;case"XZY":this.x=c*h*l-a*u*d,this.y=a*u*l-c*h*d,this.z=a*h*d+c*u*l,this.w=a*h*l+c*u*d;break;default:console.warn("Quaternion: .setFromEuler() encountered an unknown order: "+n)}return this}GetEuler(){const t=this.x,e=this.y,s=this.z,i=this.w,n=Math.atan2(2*(t*e+s*i),1-2*(e*e+s*s)),r=Math.asin(2*(t*s-i*e)),o=Math.atan2(2*(t*i+e*s),1-2*(s*s+i*i));return new R(n*P,r*P,o*P)}}class I extends k{get uid(){return this._uid}set uid(t){this._uid=t,this.service.SetComponents((new jt).Add(this,[h.uid]))}get attachmentPosition(){return this._attachmentPosition}set attachmentPosition(t){this._attachmentPosition=t,this.service.SetComponents((new jt).Add(this,[h.attachmentPosition]))}get attachmentRotation(){return this._attachmentRotation}set attachmentRotation(t){this._attachmentRotation=t,this.service.SetComponents((new jt).Add(this,[h.attachmentRotation]))}get attachmentType(){return this._attachmentType}set attachmentType(t){this._attachmentType=t,this.service.SetComponents((new jt).Add(this,[h.attachmentType]))}get avatarAttachmentType(){return this._avatarAttachmentType}set avatarAttachmentType(t){this._avatarAttachmentType=t,this.service.SetComponents((new jt).Add(this,[h.avatarAttachmentType]))}get avatarAttachmentPoint(){return this._avatarAttachmentPoint}set avatarAttachmentPoint(t){this._avatarAttachmentPoint=t,this.service.SetComponents((new jt).Add(this,[h.avatarAttachmentPoint]))}get attachmentPoint(){return this._attachmentPoint}set attachmentPoint(t){this._attachmentPoint=t,this.service.SetComponents((new jt).Add(this,[h.attachmentPoint]))}get autoSync(){return this._autoSync}set autoSync(t){this._autoSync=t,this.service.SetComponents((new jt).Add(this,[h.autoSync]))}get jointAvatar(){return this._jointAvatar}set jointAvatar(t){this._jointAvatar=t,this.service.SetComponents((new jt).Add(this,[h.jointAvatar]))}constructor(t=new String,s=new R(0,0,0),i=new B(0,0,0,1),n=0,r=0,o=0,a=0,h=!1,l=!0){super(),this.service=te.GetInstance(),this.type=e.BanterAttachedObject,this._uid=t,this._attachmentPosition=s,this._attachmentRotation=i,this._attachmentType=n,this._avatarAttachmentType=r,this._avatarAttachmentPoint=o,this._attachmentPoint=a,this._autoSync=h,this._jointAvatar=l}Attach(t){this.service.CallMethod(this,"Attach",["3|"+t])}Detach(t){this.service.CallMethod(this,"Detach",["3|"+t])}Serialise(t){const e=[];for(let s=0;s<t.length;s++)switch(t[s]){case h.uid:e.push(t[s]+"§3§"+this._uid);break;case h.attachmentPosition:e.push(t[s]+"§5§"+this._attachmentPosition.x+"§"+this._attachmentPosition.y+"§"+this._attachmentPosition.z);break;case h.attachmentRotation:e.push(t[s]+"§7§"+this._attachmentRotation.x+"§"+this._attachmentRotation.y+"§"+this._attachmentRotation.z+"§"+this._attachmentRotation.w);break;case h.attachmentType:e.push(t[s]+"§1§"+this._attachmentType);break;case h.avatarAttachmentType:e.push(t[s]+"§1§"+this._avatarAttachmentType);break;case h.avatarAttachmentPoint:e.push(t[s]+"§1§"+this._avatarAttachmentPoint);break;case h.attachmentPoint:e.push(t[s]+"§1§"+this._attachmentPoint);break;case h.autoSync:e.push(t[s]+"§0§"+(this._autoSync?1:0));break;case h.jointAvatar:e.push(t[s]+"§0§"+(this._jointAvatar?1:0))}return e.join(u.PRIMARY)}Deserialise(t){const e=t.split(u.PRIMARY);for(let t=0;t<e.length;t++){const s=e[t].split(u.SECONDARY);switch(Number(s[0])){case h.uid:this._uid=s[2];break;case h.attachmentPosition:this._attachmentPosition=new R(Number(s[2]),Number(s[3]),Number(s[4]));break;case h.attachmentRotation:this._attachmentRotation=new B(Number(s[2]),Number(s[3]),Number(s[4]),Number(s[5]));break;case h.attachmentType:this._attachmentType=Number(s[2]);break;case h.avatarAttachmentType:this._avatarAttachmentType=Number(s[2]);break;case h.avatarAttachmentPoint:this._avatarAttachmentPoint=Number(s[2]);break;case h.attachmentPoint:this._attachmentPoint=Number(s[2]);break;case h.autoSync:this._autoSync=1==Number(s[2]);break;case h.jointAvatar:this._jointAvatar=1==Number(s[2])}}}}class x extends k{get volume(){return this._volume}set volume(t){this._volume=t,this.service.SetComponents((new jt).Add(this,[h.volume]))}get pitch(){return this._pitch}set pitch(t){this._pitch=t,this.service.SetComponents((new jt).Add(this,[h.pitch]))}get mute(){return this._mute}set mute(t){this._mute=t,this.service.SetComponents((new jt).Add(this,[h.mute]))}get loop(){return this._loop}set loop(t){this._loop=t,this.service.SetComponents((new jt).Add(this,[h.loop]))}get bypassEffects(){return this._bypassEffects}set bypassEffects(t){this._bypassEffects=t,this.service.SetComponents((new jt).Add(this,[h.bypassEffects]))}get bypassListenerEffects(){return this._bypassListenerEffects}set bypassListenerEffects(t){this._bypassListenerEffects=t,this.service.SetComponents((new jt).Add(this,[h.bypassListenerEffects]))}get bypassReverbZones(){return this._bypassReverbZones}set bypassReverbZones(t){this._bypassReverbZones=t,this.service.SetComponents((new jt).Add(this,[h.bypassReverbZones]))}get playOnAwake(){return this._playOnAwake}set playOnAwake(t){this._playOnAwake=t,this.service.SetComponents((new jt).Add(this,[h.playOnAwake]))}get spatialBlend(){return this._spatialBlend}set spatialBlend(t){this._spatialBlend=t,this.service.SetComponents((new jt).Add(this,[h.spatialBlend]))}constructor(t=1,s=1,i=!1,n=!1,r=!1,o=!1,a=!1,h=!0,l=0){super(),this.service=te.GetInstance(),this.type=e.BanterAudioSource,this._volume=t,this._pitch=s,this._mute=i,this._loop=n,this._bypassEffects=r,this._bypassListenerEffects=o,this._bypassReverbZones=a,this._playOnAwake=h,this._spatialBlend=l}PlayOneShot(t){this.service.CallMethod(this,"PlayOneShot",["1|"+t])}PlayOneShotFromUrl(t){this.service.CallMethod(this,"PlayOneShotFromUrl",["3|"+t])}Play(){this.service.CallMethod(this,"Play",[])}Serialise(t){const e=[];for(let s=0;s<t.length;s++)switch(t[s]){case h.volume:e.push(t[s]+"§2§"+this._volume);break;case h.pitch:e.push(t[s]+"§2§"+this._pitch);break;case h.mute:e.push(t[s]+"§0§"+(this._mute?1:0));break;case h.loop:e.push(t[s]+"§0§"+(this._loop?1:0));break;case h.bypassEffects:e.push(t[s]+"§0§"+(this._bypassEffects?1:0));break;case h.bypassListenerEffects:e.push(t[s]+"§0§"+(this._bypassListenerEffects?1:0));break;case h.bypassReverbZones:e.push(t[s]+"§0§"+(this._bypassReverbZones?1:0));break;case h.playOnAwake:e.push(t[s]+"§0§"+(this._playOnAwake?1:0));break;case h.spatialBlend:e.push(t[s]+"§2§"+this._spatialBlend)}return e.join(u.PRIMARY)}Deserialise(t){const e=t.split(u.PRIMARY);for(let t=0;t<e.length;t++){const s=e[t].split(u.SECONDARY);switch(Number(s[0])){case h.volume:this._volume=Number(s[2]);break;case h.pitch:this._pitch=Number(s[2]);break;case h.mute:this._mute=1==Number(s[2]);break;case h.loop:this._loop=1==Number(s[2]);break;case h.bypassEffects:this._bypassEffects=1==Number(s[2]);break;case h.bypassListenerEffects:this._bypassListenerEffects=1==Number(s[2]);break;case h.bypassReverbZones:this._bypassReverbZones=1==Number(s[2]);break;case h.playOnAwake:this._playOnAwake=1==Number(s[2]);break;case h.spatialBlend:this._spatialBlend=Number(s[2])}}}}class M extends k{get smoothing(){return this._smoothing}set smoothing(t){this._smoothing=t,this.service.SetComponents((new jt).Add(this,[h.smoothing]))}get enableXAxis(){return this._enableXAxis}set enableXAxis(t){this._enableXAxis=t,this.service.SetComponents((new jt).Add(this,[h.enableXAxis]))}get enableYAxis(){return this._enableYAxis}set enableYAxis(t){this._enableYAxis=t,this.service.SetComponents((new jt).Add(this,[h.enableYAxis]))}get enableZAxis(){return this._enableZAxis}set enableZAxis(t){this._enableZAxis=t,this.service.SetComponents((new jt).Add(this,[h.enableZAxis]))}constructor(t=0,s=!0,i=!0,n=!0){super(),this.service=te.GetInstance(),this.type=e.BanterBillboard,this._smoothing=t,this._enableXAxis=s,this._enableYAxis=i,this._enableZAxis=n}Serialise(t){const e=[];for(let s=0;s<t.length;s++)switch(t[s]){case h.smoothing:e.push(t[s]+"§2§"+this._smoothing);break;case h.enableXAxis:e.push(t[s]+"§0§"+(this._enableXAxis?1:0));break;case h.enableYAxis:e.push(t[s]+"§0§"+(this._enableYAxis?1:0));break;case h.enableZAxis:e.push(t[s]+"§0§"+(this._enableZAxis?1:0))}return e.join(u.PRIMARY)}Deserialise(t){const e=t.split(u.PRIMARY);for(let t=0;t<e.length;t++){const s=e[t].split(u.SECONDARY);switch(Number(s[0])){case h.smoothing:this._smoothing=Number(s[2]);break;case h.enableXAxis:this._enableXAxis=1==Number(s[2]);break;case h.enableYAxis:this._enableYAxis=1==Number(s[2]);break;case h.enableZAxis:this._enableZAxis=1==Number(s[2])}}}}class N extends k{get width(){return this._width}set width(t){this._width=t,this.service.SetComponents((new jt).Add(this,[h.width]))}get height(){return this._height}set height(t){this._height=t,this.service.SetComponents((new jt).Add(this,[h.height]))}get depth(){return this._depth}set depth(t){this._depth=t,this.service.SetComponents((new jt).Add(this,[h.depth]))}get widthSegments(){return this._widthSegments}set widthSegments(t){this._widthSegments=t,this.service.SetComponents((new jt).Add(this,[h.widthSegments]))}get heightSegments(){return this._heightSegments}set heightSegments(t){this._heightSegments=t,this.service.SetComponents((new jt).Add(this,[h.heightSegments]))}get depthSegments(){return this._depthSegments}set depthSegments(t){this._depthSegments=t,this.service.SetComponents((new jt).Add(this,[h.depthSegments]))}constructor(t=1,s=1,i=1,n=1,r=1,o=1){super(),this.service=te.GetInstance(),this.type=e.BanterBox,this._width=t,this._height=s,this._depth=i,this._widthSegments=n,this._heightSegments=r,this._depthSegments=o}Serialise(t){const e=[];for(let s=0;s<t.length;s++)switch(t[s]){case h.width:e.push(t[s]+"§2§"+this._width);break;case h.height:e.push(t[s]+"§2§"+this._height);break;case h.depth:e.push(t[s]+"§2§"+this._depth);break;case h.widthSegments:e.push(t[s]+"§1§"+this._widthSegments);break;case h.heightSegments:e.push(t[s]+"§1§"+this._heightSegments);break;case h.depthSegments:e.push(t[s]+"§1§"+this._depthSegments)}return e.join(u.PRIMARY)}Deserialise(t){const e=t.split(u.PRIMARY);for(let t=0;t<e.length;t++){const s=e[t].split(u.SECONDARY);switch(Number(s[0])){case h.width:this._width=Number(s[2]);break;case h.height:this._height=Number(s[2]);break;case h.depth:this._depth=Number(s[2]);break;case h.widthSegments:this._widthSegments=Number(s[2]);break;case h.heightSegments:this._heightSegments=Number(s[2]);break;case h.depthSegments:this._depthSegments=Number(s[2])}}}}class L extends k{get isTrigger(){return this._isTrigger}set isTrigger(t){this._isTrigger=t,this.service.SetComponents((new jt).Add(this,[h.isTrigger]))}get center(){return this._center}set center(t){this._center=t,this.service.SetComponents((new jt).Add(this,[h.center]))}get size(){return this._size}set size(t){this._size=t,this.service.SetComponents((new jt).Add(this,[h.size]))}constructor(t=!1,s=new R(0,0,0),i=new R(1,1,1)){super(),this.service=te.GetInstance(),this.type=e.BoxCollider,this._isTrigger=t,this._center=s,this._size=i}Serialise(t){const e=[];for(let s=0;s<t.length;s++)switch(t[s]){case h.isTrigger:e.push(t[s]+"§0§"+(this._isTrigger?1:0));break;case h.center:e.push(t[s]+"§5§"+this._center.x+"§"+this._center.y+"§"+this._center.z);break;case h.size:e.push(t[s]+"§5§"+this._size.x+"§"+this._size.y+"§"+this._size.z)}return e.join(u.PRIMARY)}Deserialise(t){const e=t.split(u.PRIMARY);for(let t=0;t<e.length;t++){const s=e[t].split(u.SECONDARY);switch(Number(s[0])){case h.isTrigger:this._isTrigger=1==Number(s[2]);break;case h.center:this._center=new R(Number(s[2]),Number(s[3]),Number(s[4]));break;case h.size:this._size=new R(Number(s[2]),Number(s[3]),Number(s[4]))}}}}class O extends k{get url(){return this._url}set url(t){this._url=t,this.service.SetComponents((new jt).Add(this,[h.url]))}get mipMaps(){return this._mipMaps}set mipMaps(t){this._mipMaps=t,this.service.SetComponents((new jt).Add(this,[h.mipMaps]))}get pixelsPerUnit(){return this._pixelsPerUnit}set pixelsPerUnit(t){this._pixelsPerUnit=t,this.service.SetComponents((new jt).Add(this,[h.pixelsPerUnit]))}get pageWidth(){return this._pageWidth}set pageWidth(t){this._pageWidth=t,this.service.SetComponents((new jt).Add(this,[h.pageWidth]))}get pageHeight(){return this._pageHeight}set pageHeight(t){this._pageHeight=t,this.service.SetComponents((new jt).Add(this,[h.pageHeight]))}get actions(){return this._actions}set actions(t){this._actions=t,this.service.SetComponents((new jt).Add(this,[h.actions]))}constructor(t=new String,s=4,i=1200,n=1024,r=576,o=new String){super(),this.service=te.GetInstance(),this.type=e.BanterBrowser,this._url=t,this._mipMaps=s,this._pixelsPerUnit=i,this._pageWidth=n,this._pageHeight=r,this._actions=o}ToggleInteraction(t){this.service.CallMethod(this,"ToggleInteraction",["0|"+(t?1:0)])}ToggleKeyboard(t){this.service.CallMethod(this,"ToggleKeyboard",["0|"+(t?1:0)])}RunActions(t){this.service.CallMethod(this,"RunActions",["3|"+t])}Serialise(t){const e=[];for(let s=0;s<t.length;s++)switch(t[s]){case h.url:e.push(t[s]+"§3§"+this._url);break;case h.mipMaps:e.push(t[s]+"§1§"+this._mipMaps);break;case h.pixelsPerUnit:e.push(t[s]+"§2§"+this._pixelsPerUnit);break;case h.pageWidth:e.push(t[s]+"§2§"+this._pageWidth);break;case h.pageHeight:e.push(t[s]+"§2§"+this._pageHeight);break;case h.actions:e.push(t[s]+"§3§"+this._actions)}return e.join(u.PRIMARY)}Deserialise(t){const e=t.split(u.PRIMARY);for(let t=0;t<e.length;t++){const s=e[t].split(u.SECONDARY);switch(Number(s[0])){case h.url:this._url=s[2];break;case h.mipMaps:this._mipMaps=Number(s[2]);break;case h.pixelsPerUnit:this._pixelsPerUnit=Number(s[2]);break;case h.pageWidth:this._pageWidth=Number(s[2]);break;case h.pageHeight:this._pageHeight=Number(s[2]);break;case h.actions:this._actions=s[2]}}}}class D extends k{get isTrigger(){return this._isTrigger}set isTrigger(t){this._isTrigger=t,this.service.SetComponents((new jt).Add(this,[h.isTrigger]))}get radius(){return this._radius}set radius(t){this._radius=t,this.service.SetComponents((new jt).Add(this,[h.radius]))}get height(){return this._height}set height(t){this._height=t,this.service.SetComponents((new jt).Add(this,[h.height]))}constructor(t=!1,s=.5,i=2){super(),this.service=te.GetInstance(),this.type=e.CapsuleCollider,this._isTrigger=t,this._radius=s,this._height=i}Serialise(t){const e=[];for(let s=0;s<t.length;s++)switch(t[s]){case h.isTrigger:e.push(t[s]+"§0§"+(this._isTrigger?1:0));break;case h.radius:e.push(t[s]+"§2§"+this._radius);break;case h.height:e.push(t[s]+"§2§"+this._height)}return e.join(u.PRIMARY)}Deserialise(t){const e=t.split(u.PRIMARY);for(let t=0;t<e.length;t++){const s=e[t].split(u.SECONDARY);switch(Number(s[0])){case h.isTrigger:this._isTrigger=1==Number(s[2]);break;case h.radius:this._radius=Number(s[2]);break;case h.height:this._height=Number(s[2])}}}}class Y extends k{get radius(){return this._radius}set radius(t){this._radius=t,this.service.SetComponents((new jt).Add(this,[h.radius]))}get segments(){return this._segments}set segments(t){this._segments=t,this.service.SetComponents((new jt).Add(this,[h.segments]))}get thetaStart(){return this._thetaStart}set thetaStart(t){this._thetaStart=t,this.service.SetComponents((new jt).Add(this,[h.thetaStart]))}get thetaLength(){return this._thetaLength}set thetaLength(t){this._thetaLength=t,this.service.SetComponents((new jt).Add(this,[h.thetaLength]))}constructor(t=1,s=1,i=0,n=2*Math.PI){super(),this.service=te.GetInstance(),this.type=e.BanterCircle,this._radius=t,this._segments=s,this._thetaStart=i,this._thetaLength=n}Serialise(t){const e=[];for(let s=0;s<t.length;s++)switch(t[s]){case h.radius:e.push(t[s]+"§2§"+this._radius);break;case h.segments:e.push(t[s]+"§1§"+this._segments);break;case h.thetaStart:e.push(t[s]+"§2§"+this._thetaStart);break;case h.thetaLength:e.push(t[s]+"§2§"+this._thetaLength)}return e.join(u.PRIMARY)}Deserialise(t){const e=t.split(u.PRIMARY);for(let t=0;t<e.length;t++){const s=e[t].split(u.SECONDARY);switch(Number(s[0])){case h.radius:this._radius=Number(s[2]);break;case h.segments:this._segments=Number(s[2]);break;case h.thetaStart:this._thetaStart=Number(s[2]);break;case h.thetaLength:this._thetaLength=Number(s[2])}}}}class U extends k{constructor(){super(),this.service=te.GetInstance(),this.type=e.BanterColliderEvents}Serialise(t){for(let e=0;e<t.length;e++)t[e];return[].join(u.PRIMARY)}Deserialise(t){const e=t.split(u.PRIMARY);for(let t=0;t<e.length;t++){const s=e[t].split(u.SECONDARY);Number(s[0])}}}class j extends k{get radius(){return this._radius}set radius(t){this._radius=t,this.service.SetComponents((new jt).Add(this,[h.radius]))}get height(){return this._height}set height(t){this._height=t,this.service.SetComponents((new jt).Add(this,[h.height]))}get radialSegments(){return this._radialSegments}set radialSegments(t){this._radialSegments=t,this.service.SetComponents((new jt).Add(this,[h.radialSegments]))}get heightSegments(){return this._heightSegments}set heightSegments(t){this._heightSegments=t,this.service.SetComponents((new jt).Add(this,[h.heightSegments]))}get openEnded(){return this._openEnded}set openEnded(t){this._openEnded=t,this.service.SetComponents((new jt).Add(this,[h.openEnded]))}get thetaStart(){return this._thetaStart}set thetaStart(t){this._thetaStart=t,this.service.SetComponents((new jt).Add(this,[h.thetaStart]))}get thetaLength(){return this._thetaLength}set thetaLength(t){this._thetaLength=t,this.service.SetComponents((new jt).Add(this,[h.thetaLength]))}constructor(t=1,s=1,i=32,n=1,r=!1,o=0,a=2*Math.PI){super(),this.service=te.GetInstance(),this.type=e.BanterCone,this._radius=t,this._height=s,this._radialSegments=i,this._heightSegments=n,this._openEnded=r,this._thetaStart=o,this._thetaLength=a}Serialise(t){const e=[];for(let s=0;s<t.length;s++)switch(t[s]){case h.radius:e.push(t[s]+"§2§"+this._radius);break;case h.height:e.push(t[s]+"§2§"+this._height);break;case h.radialSegments:e.push(t[s]+"§1§"+this._radialSegments);break;case h.heightSegments:e.push(t[s]+"§1§"+this._heightSegments);break;case h.openEnded:e.push(t[s]+"§0§"+(this._openEnded?1:0));break;case h.thetaStart:e.push(t[s]+"§2§"+this._thetaStart);break;case h.thetaLength:e.push(t[s]+"§2§"+this._thetaLength)}return e.join(u.PRIMARY)}Deserialise(t){const e=t.split(u.PRIMARY);for(let t=0;t<e.length;t++){const s=e[t].split(u.SECONDARY);switch(Number(s[0])){case h.radius:this._radius=Number(s[2]);break;case h.height:this._height=Number(s[2]);break;case h.radialSegments:this._radialSegments=Number(s[2]);break;case h.heightSegments:this._heightSegments=Number(s[2]);break;case h.openEnded:this._openEnded=1==Number(s[2]);break;case h.thetaStart:this._thetaStart=Number(s[2]);break;case h.thetaLength:this._thetaLength=Number(s[2])}}}}class J extends k{get targetPosition(){return this._targetPosition}set targetPosition(t){this._targetPosition=t,this.service.SetComponents((new jt).Add(this,[h.targetPosition]))}get autoConfigureConnectedAnchor(){return this._autoConfigureConnectedAnchor}set autoConfigureConnectedAnchor(t){this._autoConfigureConnectedAnchor=t,this.service.SetComponents((new jt).Add(this,[h.autoConfigureConnectedAnchor]))}get xMotion(){return this._xMotion}set xMotion(t){this._xMotion=t,this.service.SetComponents((new jt).Add(this,[h.xMotion]))}get yMotion(){return this._yMotion}set yMotion(t){this._yMotion=t,this.service.SetComponents((new jt).Add(this,[h.yMotion]))}get zMotion(){return this._zMotion}set zMotion(t){this._zMotion=t,this.service.SetComponents((new jt).Add(this,[h.zMotion]))}constructor(t=new R(0,0,0),s=!1,i=0,n=0,r=0){super(),this.service=te.GetInstance(),this.type=e.ConfigurableJoint,this._targetPosition=t,this._autoConfigureConnectedAnchor=s,this._xMotion=i,this._yMotion=n,this._zMotion=r}Serialise(t){const e=[];for(let s=0;s<t.length;s++)switch(t[s]){case h.targetPosition:e.push(t[s]+"§5§"+this._targetPosition.x+"§"+this._targetPosition.y+"§"+this._targetPosition.z);break;case h.autoConfigureConnectedAnchor:e.push(t[s]+"§0§"+(this._autoConfigureConnectedAnchor?1:0));break;case h.xMotion:e.push(t[s]+"§1§"+this._xMotion);break;case h.yMotion:e.push(t[s]+"§1§"+this._yMotion);break;case h.zMotion:e.push(t[s]+"§1§"+this._zMotion)}return e.join(u.PRIMARY)}Deserialise(t){const e=t.split(u.PRIMARY);for(let t=0;t<e.length;t++){const s=e[t].split(u.SECONDARY);switch(Number(s[0])){case h.targetPosition:this._targetPosition=new R(Number(s[2]),Number(s[3]),Number(s[4]));break;case h.autoConfigureConnectedAnchor:this._autoConfigureConnectedAnchor=1==Number(s[2]);break;case h.xMotion:this._xMotion=Number(s[2]);break;case h.yMotion:this._yMotion=Number(s[2]);break;case h.zMotion:this._zMotion=Number(s[2])}}}}class F extends k{get topRadius(){return this._topRadius}set topRadius(t){this._topRadius=t,this.service.SetComponents((new jt).Add(this,[h.topRadius]))}get bottomRadius(){return this._bottomRadius}set bottomRadius(t){this._bottomRadius=t,this.service.SetComponents((new jt).Add(this,[h.bottomRadius]))}get height(){return this._height}set height(t){this._height=t,this.service.SetComponents((new jt).Add(this,[h.height]))}get radialSegments(){return this._radialSegments}set radialSegments(t){this._radialSegments=t,this.service.SetComponents((new jt).Add(this,[h.radialSegments]))}get heightSegments(){return this._heightSegments}set heightSegments(t){this._heightSegments=t,this.service.SetComponents((new jt).Add(this,[h.heightSegments]))}get openEnded(){return this._openEnded}set openEnded(t){this._openEnded=t,this.service.SetComponents((new jt).Add(this,[h.openEnded]))}get thetaStart(){return this._thetaStart}set thetaStart(t){this._thetaStart=t,this.service.SetComponents((new jt).Add(this,[h.thetaStart]))}get thetaLength(){return this._thetaLength}set thetaLength(t){this._thetaLength=t,this.service.SetComponents((new jt).Add(this,[h.thetaLength]))}constructor(t=1,s=1,i=1,n=32,r=1,o=!1,a=0,h=2*Math.PI){super(),this.service=te.GetInstance(),this.type=e.BanterCylinder,this._topRadius=t,this._bottomRadius=s,this._height=i,this._radialSegments=n,this._heightSegments=r,this._openEnded=o,this._thetaStart=a,this._thetaLength=h}Serialise(t){const e=[];for(let s=0;s<t.length;s++)switch(t[s]){case h.topRadius:e.push(t[s]+"§2§"+this._topRadius);break;case h.bottomRadius:e.push(t[s]+"§2§"+this._bottomRadius);break;case h.height:e.push(t[s]+"§2§"+this._height);break;case h.radialSegments:e.push(t[s]+"§1§"+this._radialSegments);break;case h.heightSegments:e.push(t[s]+"§1§"+this._heightSegments);break;case h.openEnded:e.push(t[s]+"§0§"+(this._openEnded?1:0));break;case h.thetaStart:e.push(t[s]+"§2§"+this._thetaStart);break;case h.thetaLength:e.push(t[s]+"§2§"+this._thetaLength)}return e.join(u.PRIMARY)}Deserialise(t){const e=t.split(u.PRIMARY);for(let t=0;t<e.length;t++){const s=e[t].split(u.SECONDARY);switch(Number(s[0])){case h.topRadius:this._topRadius=Number(s[2]);break;case h.bottomRadius:this._bottomRadius=Number(s[2]);break;case h.height:this._height=Number(s[2]);break;case h.radialSegments:this._radialSegments=Number(s[2]);break;case h.heightSegments:this._heightSegments=Number(s[2]);break;case h.openEnded:this._openEnded=1==Number(s[2]);break;case h.thetaStart:this._thetaStart=Number(s[2]);break;case h.thetaLength:this._thetaLength=Number(s[2])}}}}class z extends k{get geometryType(){return this._geometryType}set geometryType(t){this._geometryType=t,this.service.SetComponents((new jt).Add(this,[h.geometryType]))}get parametricType(){return this._parametricType}set parametricType(t){this._parametricType=t,this.service.SetComponents((new jt).Add(this,[h.parametricType]))}get width(){return this._width}set width(t){this._width=t,this.service.SetComponents((new jt).Add(this,[h.width]))}get height(){return this._height}set height(t){this._height=t,this.service.SetComponents((new jt).Add(this,[h.height]))}get depth(){return this._depth}set depth(t){this._depth=t,this.service.SetComponents((new jt).Add(this,[h.depth]))}get widthSegments(){return this._widthSegments}set widthSegments(t){this._widthSegments=t,this.service.SetComponents((new jt).Add(this,[h.widthSegments]))}get heightSegments(){return this._heightSegments}set heightSegments(t){this._heightSegments=t,this.service.SetComponents((new jt).Add(this,[h.heightSegments]))}get depthSegments(){return this._depthSegments}set depthSegments(t){this._depthSegments=t,this.service.SetComponents((new jt).Add(this,[h.depthSegments]))}get radius(){return this._radius}set radius(t){this._radius=t,this.service.SetComponents((new jt).Add(this,[h.radius]))}get segments(){return this._segments}set segments(t){this._segments=t,this.service.SetComponents((new jt).Add(this,[h.segments]))}get thetaStart(){return this._thetaStart}set thetaStart(t){this._thetaStart=t,this.service.SetComponents((new jt).Add(this,[h.thetaStart]))}get thetaLength(){return this._thetaLength}set thetaLength(t){this._thetaLength=t,this.service.SetComponents((new jt).Add(this,[h.thetaLength]))}get phiStart(){return this._phiStart}set phiStart(t){this._phiStart=t,this.service.SetComponents((new jt).Add(this,[h.phiStart]))}get phiLength(){return this._phiLength}set phiLength(t){this._phiLength=t,this.service.SetComponents((new jt).Add(this,[h.phiLength]))}get radialSegments(){return this._radialSegments}set radialSegments(t){this._radialSegments=t,this.service.SetComponents((new jt).Add(this,[h.radialSegments]))}get openEnded(){return this._openEnded}set openEnded(t){this._openEnded=t,this.service.SetComponents((new jt).Add(this,[h.openEnded]))}get radiusTop(){return this._radiusTop}set radiusTop(t){this._radiusTop=t,this.service.SetComponents((new jt).Add(this,[h.radiusTop]))}get radiusBottom(){return this._radiusBottom}set radiusBottom(t){this._radiusBottom=t,this.service.SetComponents((new jt).Add(this,[h.radiusBottom]))}get innerRadius(){return this._innerRadius}set innerRadius(t){this._innerRadius=t,this.service.SetComponents((new jt).Add(this,[h.innerRadius]))}get outerRadius(){return this._outerRadius}set outerRadius(t){this._outerRadius=t,this.service.SetComponents((new jt).Add(this,[h.outerRadius]))}get thetaSegments(){return this._thetaSegments}set thetaSegments(t){this._thetaSegments=t,this.service.SetComponents((new jt).Add(this,[h.thetaSegments]))}get phiSegments(){return this._phiSegments}set phiSegments(t){this._phiSegments=t,this.service.SetComponents((new jt).Add(this,[h.phiSegments]))}get tube(){return this._tube}set tube(t){this._tube=t,this.service.SetComponents((new jt).Add(this,[h.tube]))}get tubularSegments(){return this._tubularSegments}set tubularSegments(t){this._tubularSegments=t,this.service.SetComponents((new jt).Add(this,[h.tubularSegments]))}get arc(){return this._arc}set arc(t){this._arc=t,this.service.SetComponents((new jt).Add(this,[h.arc]))}get p(){return this._p}set p(t){this._p=t,this.service.SetComponents((new jt).Add(this,[h.p]))}get q(){return this._q}set q(t){this._q=t,this.service.SetComponents((new jt).Add(this,[h.q]))}get stacks(){return this._stacks}set stacks(t){this._stacks=t,this.service.SetComponents((new jt).Add(this,[h.stacks]))}get slices(){return this._slices}set slices(t){this._slices=t,this.service.SetComponents((new jt).Add(this,[h.slices]))}get detail(){return this._detail}set detail(t){this._detail=t,this.service.SetComponents((new jt).Add(this,[h.detail]))}get parametricPoints(){return this._parametricPoints}set parametricPoints(t){this._parametricPoints=t,this.service.SetComponents((new jt).Add(this,[h.parametricPoints]))}constructor(t=0,s=0,i=1,n=1,r=1,o=1,a=1,h=1,l=1,c=24,u=0,d=6.283185,p=0,g=6.283185,m=8,y=!1,b=1,f=1,_=.3,v=1,S=24,k=8,A=.4,w=16,E=6.283185,R=2,C=3,T=5,P=5,B=0,I=new String){super(),this.service=te.GetInstance(),this.type=e.BanterGeometry,this._geometryType=t,this._parametricType=s,this._width=i,this._height=n,this._depth=r,this._widthSegments=o,this._heightSegments=a,this._depthSegments=h,this._radius=l,this._segments=c,this._thetaStart=u,this._thetaLength=d,this._phiStart=p,this._phiLength=g,this._radialSegments=m,this._openEnded=y,this._radiusTop=b,this._radiusBottom=f,this._innerRadius=_,this._outerRadius=v,this._thetaSegments=S,this._phiSegments=k,this._tube=A,this._tubularSegments=w,this._arc=E,this._p=R,this._q=C,this._stacks=T,this._slices=P,this._detail=B,this._parametricPoints=I}Serialise(t){const e=[];for(let s=0;s<t.length;s++)switch(t[s]){case h.geometryType:e.push(t[s]+"§1§"+this._geometryType);break;case h.parametricType:e.push(t[s]+"§1§"+this._parametricType);break;case h.width:e.push(t[s]+"§2§"+this._width);break;case h.height:e.push(t[s]+"§2§"+this._height);break;case h.depth:e.push(t[s]+"§2§"+this._depth);break;case h.widthSegments:e.push(t[s]+"§1§"+this._widthSegments);break;case h.heightSegments:e.push(t[s]+"§1§"+this._heightSegments);break;case h.depthSegments:e.push(t[s]+"§1§"+this._depthSegments);break;case h.radius:e.push(t[s]+"§2§"+this._radius);break;case h.segments:e.push(t[s]+"§1§"+this._segments);break;case h.thetaStart:e.push(t[s]+"§2§"+this._thetaStart);break;case h.thetaLength:e.push(t[s]+"§2§"+this._thetaLength);break;case h.phiStart:e.push(t[s]+"§2§"+this._phiStart);break;case h.phiLength:e.push(t[s]+"§2§"+this._phiLength);break;case h.radialSegments:e.push(t[s]+"§1§"+this._radialSegments);break;case h.openEnded:e.push(t[s]+"§0§"+(this._openEnded?1:0));break;case h.radiusTop:e.push(t[s]+"§2§"+this._radiusTop);break;case h.radiusBottom:e.push(t[s]+"§2§"+this._radiusBottom);break;case h.innerRadius:e.push(t[s]+"§2§"+this._innerRadius);break;case h.outerRadius:e.push(t[s]+"§2§"+this._outerRadius);break;case h.thetaSegments:e.push(t[s]+"§1§"+this._thetaSegments);break;case h.phiSegments:e.push(t[s]+"§1§"+this._phiSegments);break;case h.tube:e.push(t[s]+"§2§"+this._tube);break;case h.tubularSegments:e.push(t[s]+"§1§"+this._tubularSegments);break;case h.arc:e.push(t[s]+"§2§"+this._arc);break;case h.p:e.push(t[s]+"§1§"+this._p);break;case h.q:e.push(t[s]+"§1§"+this._q);break;case h.stacks:e.push(t[s]+"§1§"+this._stacks);break;case h.slices:e.push(t[s]+"§1§"+this._slices);break;case h.detail:e.push(t[s]+"§2§"+this._detail);break;case h.parametricPoints:e.push(t[s]+"§3§"+this._parametricPoints)}return e.join(u.PRIMARY)}Deserialise(t){const e=t.split(u.PRIMARY);for(let t=0;t<e.length;t++){const s=e[t].split(u.SECONDARY);switch(Number(s[0])){case h.geometryType:this._geometryType=Number(s[2]);break;case h.parametricType:this._parametricType=Number(s[2]);break;case h.width:this._width=Number(s[2]);break;case h.height:this._height=Number(s[2]);break;case h.depth:this._depth=Number(s[2]);break;case h.widthSegments:this._widthSegments=Number(s[2]);break;case h.heightSegments:this._heightSegments=Number(s[2]);break;case h.depthSegments:this._depthSegments=Number(s[2]);break;case h.radius:this._radius=Number(s[2]);break;case h.segments:this._segments=Number(s[2]);break;case h.thetaStart:this._thetaStart=Number(s[2]);break;case h.thetaLength:this._thetaLength=Number(s[2]);break;case h.phiStart:this._phiStart=Number(s[2]);break;case h.phiLength:this._phiLength=Number(s[2]);break;case h.radialSegments:this._radialSegments=Number(s[2]);break;case h.openEnded:this._openEnded=1==Number(s[2]);break;case h.radiusTop:this._radiusTop=Number(s[2]);break;case h.radiusBottom:this._radiusBottom=Number(s[2]);break;case h.innerRadius:this._innerRadius=Number(s[2]);break;case h.outerRadius:this._outerRadius=Number(s[2]);break;case h.thetaSegments:this._thetaSegments=Number(s[2]);break;case h.phiSegments:this._phiSegments=Number(s[2]);break;case h.tube:this._tube=Number(s[2]);break;case h.tubularSegments:this._tubularSegments=Number(s[2]);break;case h.arc:this._arc=Number(s[2]);break;case h.p:this._p=Number(s[2]);break;case h.q:this._q=Number(s[2]);break;case h.stacks:this._stacks=Number(s[2]);break;case h.slices:this._slices=Number(s[2]);break;case h.detail:this._detail=Number(s[2]);break;case h.parametricPoints:this._parametricPoints=s[2]}}}}class G extends k{get url(){return this._url}set url(t){this._url=t,this.service.SetComponents((new jt).Add(this,[h.url]))}get generateMipMaps(){return this._generateMipMaps}set generateMipMaps(t){this._generateMipMaps=t,this.service.SetComponents((new jt).Add(this,[h.generateMipMaps]))}get addColliders(){return this._addColliders}set addColliders(t){this._addColliders=t,this.service.SetComponents((new jt).Add(this,[h.addColliders]))}get nonConvexColliders(){return this._nonConvexColliders}set nonConvexColliders(t){this._nonConvexColliders=t,this.service.SetComponents((new jt).Add(this,[h.nonConvexColliders]))}get slippery(){return this._slippery}set slippery(t){this._slippery=t,this.service.SetComponents((new jt).Add(this,[h.slippery]))}get climbable(){return this._climbable}set climbable(t){this._climbable=t,this.service.SetComponents((new jt).Add(this,[h.climbable]))}get legacyRotate(){return this._legacyRotate}set legacyRotate(t){this._legacyRotate=t,this.service.SetComponents((new jt).Add(this,[h.legacyRotate]))}get childrenLayer(){return this._childrenLayer}set childrenLayer(t){this._childrenLayer=t,this.service.SetComponents((new jt).Add(this,[h.childrenLayer]))}constructor(t=new String,s=!1,i=!1,n=!1,r=!1,o=!1,a=!1,h=0){super(),this.service=te.GetInstance(),this.type=e.BanterGLTF,this._url=t,this._generateMipMaps=s,this._addColliders=i,this._nonConvexColliders=n,this._slippery=r,this._climbable=o,this._legacyRotate=a,this._childrenLayer=h}Serialise(t){const e=[];for(let s=0;s<t.length;s++)switch(t[s]){case h.url:e.push(t[s]+"§3§"+this._url);break;case h.generateMipMaps:e.push(t[s]+"§0§"+(this._generateMipMaps?1:0));break;case h.addColliders:e.push(t[s]+"§0§"+(this._addColliders?1:0));break;case h.nonConvexColliders:e.push(t[s]+"§0§"+(this._nonConvexColliders?1:0));break;case h.slippery:e.push(t[s]+"§0§"+(this._slippery?1:0));break;case h.climbable:e.push(t[s]+"§0§"+(this._climbable?1:0));break;case h.legacyRotate:e.push(t[s]+"§0§"+(this._legacyRotate?1:0));break;case h.childrenLayer:e.push(t[s]+"§1§"+this._childrenLayer)}return e.join(u.PRIMARY)}Deserialise(t){const e=t.split(u.PRIMARY);for(let t=0;t<e.length;t++){const s=e[t].split(u.SECONDARY);switch(Number(s[0])){case h.url:this._url=s[2];break;case h.generateMipMaps:this._generateMipMaps=1==Number(s[2]);break;case h.addColliders:this._addColliders=1==Number(s[2]);break;case h.nonConvexColliders:this._nonConvexColliders=1==Number(s[2]);break;case h.slippery:this._slippery=1==Number(s[2]);break;case h.climbable:this._climbable=1==Number(s[2]);break;case h.legacyRotate:this._legacyRotate=1==Number(s[2]);break;case h.childrenLayer:this._childrenLayer=Number(s[2])}}}}class V extends k{get grabType(){return this._grabType}set grabType(t){this._grabType=t,this.service.SetComponents((new jt).Add(this,[h.grabType]))}get grabRadius(){return this._grabRadius}set grabRadius(t){this._grabRadius=t,this.service.SetComponents((new jt).Add(this,[h.grabRadius]))}constructor(t=0,s=.01){super(),this.service=te.GetInstance(),this.type=e.BanterGrabHandle,this._grabType=t,this._grabRadius=s}Serialise(t){const e=[];for(let s=0;s<t.length;s++)switch(t[s]){case h.grabType:e.push(t[s]+"§1§"+this._grabType);break;case h.grabRadius:e.push(t[s]+"§2§"+this._grabRadius)}return e.join(u.PRIMARY)}Deserialise(t){const e=t.split(u.PRIMARY);for(let t=0;t<e.length;t++){const s=e[t].split(u.SECONDARY);switch(Number(s[0])){case h.grabType:this._grabType=Number(s[2]);break;case h.grabRadius:this._grabRadius=Number(s[2])}}}}class H extends k{get sensitivity(){return this._sensitivity}set sensitivity(t){this._sensitivity=t,this.service.SetComponents((new jt).Add(this,[h.sensitivity]))}get fireRate(){return this._fireRate}set fireRate(t){this._fireRate=t,this.service.SetComponents((new jt).Add(this,[h.fireRate]))}get auto(){return this._auto}set auto(t){this._auto=t,this.service.SetComponents((new jt).Add(this,[h.auto]))}get blockLeftPrimary(){return this._blockLeftPrimary}set blockLeftPrimary(t){this._blockLeftPrimary=t,this.service.SetComponents((new jt).Add(this,[h.blockLeftPrimary]))}get blockLeftSecondary(){return this._blockLeftSecondary}set blockLeftSecondary(t){this._blockLeftSecondary=t,this.service.SetComponents((new jt).Add(this,[h.blockLeftSecondary]))}get blockRightPrimary(){return this._blockRightPrimary}set blockRightPrimary(t){this._blockRightPrimary=t,this.service.SetComponents((new jt).Add(this,[h.blockRightPrimary]))}get blockRightSecondary(){return this._blockRightSecondary}set blockRightSecondary(t){this._blockRightSecondary=t,this.service.SetComponents((new jt).Add(this,[h.blockRightSecondary]))}get blockLeftThumbstick(){return this._blockLeftThumbstick}set blockLeftThumbstick(t){this._blockLeftThumbstick=t,this.service.SetComponents((new jt).Add(this,[h.blockLeftThumbstick]))}get blockLeftThumbstickClick(){return this._blockLeftThumbstickClick}set blockLeftThumbstickClick(t){this._blockLeftThumbstickClick=t,this.service.SetComponents((new jt).Add(this,[h.blockLeftThumbstickClick]))}get blockRightThumbstick(){return this._blockRightThumbstick}set blockRightThumbstick(t){this._blockRightThumbstick=t,this.service.SetComponents((new jt).Add(this,[h.blockRightThumbstick]))}get blockRightThumbstickClick(){return this._blockRightThumbstickClick}set blockRightThumbstickClick(t){this._blockRightThumbstickClick=t,this.service.SetComponents((new jt).Add(this,[h.blockRightThumbstickClick]))}get blockLeftTrigger(){return this._blockLeftTrigger}set blockLeftTrigger(t){this._blockLeftTrigger=t,this.service.SetComponents((new jt).Add(this,[h.blockLeftTrigger]))}get blockRightTrigger(){return this._blockRightTrigger}set blockRightTrigger(t){this._blockRightTrigger=t,this.service.SetComponents((new jt).Add(this,[h.blockRightTrigger]))}constructor(t=.5,s=.1,i=!1,n=!1,r=!1,o=!1,a=!1,h=!1,l=!1,c=!1,u=!1,d=!1,p=!1){super(),this.service=te.GetInstance(),this.type=e.BanterHeldEvents,this._sensitivity=t,this._fireRate=s,this._auto=i,this._blockLeftPrimary=n,this._blockLeftSecondary=r,this._blockRightPrimary=o,this._blockRightSecondary=a,this._blockLeftThumbstick=h,this._blockLeftThumbstickClick=l,this._blockRightThumbstick=c,this._blockRightThumbstickClick=u,this._blockLeftTrigger=d,this._blockRightTrigger=p}Serialise(t){const e=[];for(let s=0;s<t.length;s++)switch(t[s]){case h.sensitivity:e.push(t[s]+"§2§"+this._sensitivity);break;case h.fireRate:e.push(t[s]+"§2§"+this._fireRate);break;case h.auto:e.push(t[s]+"§0§"+(this._auto?1:0));break;case h.blockLeftPrimary:e.push(t[s]+"§0§"+(this._blockLeftPrimary?1:0));break;case h.blockLeftSecondary:e.push(t[s]+"§0§"+(this._blockLeftSecondary?1:0));break;case h.blockRightPrimary:e.push(t[s]+"§0§"+(this._blockRightPrimary?1:0));break;case h.blockRightSecondary:e.push(t[s]+"§0§"+(this._blockRightSecondary?1:0));break;case h.blockLeftThumbstick:e.push(t[s]+"§0§"+(this._blockLeftThumbstick?1:0));break;case h.blockLeftThumbstickClick:e.push(t[s]+"§0§"+(this._blockLeftThumbstickClick?1:0));break;case h.blockRightThumbstick:e.push(t[s]+"§0§"+(this._blockRightThumbstick?1:0));break;case h.blockRightThumbstickClick:e.push(t[s]+"§0§"+(this._blockRightThumbstickClick?1:0));break;case h.blockLeftTrigger:e.push(t[s]+"§0§"+(this._blockLeftTrigger?1:0));break;case h.blockRightTrigger:e.push(t[s]+"§0§"+(this._blockRightTrigger?1:0))}return e.join(u.PRIMARY)}Deserialise(t){const e=t.split(u.PRIMARY);for(let t=0;t<e.length;t++){const s=e[t].split(u.SECONDARY);switch(Number(s[0])){case h.sensitivity:this._sensitivity=Number(s[2]);break;case h.fireRate:this._fireRate=Number(s[2]);break;case h.auto:this._auto=1==Number(s[2]);break;case h.blockLeftPrimary:this._blockLeftPrimary=1==Number(s[2]);break;case h.blockLeftSecondary:this._blockLeftSecondary=1==Number(s[2]);break;case h.blockRightPrimary:this._blockRightPrimary=1==Number(s[2]);break;case h.blockRightSecondary:this._blockRightSecondary=1==Number(s[2]);break;case h.blockLeftThumbstick:this._blockLeftThumbstick=1==Number(s[2]);break;case h.blockLeftThumbstickClick:this._blockLeftThumbstickClick=1==Number(s[2]);break;case h.blockRightThumbstick:this._blockRightThumbstick=1==Number(s[2]);break;case h.blockRightThumbstickClick:this._blockRightThumbstickClick=1==Number(s[2]);break;case h.blockLeftTrigger:this._blockLeftTrigger=1==Number(s[2]);break;case h.blockRightTrigger:this._blockRightTrigger=1==Number(s[2])}}}}class q extends k{constructor(){super(),this.service=te.GetInstance(),this.type=e.BanterInvertedMesh}Serialise(t){for(let e=0;e<t.length;e++)t[e];return[].join(u.PRIMARY)}Deserialise(t){const e=t.split(u.PRIMARY);for(let t=0;t<e.length;t++){const s=e[t].split(u.SECONDARY);Number(s[0])}}}class W extends k{get path(){return this._path}set path(t){this._path=t,this.service.SetComponents((new jt).Add(this,[h.path]))}get resetTransform(){return this._resetTransform}set resetTransform(t){this._resetTransform=t,this.service.SetComponents((new jt).Add(this,[h.resetTransform]))}constructor(t=new String,s=!1){super(),this.service=te.GetInstance(),this.type=e.BanterKitItem,this._path=t,this._resetTransform=s}Serialise(t){const e=[];for(let s=0;s<t.length;s++)switch(t[s]){case h.path:e.push(t[s]+"§3§"+this._path);break;case h.resetTransform:e.push(t[s]+"§0§"+(this._resetTransform?1:0))}return e.join(u.PRIMARY)}Deserialise(t){const e=t.split(u.PRIMARY);for(let t=0;t<e.length;t++){const s=e[t].split(u.SECONDARY);switch(Number(s[0])){case h.path:this._path=s[2];break;case h.resetTransform:this._resetTransform=1==Number(s[2])}}}}class K extends k{get shaderName(){return this._shaderName}set shaderName(t){this._shaderName=t,this.service.SetComponents((new jt).Add(this,[h.shaderName]))}get texture(){return this._texture}set texture(t){this._texture=t,this.service.SetComponents((new jt).Add(this,[h.texture]))}get color(){return this._color}set color(t){this._color=t,this.service.SetComponents((new jt).Add(this,[h.color]))}get side(){return this._side}set side(t){this._side=t,this.service.SetComponents((new jt).Add(this,[h.side]))}get generateMipMaps(){return this._generateMipMaps}set generateMipMaps(t){this._generateMipMaps=t,this.service.SetComponents((new jt).Add(this,[h.generateMipMaps]))}constructor(t=new String("Unlit/Diffuse"),s=new String,i=new C(1,1,1,1),n=0,r=!1){super(),this.service=te.GetInstance(),this.type=e.BanterMaterial,this._shaderName=t,this._texture=s,this._color=i,this._side=n,this._generateMipMaps=r}Serialise(t){const e=[];for(let s=0;s<t.length;s++)switch(t[s]){case h.shaderName:e.push(t[s]+"§3§"+this._shaderName);break;case h.texture:e.push(t[s]+"§3§"+this._texture);break;case h.color:e.push(t[s]+"§6§"+this._color.x+"§"+this._color.y+"§"+this._color.z+"§"+this._color.w);break;case h.side:e.push(t[s]+"§1§"+this._side);break;case h.generateMipMaps:e.push(t[s]+"§0§"+(this._generateMipMaps?1:0))}return e.join(u.PRIMARY)}Deserialise(t){const e=t.split(u.PRIMARY);for(let t=0;t<e.length;t++){const s=e[t].split(u.SECONDARY);switch(Number(s[0])){case h.shaderName:this._shaderName=s[2];break;case h.texture:this._texture=s[2];break;case h.color:this._color=new C(Number(s[2]),Number(s[3]),Number(s[4]),Number(s[5]));break;case h.side:this._side=Number(s[2]);break;case h.generateMipMaps:this._generateMipMaps=1==Number(s[2])}}}}class X extends k{get convex(){return this._convex}set convex(t){this._convex=t,this.service.SetComponents((new jt).Add(this,[h.convex]))}get isTrigger(){return this._isTrigger}set isTrigger(t){this._isTrigger=t,this.service.SetComponents((new jt).Add(this,[h.isTrigger]))}constructor(t=!1,s=!1){super(),this.service=te.GetInstance(),this.type=e.MeshCollider,this._convex=t,this._isTrigger=s}Serialise(t){const e=[];for(let s=0;s<t.length;s++)switch(t[s]){case h.convex:e.push(t[s]+"§0§"+(this._convex?1:0));break;case h.isTrigger:e.push(t[s]+"§0§"+(this._isTrigger?1:0))}return e.join(u.PRIMARY)}Deserialise(t){const e=t.split(u.PRIMARY);for(let t=0;t<e.length;t++){const s=e[t].split(u.SECONDARY);switch(Number(s[0])){case h.convex:this._convex=1==Number(s[2]);break;case h.isTrigger:this._isTrigger=1==Number(s[2])}}}}class Z extends k{get renderTextureSize(){return this._renderTextureSize}set renderTextureSize(t){this._renderTextureSize=t,this.service.SetComponents((new jt).Add(this,[h.renderTextureSize]))}get cameraClear(){return this._cameraClear}set cameraClear(t){this._cameraClear=t,this.service.SetComponents((new jt).Add(this,[h.cameraClear]))}get backgroundColor(){return this._backgroundColor}set backgroundColor(t){this._backgroundColor=t,this.service.SetComponents((new jt).Add(this,[h.backgroundColor]))}constructor(t=1024,s=1,i=new String("#000000")){super(),this.service=te.GetInstance(),this.type=e.BanterMirror,this._renderTextureSize=t,this._cameraClear=s,this._backgroundColor=i}SetCullingLayer(t){this.service.CallMethod(this,"SetCullingLayer",["1|"+t])}AddCullingLayer(t){this.service.CallMethod(this,"AddCullingLayer",["1|"+t])}Serialise(t){const e=[];for(let s=0;s<t.length;s++)switch(t[s]){case h.renderTextureSize:e.push(t[s]+"§1§"+this._renderTextureSize);break;case h.cameraClear:e.push(t[s]+"§1§"+this._cameraClear);break;case h.backgroundColor:e.push(t[s]+"§3§"+this._backgroundColor)}return e.join(u.PRIMARY)}Deserialise(t){const e=t.split(u.PRIMARY);for(let t=0;t<e.length;t++){const s=e[t].split(u.SECONDARY);switch(Number(s[0])){case h.renderTextureSize:this._renderTextureSize=Number(s[2]);break;case h.cameraClear:this._cameraClear=Number(s[2]);break;case h.backgroundColor:this._backgroundColor=s[2]}}}}class $ extends k{get dynamicFriction(){return this._dynamicFriction}set dynamicFriction(t){this._dynamicFriction=t,this.service.SetComponents((new jt).Add(this,[h.dynamicFriction]))}get staticFriction(){return this._staticFriction}set staticFriction(t){this._staticFriction=t,this.service.SetComponents((new jt).Add(this,[h.staticFriction]))}constructor(t=1,s=1){super(),this.service=te.GetInstance(),this.type=e.BanterPhysicMaterial,this._dynamicFriction=t,this._staticFriction=s}Serialise(t){const e=[];for(let s=0;s<t.length;s++)switch(t[s]){case h.dynamicFriction:e.push(t[s]+"§2§"+this._dynamicFriction);break;case h.staticFriction:e.push(t[s]+"§2§"+this._staticFriction)}return e.join(u.PRIMARY)}Deserialise(t){const e=t.split(u.PRIMARY);for(let t=0;t<e.length;t++){const s=e[t].split(u.SECONDARY);switch(Number(s[0])){case h.dynamicFriction:this._dynamicFriction=Number(s[2]);break;case h.staticFriction:this._staticFriction=Number(s[2])}}}}class Q extends k{get width(){return this._width}set width(t){this._width=t,this.service.SetComponents((new jt).Add(this,[h.width]))}get height(){return this._height}set height(t){this._height=t,this.service.SetComponents((new jt).Add(this,[h.height]))}get widthSegments(){return this._widthSegments}set widthSegments(t){this._widthSegments=t,this.service.SetComponents((new jt).Add(this,[h.widthSegments]))}get heightSegments(){return this._heightSegments}set heightSegments(t){this._heightSegments=t,this.service.SetComponents((new jt).Add(this,[h.heightSegments]))}constructor(t=1,s=1,i=1,n=1){super(),this.service=te.GetInstance(),this.type=e.BanterPlane,this._width=t,this._height=s,this._widthSegments=i,this._heightSegments=n}Serialise(t){const e=[];for(let s=0;s<t.length;s++)switch(t[s]){case h.width:e.push(t[s]+"§2§"+this._width);break;case h.height:e.push(t[s]+"§2§"+this._height);break;case h.widthSegments:e.push(t[s]+"§1§"+this._widthSegments);break;case h.heightSegments:e.push(t[s]+"§1§"+this._heightSegments)}return e.join(u.PRIMARY)}Deserialise(t){const e=t.split(u.PRIMARY);for(let t=0;t<e.length;t++){const s=e[t].split(u.SECONDARY);switch(Number(s[0])){case h.width:this._width=Number(s[2]);break;case h.height:this._height=Number(s[2]);break;case h.widthSegments:this._widthSegments=Number(s[2]);break;case h.heightSegments:this._heightSegments=Number(s[2])}}}}class tt extends k{get url(){return this._url}set url(t){this._url=t,this.service.SetComponents((new jt).Add(this,[h.url]))}get instance(){return this._instance}set instance(t){this._instance=t,this.service.SetComponents((new jt).Add(this,[h.instance]))}constructor(t=new String,s=new String){super(),this.service=te.GetInstance(),this.type=e.BanterPortal,this._url=t,this._instance=s}Serialise(t){const e=[];for(let s=0;s<t.length;s++)switch(t[s]){case h.url:e.push(t[s]+"§3§"+this._url);break;case h.instance:e.push(t[s]+"§3§"+this._instance)}return e.join(u.PRIMARY)}Deserialise(t){const e=t.split(u.PRIMARY);for(let t=0;t<e.length;t++){const s=e[t].split(u.SECONDARY);switch(Number(s[0])){case h.url:this._url=s[2];break;case h.instance:this._instance=s[2]}}}}class et extends k{get velocity(){return this._velocity}set velocity(t){this._velocity=t,this.service.SetComponents((new jt).Add(this,[h.velocity]))}get angularVelocity(){return this._angularVelocity}set angularVelocity(t){this._angularVelocity=t,this.service.SetComponents((new jt).Add(this,[h.angularVelocity]))}get mass(){return this._mass}set mass(t){this._mass=t,this.service.SetComponents((new jt).Add(this,[h.mass]))}get drag(){return this._drag}set drag(t){this._drag=t,this.service.SetComponents((new jt).Add(this,[h.drag]))}get angularDrag(){return this._angularDrag}set angularDrag(t){this._angularDrag=t,this.service.SetComponents((new jt).Add(this,[h.angularDrag]))}get isKinematic(){return this._isKinematic}set isKinematic(t){this._isKinematic=t,this.service.SetComponents((new jt).Add(this,[h.isKinematic]))}get useGravity(){return this._useGravity}set useGravity(t){this._useGravity=t,this.service.SetComponents((new jt).Add(this,[h.useGravity]))}get centerOfMass(){return this._centerOfMass}set centerOfMass(t){this._centerOfMass=t,this.service.SetComponents((new jt).Add(this,[h.centerOfMass]))}get collisionDetectionMode(){return this._collisionDetectionMode}set collisionDetectionMode(t){this._collisionDetectionMode=t,this.service.SetComponents((new jt).Add(this,[h.collisionDetectionMode]))}get freezePositionX(){return this._freezePositionX}set freezePositionX(t){this._freezePositionX=t,this.service.SetComponents((new jt).Add(this,[h.freezePositionX]))}get freezePositionY(){return this._freezePositionY}set freezePositionY(t){this._freezePositionY=t,this.service.SetComponents((new jt).Add(this,[h.freezePositionY]))}get freezePositionZ(){return this._freezePositionZ}set freezePositionZ(t){this._freezePositionZ=t,this.service.SetComponents((new jt).Add(this,[h.freezePositionZ]))}get freezeRotationX(){return this._freezeRotationX}set freezeRotationX(t){this._freezeRotationX=t,this.service.SetComponents((new jt).Add(this,[h.freezeRotationX]))}get freezeRotationY(){return this._freezeRotationY}set freezeRotationY(t){this._freezeRotationY=t,this.service.SetComponents((new jt).Add(this,[h.freezeRotationY]))}get freezeRotationZ(){return this._freezeRotationZ}set freezeRotationZ(t){this._freezeRotationZ=t,this.service.SetComponents((new jt).Add(this,[h.freezeRotationZ]))}constructor(t=1,s=0,i=.05,n=!1,r=!0,o=new R(0,0,0),a=0,h=!1,l=!1,c=!1,u=!1,d=!1,p=!1,g=new R(0,0,0),m=new R(0,0,0)){super(),this.service=te.GetInstance(),this.type=e.BanterRigidbody,this._velocity=g,this._angularVelocity=m,this._mass=t,this._drag=s,this._angularDrag=i,this._isKinematic=n,this._useGravity=r,this._centerOfMass=o,this._collisionDetectionMode=a,this._freezePositionX=h,this._freezePositionY=l,this._freezePositionZ=c,this._freezeRotationX=u,this._freezeRotationY=d,this._freezeRotationZ=p}AddForce(t,e){this.service.CallMethod(this,"AddForce",["5|"+t.x+"|"+t.y+"|"+t.z,"1|"+e])}MovePosition(t){this.service.CallMethod(this,"MovePosition",["5|"+t.x+"|"+t.y+"|"+t.z])}MoveRotation(t){this.service.CallMethod(this,"MoveRotation",["6|"+t.x+"|"+t.y+"|"+t.z+"|"+t.w])}AddForceValues(t,e,s,i){this.service.CallMethod(this,"AddForce",["2|"+t,"2|"+e,"2|"+s,"1|"+i])}Sleep(){this.service.CallMethod(this,"Sleep",[])}AddExplosionForce(t,e,s,i,n){this.service.CallMethod(this,"AddExplosionForce",["2|"+t,"5|"+e.x+"|"+e.y+"|"+e.z,"2|"+s,"2|"+i,"1|"+n])}Serialise(t){const e=[];for(let s=0;s<t.length;s++)switch(t[s]){case h.velocity:e.push(t[s]+"§5§"+this._velocity.x+"§"+this._velocity.y+"§"+this._velocity.z);break;case h.angularVelocity:e.push(t[s]+"§5§"+this._angularVelocity.x+"§"+this._angularVelocity.y+"§"+this._angularVelocity.z);break;case h.mass:e.push(t[s]+"§2§"+this._mass);break;case h.drag:e.push(t[s]+"§2§"+this._drag);break;case h.angularDrag:e.push(t[s]+"§2§"+this._angularDrag);break;case h.isKinematic:e.push(t[s]+"§0§"+(this._isKinematic?1:0));break;case h.useGravity:e.push(t[s]+"§0§"+(this._useGravity?1:0));break;case h.centerOfMass:e.push(t[s]+"§5§"+this._centerOfMass.x+"§"+this._centerOfMass.y+"§"+this._centerOfMass.z);break;case h.collisionDetectionMode:e.push(t[s]+"§1§"+this._collisionDetectionMode);break;case h.freezePositionX:e.push(t[s]+"§0§"+(this._freezePositionX?1:0));break;case h.freezePositionY:e.push(t[s]+"§0§"+(this._freezePositionY?1:0));break;case h.freezePositionZ:e.push(t[s]+"§0§"+(this._freezePositionZ?1:0));break;case h.freezeRotationX:e.push(t[s]+"§0§"+(this._freezeRotationX?1:0));break;case h.freezeRotationY:e.push(t[s]+"§0§"+(this._freezeRotationY?1:0));break;case h.freezeRotationZ:e.push(t[s]+"§0§"+(this._freezeRotationZ?1:0))}return e.join(u.PRIMARY)}Deserialise(t){const e=t.split(u.PRIMARY);for(let t=0;t<e.length;t++){const s=e[t].split(u.SECONDARY);switch(Number(s[0])){case h.velocity:this._velocity=new R(Number(s[2]),Number(s[3]),Number(s[4]));break;case h.angularVelocity:this._angularVelocity=new R(Number(s[2]),Number(s[3]),Number(s[4]));break;case h.mass:this._mass=Number(s[2]);break;case h.drag:this._drag=Number(s[2]);break;case h.angularDrag:this._angularDrag=Number(s[2]);break;case h.isKinematic:this._isKinematic=1==Number(s[2]);break;case h.useGravity:this._useGravity=1==Number(s[2]);break;case h.centerOfMass:this._centerOfMass=new R(Number(s[2]),Number(s[3]),Number(s[4]));break;case h.collisionDetectionMode:this._collisionDetectionMode=Number(s[2]);break;case h.freezePositionX:this._freezePositionX=1==Number(s[2]);break;case h.freezePositionY:this._freezePositionY=1==Number(s[2]);break;case h.freezePositionZ:this._freezePositionZ=1==Number(s[2]);break;case h.freezeRotationX:this._freezeRotationX=1==Number(s[2]);break;case h.freezeRotationY:this._freezeRotationY=1==Number(s[2]);break;case h.freezeRotationZ:this._freezeRotationZ=1==Number(s[2])}}}}class st extends k{get innerRadius(){return this._innerRadius}set innerRadius(t){this._innerRadius=t,this.service.SetComponents((new jt).Add(this,[h.innerRadius]))}get outerRadius(){return this._outerRadius}set outerRadius(t){this._outerRadius=t,this.service.SetComponents((new jt).Add(this,[h.outerRadius]))}get thetaSegments(){return this._thetaSegments}set thetaSegments(t){this._thetaSegments=t,this.service.SetComponents((new jt).Add(this,[h.thetaSegments]))}get phiSegments(){return this._phiSegments}set phiSegments(t){this._phiSegments=t,this.service.SetComponents((new jt).Add(this,[h.phiSegments]))}get thetaStart(){return this._thetaStart}set thetaStart(t){this._thetaStart=t,this.service.SetComponents((new jt).Add(this,[h.thetaStart]))}get thetaLength(){return this._thetaLength}set thetaLength(t){this._thetaLength=t,this.service.SetComponents((new jt).Add(this,[h.thetaLength]))}constructor(t=1,s=2,i=32,n=1,r=0,o=2*Math.PI){super(),this.service=te.GetInstance(),this.type=e.BanterRing,this._innerRadius=t,this._outerRadius=s,this._thetaSegments=i,this._phiSegments=n,this._thetaStart=r,this._thetaLength=o}Serialise(t){const e=[];for(let s=0;s<t.length;s++)switch(t[s]){case h.innerRadius:e.push(t[s]+"§2§"+this._innerRadius);break;case h.outerRadius:e.push(t[s]+"§2§"+this._outerRadius);break;case h.thetaSegments:e.push(t[s]+"§1§"+this._thetaSegments);break;case h.phiSegments:e.push(t[s]+"§1§"+this._phiSegments);break;case h.thetaStart:e.push(t[s]+"§2§"+this._thetaStart);break;case h.thetaLength:e.push(t[s]+"§2§"+this._thetaLength)}return e.join(u.PRIMARY)}Deserialise(t){const e=t.split(u.PRIMARY);for(let t=0;t<e.length;t++){const s=e[t].split(u.SECONDARY);switch(Number(s[0])){case h.innerRadius:this._innerRadius=Number(s[2]);break;case h.outerRadius:this._outerRadius=Number(s[2]);break;case h.thetaSegments:this._thetaSegments=Number(s[2]);break;case h.phiSegments:this._phiSegments=Number(s[2]);break;case h.thetaStart:this._thetaStart=Number(s[2]);break;case h.thetaLength:this._thetaLength=Number(s[2])}}}}class it extends k{get radius(){return this._radius}set radius(t){this._radius=t,this.service.SetComponents((new jt).Add(this,[h.radius]))}get widthSegments(){return this._widthSegments}set widthSegments(t){this._widthSegments=t,this.service.SetComponents((new jt).Add(this,[h.widthSegments]))}get heightSegments(){return this._heightSegments}set heightSegments(t){this._heightSegments=t,this.service.SetComponents((new jt).Add(this,[h.heightSegments]))}get phiStart(){return this._phiStart}set phiStart(t){this._phiStart=t,this.service.SetComponents((new jt).Add(this,[h.phiStart]))}get phiLength(){return this._phiLength}set phiLength(t){this._phiLength=t,this.service.SetComponents((new jt).Add(this,[h.phiLength]))}get thetaStart(){return this._thetaStart}set thetaStart(t){this._thetaStart=t,this.service.SetComponents((new jt).Add(this,[h.thetaStart]))}get thetaLength(){return this._thetaLength}set thetaLength(t){this._thetaLength=t,this.service.SetComponents((new jt).Add(this,[h.thetaLength]))}constructor(t=1,s=16,i=16,n=0,r=2*Math.PI,o=0,a=Math.PI){super(),this.service=te.GetInstance(),this.type=e.BanterSphere,this._radius=t,this._widthSegments=s,this._heightSegments=i,this._phiStart=n,this._phiLength=r,this._thetaStart=o,this._thetaLength=a}Serialise(t){const e=[];for(let s=0;s<t.length;s++)switch(t[s]){case h.radius:e.push(t[s]+"§2§"+this._radius);break;case h.widthSegments:e.push(t[s]+"§1§"+this._widthSegments);break;case h.heightSegments:e.push(t[s]+"§1§"+this._heightSegments);break;case h.phiStart:e.push(t[s]+"§2§"+this._phiStart);break;case h.phiLength:e.push(t[s]+"§2§"+this._phiLength);break;case h.thetaStart:e.push(t[s]+"§2§"+this._thetaStart);break;case h.thetaLength:e.push(t[s]+"§2§"+this._thetaLength)}return e.join(u.PRIMARY)}Deserialise(t){const e=t.split(u.PRIMARY);for(let t=0;t<e.length;t++){const s=e[t].split(u.SECONDARY);switch(Number(s[0])){case h.radius:this._radius=Number(s[2]);break;case h.widthSegments:this._widthSegments=Number(s[2]);break;case h.heightSegments:this._heightSegments=Number(s[2]);break;case h.phiStart:this._phiStart=Number(s[2]);break;case h.phiLength:this._phiLength=Number(s[2]);break;case h.thetaStart:this._thetaStart=Number(s[2]);break;case h.thetaLength:this._thetaLength=Number(s[2])}}}}class nt extends k{get isTrigger(){return this._isTrigger}set isTrigger(t){this._isTrigger=t,this.service.SetComponents((new jt).Add(this,[h.isTrigger]))}get radius(){return this._radius}set radius(t){this._radius=t,this.service.SetComponents((new jt).Add(this,[h.radius]))}constructor(t=!1,s=.5){super(),this.service=te.GetInstance(),this.type=e.SphereCollider,this._isTrigger=t,this._radius=s}Serialise(t){const e=[];for(let s=0;s<t.length;s++)switch(t[s]){case h.isTrigger:e.push(t[s]+"§0§"+(this._isTrigger?1:0));break;case h.radius:e.push(t[s]+"§2§"+this._radius)}return e.join(u.PRIMARY)}Deserialise(t){const e=t.split(u.PRIMARY);for(let t=0;t<e.length;t++){const s=e[t].split(u.SECONDARY);switch(Number(s[0])){case h.isTrigger:this._isTrigger=1==Number(s[2]);break;case h.radius:this._radius=Number(s[2])}}}}class rt extends k{get panoId(){return this._panoId}set panoId(t){this._panoId=t,this.service.SetComponents((new jt).Add(this,[h.panoId]))}constructor(t=new String){super(),this.service=te.GetInstance(),this.type=e.BanterStreetView,this._panoId=t}Serialise(t){const e=[];for(let s=0;s<t.length;s++)t[s]===h.panoId&&e.push(t[s]+"§3§"+this._panoId);return e.join(u.PRIMARY)}Deserialise(t){const e=t.split(u.PRIMARY);for(let t=0;t<e.length;t++){const s=e[t].split(u.SECONDARY);Number(s[0])===h.panoId&&(this._panoId=s[2])}}}class ot extends k{get syncPosition(){return this._syncPosition}set syncPosition(t){this._syncPosition=t,this.service.SetComponents((new jt).Add(this,[h.syncPosition]))}get syncRotation(){return this._syncRotation}set syncRotation(t){this._syncRotation=t,this.service.SetComponents((new jt).Add(this,[h.syncRotation]))}get takeOwnershipOnCollision(){return this._takeOwnershipOnCollision}set takeOwnershipOnCollision(t){this._takeOwnershipOnCollision=t,this.service.SetComponents((new jt).Add(this,[h.takeOwnershipOnCollision]))}get takeOwnershipOnGrab(){return this._takeOwnershipOnGrab}set takeOwnershipOnGrab(t){this._takeOwnershipOnGrab=t,this.service.SetComponents((new jt).Add(this,[h.takeOwnershipOnGrab]))}get kinematicIfNotOwned(){return this._kinematicIfNotOwned}set kinematicIfNotOwned(t){this._kinematicIfNotOwned=t,this.service.SetComponents((new jt).Add(this,[h.kinematicIfNotOwned]))}constructor(t=!0,s=!0,i=!0,n=!0,r=!1){super(),this.service=te.GetInstance(),this.type=e.BanterSyncedObject,this._syncPosition=t,this._syncRotation=s,this._takeOwnershipOnCollision=i,this._takeOwnershipOnGrab=n,this._kinematicIfNotOwned=r}TakeOwnership(){this.service.CallMethod(this,"TakeOwnership",[])}DoIOwn(){this.service.CallMethod(this,"DoIOwn",[])}Serialise(t){const e=[];for(let s=0;s<t.length;s++)switch(t[s]){case h.syncPosition:e.push(t[s]+"§0§"+(this._syncPosition?1:0));break;case h.syncRotation:e.push(t[s]+"§0§"+(this._syncRotation?1:0));break;case h.takeOwnershipOnCollision:e.push(t[s]+"§0§"+(this._takeOwnershipOnCollision?1:0));break;case h.takeOwnershipOnGrab:e.push(t[s]+"§0§"+(this._takeOwnershipOnGrab?1:0));break;case h.kinematicIfNotOwned:e.push(t[s]+"§0§"+(this._kinematicIfNotOwned?1:0))}return e.join(u.PRIMARY)}Deserialise(t){const e=t.split(u.PRIMARY);for(let t=0;t<e.length;t++){const s=e[t].split(u.SECONDARY);switch(Number(s[0])){case h.syncPosition:this._syncPosition=1==Number(s[2]);break;case h.syncRotation:this._syncRotation=1==Number(s[2]);break;case h.takeOwnershipOnCollision:this._takeOwnershipOnCollision=1==Number(s[2]);break;case h.takeOwnershipOnGrab:this._takeOwnershipOnGrab=1==Number(s[2]);break;case h.kinematicIfNotOwned:this._kinematicIfNotOwned=1==Number(s[2])}}}}class at extends k{get text(){return this._text}set text(t){this._text=t,this.service.SetComponents((new jt).Add(this,[h.text]))}get color(){return this._color}set color(t){this._color=t,this.service.SetComponents((new jt).Add(this,[h.color]))}get horizontalAlignment(){return this._horizontalAlignment}set horizontalAlignment(t){this._horizontalAlignment=t,this.service.SetComponents((new jt).Add(this,[h.horizontalAlignment]))}get verticalAlignment(){return this._verticalAlignment}set verticalAlignment(t){this._verticalAlignment=t,this.service.SetComponents((new jt).Add(this,[h.verticalAlignment]))}get fontSize(){return this._fontSize}set fontSize(t){this._fontSize=t,this.service.SetComponents((new jt).Add(this,[h.fontSize]))}get richText(){return this._richText}set richText(t){this._richText=t,this.service.SetComponents((new jt).Add(this,[h.richText]))}get enableWordWrapping(){return this._enableWordWrapping}set enableWordWrapping(t){this._enableWordWrapping=t,this.service.SetComponents((new jt).Add(this,[h.enableWordWrapping]))}get rectTransformSizeDelta(){return this._rectTransformSizeDelta}set rectTransformSizeDelta(t){this._rectTransformSizeDelta=t,this.service.SetComponents((new jt).Add(this,[h.rectTransformSizeDelta]))}constructor(t=new String,s=new C(1,1,1,1),i=0,n=0,r=2,o=!0,a=!0,h=new E(20,5)){super(),this.service=te.GetInstance(),this.type=e.BanterText,this._text=t,this._color=s,this._horizontalAlignment=i,this._verticalAlignment=n,this._fontSize=r,this._richText=o,this._enableWordWrapping=a,this._rectTransformSizeDelta=h}Serialise(t){const e=[];for(let s=0;s<t.length;s++)switch(t[s]){case h.text:e.push(t[s]+"§3§"+this._text);break;case h.color:e.push(t[s]+"§6§"+this._color.x+"§"+this._color.y+"§"+this._color.z+"§"+this._color.w);break;case h.horizontalAlignment:e.push(t[s]+"§1§"+this._horizontalAlignment);break;case h.verticalAlignment:e.push(t[s]+"§1§"+this._verticalAlignment);break;case h.fontSize:e.push(t[s]+"§2§"+this._fontSize);break;case h.richText:e.push(t[s]+"§0§"+(this._richText?1:0));break;case h.enableWordWrapping:e.push(t[s]+"§0§"+(this._enableWordWrapping?1:0));break;case h.rectTransformSizeDelta:e.push(t[s]+"§4§"+this._rectTransformSizeDelta.x+"§"+this._rectTransformSizeDelta.y)}return e.join(u.PRIMARY)}Deserialise(t){const e=t.split(u.PRIMARY);for(let t=0;t<e.length;t++){const s=e[t].split(u.SECONDARY);switch(Number(s[0])){case h.text:this._text=s[2];break;case h.color:this._color=new C(Number(s[2]),Number(s[3]),Number(s[4]),Number(s[5]));break;case h.horizontalAlignment:this._horizontalAlignment=Number(s[2]);break;case h.verticalAlignment:this._verticalAlignment=Number(s[2]);break;case h.fontSize:this._fontSize=Number(s[2]);break;case h.richText:this._richText=1==Number(s[2]);break;case h.enableWordWrapping:this._enableWordWrapping=1==Number(s[2]);break;case h.rectTransformSizeDelta:this._rectTransformSizeDelta=new E(Number(s[2]),Number(s[3]))}}}}class ht extends k{get tube(){return this._tube}set tube(t){this._tube=t,this.service.SetComponents((new jt).Add(this,[h.tube]))}get radialSegments(){return this._radialSegments}set radialSegments(t){this._radialSegments=t,this.service.SetComponents((new jt).Add(this,[h.radialSegments]))}get tubularSegments(){return this._tubularSegments}set tubularSegments(t){this._tubularSegments=t,this.service.SetComponents((new jt).Add(this,[h.tubularSegments]))}get arc(){return this._arc}set arc(t){this._arc=t,this.service.SetComponents((new jt).Add(this,[h.arc]))}constructor(t=1,s=8,i=6,n=2*Math.PI){super(),this.service=te.GetInstance(),this.type=e.BanterTorus,this._tube=t,this._radialSegments=s,this._tubularSegments=i,this._arc=n}Serialise(t){const e=[];for(let s=0;s<t.length;s++)switch(t[s]){case h.tube:e.push(t[s]+"§2§"+this._tube);break;case h.radialSegments:e.push(t[s]+"§1§"+this._radialSegments);break;case h.tubularSegments:e.push(t[s]+"§1§"+this._tubularSegments);break;case h.arc:e.push(t[s]+"§2§"+this._arc)}return e.join(u.PRIMARY)}Deserialise(t){const e=t.split(u.PRIMARY);for(let t=0;t<e.length;t++){const s=e[t].split(u.SECONDARY);switch(Number(s[0])){case h.tube:this._tube=Number(s[2]);break;case h.radialSegments:this._radialSegments=Number(s[2]);break;case h.tubularSegments:this._tubularSegments=Number(s[2]);break;case h.arc:this._arc=Number(s[2])}}}}class lt extends k{get position(){return this._position}set position(t){this._position=t,this.service.SetComponents((new jt).Add(this,[h.position]))}get localPosition(){return this._localPosition}set localPosition(t){this._localPosition=t,this.service.SetComponents((new jt).Add(this,[h.localPosition]))}get rotation(){return this._rotation}set rotation(t){this._rotation=t,this.service.SetComponents((new jt).Add(this,[h.rotation]))}get localRotation(){return this._localRotation}set localRotation(t){this._localRotation=t,this.service.SetComponents((new jt).Add(this,[h.localRotation]))}get localScale(){return this._localScale}set localScale(t){this._localScale=t,this.service.SetComponents((new jt).Add(this,[h.localScale]))}get eulerAngles(){return this._eulerAngles}set eulerAngles(t){this._eulerAngles=t,this.service.SetComponents((new jt).Add(this,[h.eulerAngles]))}get localEulerAngles(){return this._localEulerAngles}set localEulerAngles(t){this._localEulerAngles=t,this.service.SetComponents((new jt).Add(this,[h.localEulerAngles]))}get up(){return this._up}set up(t){this._up=t,this.service.SetComponents((new jt).Add(this,[h.up]))}get forward(){return this._forward}set forward(t){this._forward=t,this.service.SetComponents((new jt).Add(this,[h.forward]))}get right(){return this._right}set right(t){this._right=t,this.service.SetComponents((new jt).Add(this,[h.right]))}get lerpPosition(){return this._lerpPosition}set lerpPosition(t){this._lerpPosition=t,this.service.SetComponents((new jt).Add(this,[h.lerpPosition]))}get lerpRotation(){return this._lerpRotation}set lerpRotation(t){this._lerpRotation=t,this.service.SetComponents((new jt).Add(this,[h.lerpRotation]))}constructor(t=!1,s=!1,i=new R(0,0,0),n=new R(0,0,0),r=new B(0,0,0,1),o=new B(0,0,0,1),a=new R(1,1,1),h=new R(0,0,0),l=new R(0,0,0),c=new R(0,1,0),u=new R(0,0,1),d=new R(1,0,0)){super(),this.service=te.GetInstance(),this.type=e.Transform,this._position=i,this._localPosition=n,this._rotation=r,this._localRotation=o,this._localScale=a,this._eulerAngles=h,this._localEulerAngles=l,this._up=c,this._forward=u,this._right=d,this._lerpPosition=t,this._lerpRotation=s}Serialise(t){const e=[];for(let s=0;s<t.length;s++)switch(t[s]){case h.position:e.push(t[s]+"§5§"+this._position.x+"§"+this._position.y+"§"+this._position.z);break;case h.localPosition:e.push(t[s]+"§5§"+this._localPosition.x+"§"+this._localPosition.y+"§"+this._localPosition.z);break;case h.rotation:e.push(t[s]+"§7§"+this._rotation.x+"§"+this._rotation.y+"§"+this._rotation.z+"§"+this._rotation.w);break;case h.localRotation:e.push(t[s]+"§7§"+this._localRotation.x+"§"+this._localRotation.y+"§"+this._localRotation.z+"§"+this._localRotation.w);break;case h.localScale:e.push(t[s]+"§5§"+this._localScale.x+"§"+this._localScale.y+"§"+this._localScale.z);break;case h.eulerAngles:e.push(t[s]+"§5§"+this._eulerAngles.x+"§"+this._eulerAngles.y+"§"+this._eulerAngles.z);break;case h.localEulerAngles:e.push(t[s]+"§5§"+this._localEulerAngles.x+"§"+this._localEulerAngles.y+"§"+this._localEulerAngles.z);break;case h.up:e.push(t[s]+"§5§"+this._up.x+"§"+this._up.y+"§"+this._up.z);break;case h.forward:e.push(t[s]+"§5§"+this._forward.x+"§"+this._forward.y+"§"+this._forward.z);break;case h.right:e.push(t[s]+"§5§"+this._right.x+"§"+this._right.y+"§"+this._right.z);break;case h.lerpPosition:e.push(t[s]+"§0§"+(this._lerpPosition?1:0));break;case h.lerpRotation:e.push(t[s]+"§0§"+(this._lerpRotation?1:0))}return e.join(u.PRIMARY)}Deserialise(t){const e=t.split(u.PRIMARY);for(let t=0;t<e.length;t++){const s=e[t].split(u.SECONDARY);switch(Number(s[0])){case h.position:this._position=new R(Number(s[2]),Number(s[3]),Number(s[4]));break;case h.localPosition:this._localPosition=new R(Number(s[2]),Number(s[3]),Number(s[4]));break;case h.rotation:this._rotation=new B(Number(s[2]),Number(s[3]),Number(s[4]),Number(s[5]));break;case h.localRotation:this._localRotation=new B(Number(s[2]),Number(s[3]),Number(s[4]),Number(s[5]));break;case h.localScale:this._localScale=new R(Number(s[2]),Number(s[3]),Number(s[4]));break;case h.eulerAngles:this._eulerAngles=new R(Number(s[2]),Number(s[3]),Number(s[4]));break;case h.localEulerAngles:this._localEulerAngles=new R(Number(s[2]),Number(s[3]),Number(s[4]));break;case h.up:this._up=new R(Number(s[2]),Number(s[3]),Number(s[4]));break;case h.forward:this._forward=new R(Number(s[2]),Number(s[3]),Number(s[4]));break;case h.right:this._right=new R(Number(s[2]),Number(s[3]),Number(s[4]));break;case h.lerpPosition:this._lerpPosition=1==Number(s[2]);break;case h.lerpRotation:this._lerpRotation=1==Number(s[2])}}}}class ct extends k{get resolution(){return this._resolution}set resolution(t){this._resolution=t,this.service.SetComponents((new jt).Add(this,[h.resolution]))}get screenSpace(){return this._screenSpace}set screenSpace(t){this._screenSpace=t,this.service.SetComponents((new jt).Add(this,[h.screenSpace]))}constructor(t=new E(512,512),s=!1){super(),this.service=te.GetInstance(),this.type=e.BanterUIPanel,this._resolution=t,this._screenSpace=s}SetBackgroundColor(t){this.service.CallMethod(this,"SetBackgroundColor",["6|"+t.x+"|"+t.y+"|"+t.z+"|"+t.w])}Serialise(t){const e=[];for(let s=0;s<t.length;s++)switch(t[s]){case h.resolution:e.push(t[s]+"§4§"+this._resolution.x+"§"+this._resolution.y);break;case h.screenSpace:e.push(t[s]+"§0§"+(this._screenSpace?1:0))}return e.join(u.PRIMARY)}Deserialise(t){const e=t.split(u.PRIMARY);for(let t=0;t<e.length;t++){const s=e[t].split(u.SECONDARY);switch(Number(s[0])){case h.resolution:this._resolution=new E(Number(s[2]),Number(s[3]));break;case h.screenSpace:this._screenSpace=1==Number(s[2])}}}}class ut extends k{get time(){return this._time}set time(t){this._time=t,this.service.SetComponents((new jt).Add(this,[h.time]))}get url(){return this._url}set url(t){this._url=t,this.service.SetComponents((new jt).Add(this,[h.url]))}get volume(){return this._volume}set volume(t){this._volume=t,this.service.SetComponents((new jt).Add(this,[h.volume]))}get loop(){return this._loop}set loop(t){this._loop=t,this.service.SetComponents((new jt).Add(this,[h.loop]))}get playOnAwake(){return this._playOnAwake}set playOnAwake(t){this._playOnAwake=t,this.service.SetComponents((new jt).Add(this,[h.playOnAwake]))}get skipOnDrop(){return this._skipOnDrop}set skipOnDrop(t){this._skipOnDrop=t,this.service.SetComponents((new jt).Add(this,[h.skipOnDrop]))}get waitForFirstFrame(){return this._waitForFirstFrame}set waitForFirstFrame(t){this._waitForFirstFrame=t,this.service.SetComponents((new jt).Add(this,[h.waitForFirstFrame]))}get isPlaying(){return this._isPlaying}set isPlaying(t){this._isPlaying=t,this.service.SetComponents((new jt).Add(this,[h.isPlaying]))}get isLooping(){return this._isLooping}set isLooping(t){this._isLooping=t,this.service.SetComponents((new jt).Add(this,[h.isLooping]))}get isPrepared(){return this._isPrepared}set isPrepared(t){this._isPrepared=t,this.service.SetComponents((new jt).Add(this,[h.isPrepared]))}get isMuted(){return this._isMuted}set isMuted(t){this._isMuted=t,this.service.SetComponents((new jt).Add(this,[h.isMuted]))}get duration(){return this._duration}set duration(t){this._duration=t,this.service.SetComponents((new jt).Add(this,[h.duration]))}constructor(t=new String,s=.5,i=!1,n=!0,r=!0,o=!0,a=!1,h=!1,l=!1,c=!1,u=0,d=0){super(),this.service=te.GetInstance(),this.type=e.BanterVideoPlayer,this._time=d,this._url=t,this._volume=s,this._loop=i,this._playOnAwake=n,this._skipOnDrop=r,this._waitForFirstFrame=o,this._isPlaying=a,this._isLooping=h,this._isPrepared=l,this._isMuted=c,this._duration=u}PlayToggle(){this.service.CallMethod(this,"PlayToggle",[])}MuteToggle(){this.service.CallMethod(this,"MuteToggle",[])}Stop(){this.service.CallMethod(this,"Stop",[])}Serialise(t){const e=[];for(let s=0;s<t.length;s++)switch(t[s]){case h.time:e.push(t[s]+"§2§"+this._time);break;case h.url:e.push(t[s]+"§3§"+this._url);break;case h.volume:e.push(t[s]+"§2§"+this._volume);break;case h.loop:e.push(t[s]+"§0§"+(this._loop?1:0));break;case h.playOnAwake:e.push(t[s]+"§0§"+(this._playOnAwake?1:0));break;case h.skipOnDrop:e.push(t[s]+"§0§"+(this._skipOnDrop?1:0));break;case h.waitForFirstFrame:e.push(t[s]+"§0§"+(this._waitForFirstFrame?1:0));break;case h.isPlaying:e.push(t[s]+"§0§"+(this._isPlaying?1:0));break;case h.isLooping:e.push(t[s]+"§0§"+(this._isLooping?1:0));break;case h.isPrepared:e.push(t[s]+"§0§"+(this._isPrepared?1:0));break;case h.isMuted:e.push(t[s]+"§0§"+(this._isMuted?1:0));break;case h.duration:e.push(t[s]+"§2§"+this._duration)}return e.join(u.PRIMARY)}Deserialise(t){const e=t.split(u.PRIMARY);for(let t=0;t<e.length;t++){const s=e[t].split(u.SECONDARY);switch(Number(s[0])){case h.time:this._time=Number(s[2]);break;case h.url:this._url=s[2];break;case h.volume:this._volume=Number(s[2]);break;case h.loop:this._loop=1==Number(s[2]);break;case h.playOnAwake:this._playOnAwake=1==Number(s[2]);break;case h.skipOnDrop:this._skipOnDrop=1==Number(s[2]);break;case h.waitForFirstFrame:this._waitForFirstFrame=1==Number(s[2]);break;case h.isPlaying:this._isPlaying=1==Number(s[2]);break;case h.isLooping:this._isLooping=1==Number(s[2]);break;case h.isPrepared:this._isPrepared=1==Number(s[2]);break;case h.isMuted:this._isMuted=1==Number(s[2]);break;case h.duration:this._duration=Number(s[2])}}}}class dt extends k{constructor(){super(),this.service=te.GetInstance(),this.type=e.BanterWorldObject}CollectColliders(){this.service.CallMethod(this,"CollectColliders",[])}Serialise(t){for(let e=0;e<t.length;e++)t[e];return[].join(u.PRIMARY)}Deserialise(t){const e=t.split(u.PRIMARY);for(let t=0;t<e.length;t++){const s=e[t].split(u.SECONDARY);Number(s[0])}}}function pt(t){switch(t){case e.BanterAssetBundle:return A;case e.BanterAttachedObject:return I;case e.BanterAudioSource:return x;case e.BanterBillboard:return M;case e.BanterBox:return N;case e.BoxCollider:return L;case e.BanterBrowser:return O;case e.CapsuleCollider:return D;case e.BanterCircle:return Y;case e.BanterColliderEvents:return U;case e.BanterCone:return j;case e.ConfigurableJoint:return J;case e.BanterCylinder:return F;case e.BanterGeometry:return z;case e.BanterGLTF:return G;case e.BanterGrabHandle:return V;case e.BanterHeldEvents:return H;case e.BanterInvertedMesh:return q;case e.BanterKitItem:return W;case e.BanterMaterial:return K;case e.MeshCollider:return X;case e.BanterMirror:return Z;case e.BanterPhysicMaterial:return $;case e.BanterPlane:return Q;case e.BanterPortal:return tt;case e.BanterRigidbody:return et;case e.BanterRing:return st;case e.BanterSphere:return it;case e.SphereCollider:return nt;case e.BanterStreetView:return rt;case e.BanterSyncedObject:return ot;case e.BanterText:return at;case e.BanterTorus:return ht;case e.Transform:return lt;case e.BanterUIPanel:return ct;case e.BanterVideoPlayer:return ut;case e.BanterWorldObject:return dt}}var gt;!function(t){t.FRAME="frame",t.FIRST_FRAME="first-frame",t.OBJECT_ADDED="object-added",t.OBJECT_REMOVED="object-removed",t.UNITY_LINKED="unity-linked",t.OBJECT_UPDATE="object-update",t.UPDATE_COMPONENT_TYPE="update-component-type",t.LOADED="loaded",t.UNITY_LOADED="unity-loaded",t.ONE_SHOT="one-shot"}(gt||(gt={}));var mt=function(t,e,s,i){return new(s||(s=Promise))((function(n,r){function o(t){try{h(i.next(t))}catch(t){r(t)}}function a(t){try{h(i.throw(t))}catch(t){r(t)}}function h(t){var e;t.done?n(t.value):(e=t.value,e instanceof s?e:new s((function(t){t(e)}))).then(o,a)}h((i=i.apply(t,e||[])).next())}))};class yt extends p{get name(){return this._name}set name(t){this._name=t,console.warn("SetName:",this._name),this.scene.SetName(this,this._name)}get neworkId(){return this._neworkId}set neworkId(t){this._neworkId=t,this.scene.SetNetworkId(this,this._neworkId)}constructor(t,e){super(),this.active=!0,this.components={},this.id=_(),this.hasUnity=!1,this.meta={},this._name=t||"New Game Object",this.scene=te.GetInstance(),e?(this.unityId=e,this.hasUnity=!0):this.scene.AddObject(this,!0)}Destroy(t=!1){this.scene.RemoveObject(this,t)}Find(t){return mt(this,void 0,void 0,(function*(){return yield this.Async(),this.scene.FindByPath(this.path+"/"+t)}))}UpdatePath(){this.Traverse((t=>{t.parent&&this.scene.objects[t.parent]?t.path=this.scene.objects[t.parent].path+"/"+t.name:t.path=t.name}))}Traverse(t,e=!1){t(this);const s=Object.keys(this.scene.objects);if(e&&this.parent&&this.scene.objects[this.parent])this.scene.objects[this.parent].Traverse(t,!0);else for(let e=0;e<s.length;e++){const i=this.scene.objects[s[e]];i.hasUnity&&i.parent==this.unityId&&i.Traverse(t)}}GetComponent(t){const e=Object.keys(this.components);for(let s=0;s<e.length;s++)if(this.components[e[s]].type==t)return this.components[e[s]]}ObjectTextureToBase64(t){return mt(this,void 0,void 0,(function*(){return this.scene.ObjectTextureToBase64(this,t)}))}SetLayer(t){return mt(this,void 0,void 0,(function*(){return this.scene.SetLayer(this,t)}))}SetActive(t){return mt(this,void 0,void 0,(function*(){return this.scene.SetActive(this,t)}))}SetName(t){return mt(this,void 0,void 0,(function*(){return this.scene.SetName(this,t)}))}SetNetworkId(t){return mt(this,void 0,void 0,(function*(){return this.scene.SetNetworkId(this,t)}))}SetParent(t,e=!0){return mt(this,void 0,void 0,(function*(){if(yield this.Async(),yield t.Async(),t.unityId==this.unityId)throw new Error("Cannot set parent to self");let s=!1;if(this.Traverse((e=>{e.unityId==t.unityId&&(s=!0)})),s)throw new Error("Cannot set parent from a child object");return this.scene.SetParent(this,t,e)}))}AddComponent(t){return mt(this,void 0,void 0,(function*(){return this.scene.AddComponent(this,t)}))}Async(){return mt(this,void 0,void 0,(function*(){return yield this.scene.WaitForUnity(this),this}))}}function bt(t){return mt(this,void 0,void 0,(function*(){return new yt(t).Async()}))}class ft extends p{constructor(){super(),this.props={},this.scene=te.GetInstance()}Attach(t,e){return s=this,i=void 0,r=function*(){},new((n=void 0)||(n=Promise))((function(t,e){function o(t){try{h(r.next(t))}catch(t){e(t)}}function a(t){try{h(r.throw(t))}catch(t){e(t)}}function h(e){var s;e.done?t(e.value):(s=e.value,s instanceof n?s:new n((function(t){t(s)}))).then(o,a)}h((r=r.apply(s,i||[])).next())}));var s,i,n,r}}function _t(t){const e=te.GetInstance();switch(t.type){case"AvatarPlaybackCompleted":{const s=e.objects[t.id];s&&s.meta&&s.meta.el?s.meta.el.emit("avatar-playback-complete",t,!1):s.dispatchEvent(new CustomEvent("avatar-playback-complete",{detail:t}))}break;case"UserPose":window.userpose=t.pose,window.userPoseCallback&&window.userPoseCallback(t.pose),window.legacyPoseEnabled&&e.dispatchEvent(new CustomEvent("legacy-user-pose",{detail:t.pose}));break;case"VideoPrepareComplete":const s=e.objects[t.id];s&&s.meta&&s.meta.el?s.meta.el.emit("video-prepare-complete",t,!1):s.dispatchEvent(new CustomEvent("video-prepare-complete",{detail:t}));break;case"DoIOwn":window.doIOwnCallback&&window.doIOwnCallback(t.objectId,t.owned);break;default:console.log("Unknown message: "),console.log(t)}}class vt{constructor(t){this.totalCount=0,this.firstStartStamp=0,this.lastStamp=0,this.lastCount=0,this.started=!1,this.name=t,this.startTime=0}dumpLog(t){const e=t-this.lastStamp,s=`Counter ${this.name}: ${this.lastCount} in ${e.toFixed(2)} (${(this.lastCount/e).toFixed(2)}/sec), ${this.totalCount} total`;this.lastCount=0,this.lastStamp=t,console.log(s)}add(t=1){try{this.totalCount+=t,this.lastCount+=t,this.started||(this.started=!0,this.startTime=performance.now(),this.firstStartStamp=0,this.lastStamp=0);const e=(performance.now()-this.startTime)/1e3;e-this.lastStamp>=vt.LOG_INTERVAL_SEC&&this.dumpLog(e)}catch(t){throw console.error("Exception",t),t}}}vt.LOG_INTERVAL_SEC=1;class St{constructor(t){this.api=t}emit(t){this.api.emit(t)}on(t){this.api.on((e=>{t(e)}))}}var kt,At,wt=function(t,e,s,i){return new(s||(s=Promise))((function(n,r){function o(t){try{h(i.next(t))}catch(t){r(t)}}function a(t){try{h(i.throw(t))}catch(t){r(t)}}function h(t){var e;t.done?n(t.value):(e=t.value,e instanceof s?e:new s((function(t){t(e)}))).then(o,a)}h((i=i.apply(t,e||[])).next())}))};!function(t){t.CREATE_UI_ELEMENT="!cui!",t.DESTROY_UI_ELEMENT="!dui!",t.ATTACH_UI_CHILD="!auc!",t.DETACH_UI_CHILD="!duc!",t.SET_UI_PROPERTY="!sup!",t.GET_UI_PROPERTY="!gup!",t.SET_UI_STYLE="!sus!",t.GET_UI_STYLE="!gus!",t.BATCH_UI_UPDATE="!buu!",t.UI_EVENT="!uie!",t.REGISTER_UI_EVENT="!rue!",t.UNREGISTER_UI_EVENT="!uue!",t.CALL_UI_METHOD="!cum!",t.UI_METHOD_RETURN="!umr!",t.INSTANTIATE_UXML="!iux!",t.QUERY_UI_ELEMENT="!que!",t.GET_UI_SLOT="!gsl!",t.BIND_UI_DATA="!bud!",t.UNBIND_UI_DATA="!ubd!",t.UPDATE_UI_BINDING="!uub!",t.SET_UI_PARENT="!spr!",t.GET_UI_CHILDREN="!gch!",t.SET_UI_VISIBLE="!svs!",t.SET_UI_ENABLED="!sen!",t.SET_UI_FOCUS="!sfc!",t.CLEAR_UI_FOCUS="!cfc!",t.FORCE_UI_LAYOUT="!ful!",t.MEASURE_UI_ELEMENT="!mue!"}(kt||(kt={})),function(t){t[t.None=0]="None",t[t.Capture=1]="Capture",t[t.Target=2]="Target",t[t.Bubble=3]="Bubble"}(At||(At={}));class Et{constructor(t,e){var s,i,n;this.currentTarget=null,this.eventPhase=At.None,this.defaultPrevented=!1,this.propagationStopped=!1,this.immediatePropagationStopped=!1,this.type=t,this.target=(null==e?void 0:e.target)||null,this.relatedTarget=null==e?void 0:e.relatedTarget,this.bubbles=null===(s=null==e?void 0:e.bubbles)||void 0===s||s,this.cancelable=null===(i=null==e?void 0:e.cancelable)||void 0===i||i,this.timestamp=performance.now(),this.isTrusted=null!==(n=null==e?void 0:e.isTrusted)&&void 0!==n&&n}preventDefault(){this.cancelable&&!this.defaultPrevented&&(this.defaultPrevented=!0)}stopPropagation(){this.propagationStopped=!0}stopImmediatePropagation(){this.propagationStopped=!0,this.immediatePropagationStopped=!0}}class Rt extends Et{constructor(t,e){var s,i,n,r,o,a,h,l,c,u,d,p,g,m,y,b;super(t,e),this.button=null!==(s=null==e?void 0:e.button)&&void 0!==s?s:0,this.buttons=null!==(i=null==e?void 0:e.buttons)&&void 0!==i?i:0,this.clientX=null!==(n=null==e?void 0:e.clientX)&&void 0!==n?n:0,this.clientY=null!==(r=null==e?void 0:e.clientY)&&void 0!==r?r:0,this.screenX=null!==(o=null==e?void 0:e.screenX)&&void 0!==o?o:0,this.screenY=null!==(a=null==e?void 0:e.screenY)&&void 0!==a?a:0,this.movementX=null!==(h=null==e?void 0:e.movementX)&&void 0!==h?h:0,this.movementY=null!==(l=null==e?void 0:e.movementY)&&void 0!==l?l:0,this.offsetX=null!==(c=null==e?void 0:e.offsetX)&&void 0!==c?c:0,this.offsetY=null!==(u=null==e?void 0:e.offsetY)&&void 0!==u?u:0,this.pageX=null!==(d=null==e?void 0:e.pageX)&&void 0!==d?d:0,this.pageY=null!==(p=null==e?void 0:e.pageY)&&void 0!==p?p:0,this.ctrlKey=null!==(g=null==e?void 0:e.ctrlKey)&&void 0!==g&&g,this.shiftKey=null!==(m=null==e?void 0:e.shiftKey)&&void 0!==m&&m,this.altKey=null!==(y=null==e?void 0:e.altKey)&&void 0!==y&&y,this.metaKey=null!==(b=null==e?void 0:e.metaKey)&&void 0!==b&&b}}class Ct extends Rt{constructor(t,e){var s,i,n,r,o,a,h,l,c,u;super(t,e),this.pointerId=null!==(s=null==e?void 0:e.pointerId)&&void 0!==s?s:0,this.pointerType=null!==(i=null==e?void 0:e.pointerType)&&void 0!==i?i:"mouse",this.pressure=null!==(n=null==e?void 0:e.pressure)&&void 0!==n?n:0,this.tangentialPressure=null!==(r=null==e?void 0:e.tangentialPressure)&&void 0!==r?r:0,this.tiltX=null!==(o=null==e?void 0:e.tiltX)&&void 0!==o?o:0,this.tiltY=null!==(a=null==e?void 0:e.tiltY)&&void 0!==a?a:0,this.twist=null!==(h=null==e?void 0:e.twist)&&void 0!==h?h:0,this.width=null!==(l=null==e?void 0:e.width)&&void 0!==l?l:1,this.height=null!==(c=null==e?void 0:e.height)&&void 0!==c?c:1,this.isPrimary=null===(u=null==e?void 0:e.isPrimary)||void 0===u||u}}class Tt extends Et{constructor(t,e){var s,i,n,r,o,a,h,l,c,u,d;super(t,e),this.key=null!==(s=null==e?void 0:e.key)&&void 0!==s?s:"",this.code=null!==(i=null==e?void 0:e.code)&&void 0!==i?i:"",this.keyCode=null!==(n=null==e?void 0:e.keyCode)&&void 0!==n?n:0,this.charCode=null!==(r=null==e?void 0:e.charCode)&&void 0!==r?r:0,this.location=null!==(o=null==e?void 0:e.location)&&void 0!==o?o:0,this.repeat=null!==(a=null==e?void 0:e.repeat)&&void 0!==a&&a,this.ctrlKey=null!==(h=null==e?void 0:e.ctrlKey)&&void 0!==h&&h,this.shiftKey=null!==(l=null==e?void 0:e.shiftKey)&&void 0!==l&&l,this.altKey=null!==(c=null==e?void 0:e.altKey)&&void 0!==c&&c,this.metaKey=null!==(u=null==e?void 0:e.metaKey)&&void 0!==u&&u,this.isComposing=null!==(d=null==e?void 0:e.isComposing)&&void 0!==d&&d}}class Pt extends Et{constructor(t,e){var s;super(t,e),this.relatedTarget=null!==(s=null==e?void 0:e.relatedTarget)&&void 0!==s?s:null}}class Bt extends Et{constructor(t,e){var s,i,n;super(t,e),this.data=null!==(s=null==e?void 0:e.data)&&void 0!==s?s:null,this.inputType=null!==(i=null==e?void 0:e.inputType)&&void 0!==i?i:"insertText",this.isComposing=null!==(n=null==e?void 0:e.isComposing)&&void 0!==n&&n}}class It extends Et{constructor(t,e){super(t,e),this.value=null==e?void 0:e.value,this.previousValue=null==e?void 0:e.previousValue}}class xt extends Rt{constructor(t,e){var s,i,n,r;super(t,e),this.deltaX=null!==(s=null==e?void 0:e.deltaX)&&void 0!==s?s:0,this.deltaY=null!==(i=null==e?void 0:e.deltaY)&&void 0!==i?i:0,this.deltaZ=null!==(n=null==e?void 0:e.deltaZ)&&void 0!==n?n:0,this.deltaMode=null!==(r=null==e?void 0:e.deltaMode)&&void 0!==r?r:0}}class Mt extends Et{constructor(t,e){super(t,e),this.detail=null==e?void 0:e.detail}}class Nt extends Et{constructor(t,e){var s,i,n,r,o,a,h;super(t,e),this.touches=null!==(s=null==e?void 0:e.touches)&&void 0!==s?s:[],this.targetTouches=null!==(i=null==e?void 0:e.targetTouches)&&void 0!==i?i:[],this.changedTouches=null!==(n=null==e?void 0:e.changedTouches)&&void 0!==n?n:[],this.ctrlKey=null!==(r=null==e?void 0:e.ctrlKey)&&void 0!==r&&r,this.shiftKey=null!==(o=null==e?void 0:e.shiftKey)&&void 0!==o&&o,this.altKey=null!==(a=null==e?void 0:e.altKey)&&void 0!==a&&a,this.metaKey=null!==(h=null==e?void 0:e.metaKey)&&void 0!==h&&h}}class Lt{static createMouseEvent(t,e){return new Rt(t,e)}static createPointerEvent(t,e){return new Ct(t,e)}static createKeyboardEvent(t,e){return new Tt(t,e)}static createFocusEvent(t,e){return new Pt(t,e)}static createInputEvent(t,e){return new Bt(t,e)}static createChangeEvent(t,e){return new It(t,e)}static createWheelEvent(t,e){return new xt(t,e)}static createTouchEvent(t,e){return new Nt(t,e)}static createCustomEvent(t,e){return new Mt(t,e)}static createEvent(t,e){return new Et(t,e)}}class Ot{constructor(){this._eventListeners=new Map,this._captureListeners=new Map}addEventListener(t,e,s){if(!e)return;const i=this.createListener(t,e,s),n=i.capture?this._captureListeners:this._eventListeners;n.has(t)||n.set(t,[]);const r=n.get(t);r.some((t=>t.handler===e&&t.capture===i.capture))||(r.push(i),i.options&&"object"==typeof i.options&&i.options.signal&&i.options.signal.addEventListener("abort",(()=>{this.removeEventListener(t,e,s)})))}removeEventListener(t,e,s){if(!e)return;const i=this.isCapture(s),n=i?this._captureListeners:this._eventListeners,r=n.get(t);if(r){const s=r.findIndex((t=>t.handler===e&&t.capture===i));-1!==s&&(r.splice(s,1),0===r.length&&n.delete(t))}}dispatchEvent(t){return t.target||Object.defineProperty(t,"target",{value:this,writable:!1}),this.executeListeners(t,At.Capture),t.target&&t.target===this&&this.executeListeners(t,At.Target),t.bubbles&&!t.propagationStopped&&this.executeListeners(t,At.Bubble),!t.defaultPrevented}executeListeners(t,e){Object.defineProperty(t,"currentTarget",{value:this,writable:!0}),Object.defineProperty(t,"eventPhase",{value:e,writable:!0});let s=[];s=e===At.Capture?this._captureListeners.get(t.type)||[]:this._eventListeners.get(t.type)||[];for(const e of[...s]){if(t.immediatePropagationStopped)break;try{if(e.passive&&t.cancelable){const s=t.preventDefault;t.preventDefault=()=>{console.warn("Event preventDefault() ignored due to passive listener")},e.handler.call(this,t),t.preventDefault=s}else e.handler.call(this,t);e.once&&this.removeEventListener(e.type,e.handler,e.options)}catch(e){console.error(`Error in event listener for '${t.type}':`,e)}}}hasEventListener(t,e){return void 0===e?this._eventListeners.has(t)||this._captureListeners.has(t):(e?this._captureListeners:this._eventListeners).has(t)}getEventListeners(t,e){if(void 0===e){const e=this._eventListeners.get(t)||[];return[...this._captureListeners.get(t)||[],...e]}return(e?this._captureListeners:this._eventListeners).get(t)||[]}removeAllEventListeners(t){t?(this._eventListeners.delete(t),this._captureListeners.delete(t)):(this._eventListeners.clear(),this._captureListeners.clear())}createListener(t,e,s){return{type:t,handler:e,options:s,capture:this.isCapture(s),once:this.isOnce(s),passive:this.isPassive(s)}}isCapture(t){var e;return"boolean"==typeof t?t:null!==(e=null==t?void 0:t.capture)&&void 0!==e&&e}isOnce(t){var e;return"object"==typeof t&&null!==(e=t.once)&&void 0!==e&&e}isPassive(t){var e;return"object"==typeof t&&null!==(e=t.passive)&&void 0!==e&&e}}class Dt{constructor(){this.eventQueue=[],this.isDispatching=!1}static getInstance(){return Dt.instance||(Dt.instance=new Dt),Dt.instance}dispatchEvent(t,e){if(!e||!t)return!1;Object.defineProperty(t,"target",{value:e,writable:!1});const s=this.buildPropagationPath(e);return!1!==t.capturable&&this.executePhase(t,s.slice(0,-1),At.Capture,!0),t.propagationStopped||this.executePhase(t,[e],At.Target,!1),t.bubbles&&!t.propagationStopped&&this.executePhase(t,s.slice(0,-1).reverse(),At.Bubble,!1),!t.defaultPrevented}queueEvent(t,e){this.eventQueue.push(t),this.isDispatching||this.processEventQueue()}processEventQueue(){0!==this.eventQueue.length?(this.isDispatching=!0,requestAnimationFrame((()=>{const t=this.eventQueue.shift();t&&t.target&&this.dispatchEvent(t,t.target),this.processEventQueue()}))):this.isDispatching=!1}buildPropagationPath(t){const e=[];let s=t;for(;s;)e.unshift(s),s=s.parent;return e}executePhase(t,e,s,i){for(const i of e){if(t.propagationStopped)break;Object.defineProperty(t,"currentTarget",{value:i,writable:!0}),Object.defineProperty(t,"eventPhase",{value:s,writable:!0}),i instanceof Ot?i.executeListeners(t,s):"function"==typeof i.dispatchEvent&&i.dispatchEvent(t)}}createAndDispatchEvent(t,e,s,i){var n,r;const o={type:e,target:t,currentTarget:null,eventPhase:At.None,bubbles:null===(n=null==i?void 0:i.bubbles)||void 0===n||n,cancelable:null===(r=null==i?void 0:i.cancelable)||void 0===r||r,defaultPrevented:!1,propagationStopped:!1,immediatePropagationStopped:!1,timestamp:Date.now(),isTrusted:!1,detail:s,preventDefault(){this.cancelable&&(this.defaultPrevented=!0)},stopPropagation(){this.propagationStopped=!0},stopImmediatePropagation(){this.propagationStopped=!0,this.immediatePropagationStopped=!0}};return this.dispatchEvent(o,t)}dispatchUnityEvent(t,e,s){if(!t)return void console.warn(`Element not found for Unity event: ${t.id}`);const i=this.convertUnityEvent(e,s);this.dispatchEvent(i,t)}convertUnityEvent(t,e){var s,i,n,r,o,a,h,l,c,u,d,p;const g={type:t,target:null,currentTarget:null,eventPhase:At.None,bubbles:!0,cancelable:!0,defaultPrevented:!1,propagationStopped:!1,immediatePropagationStopped:!1,timestamp:e.timestamp||Date.now(),character:e.character||"",clickCount:e.clickCount||0,isTrusted:!0,preventDefault(){this.cancelable&&(this.defaultPrevented=!0)},stopPropagation(){this.propagationStopped=!0},stopImmediatePropagation(){this.propagationStopped=!0,this.immediatePropagationStopped=!0}};switch(t){case"click":case"mousedown":case"mouseup":case"mousemove":case"mouseenter":case"mouseleave":return Object.assign(Object.assign({},g),{button:e.button||0,buttons:e.buttons||0,clientX:(null===(s=e.localMousePosition)||void 0===s?void 0:s.x)||0,clientY:(null===(i=e.localMousePosition)||void 0===i?void 0:i.y)||0,screenX:(null===(n=e.mousePosition)||void 0===n?void 0:n.x)||0,screenY:(null===(r=e.mousePosition)||void 0===r?void 0:r.y)||0,movementX:(null===(o=e.mouseDelta)||void 0===o?void 0:o.x)||0,movementY:(null===(a=e.mouseDelta)||void 0===a?void 0:a.y)||0,clickCount:e.clickCount||1,ctrlKey:e.ctrlKey||!1,shiftKey:e.shiftKey||!1,altKey:e.altKey||!1,metaKey:e.commandKey||!1,localMousePosition:e.localMousePosition,mousePosition:e.mousePosition,deltaPosition:e.deltaPosition,position:e.position});case"keydown":case"keyup":return Object.assign(Object.assign({},g),{key:e.character||"",code:e.character||"",keyCode:e.keyCode||0,charCode:e.keyCode||0,location:0,repeat:!1,ctrlKey:e.ctrlKey||!1,shiftKey:e.shiftKey||!1,altKey:e.altKey||!1,metaKey:e.commandKey||!1,character:e.character});case"focus":case"blur":case"focusin":case"focusout":return Object.assign(Object.assign({},g),{relatedTarget:null,direction:e.direction});case"change":return Object.assign(Object.assign({},g),{value:e.newValue,previousValue:e.previousValue,newValue:e.newValue});case"input":return Object.assign(Object.assign({},g),{data:e.newValue||null,inputType:"insertText",isComposing:!1});case"wheel":return Object.assign(Object.assign({},g),{deltaX:(null===(h=e.delta)||void 0===h?void 0:h.x)||0,deltaY:(null===(l=e.delta)||void 0===l?void 0:l.y)||0,deltaZ:0,deltaMode:0,clientX:(null===(c=e.localMousePosition)||void 0===c?void 0:c.x)||0,clientY:(null===(u=e.localMousePosition)||void 0===u?void 0:u.y)||0,screenX:(null===(d=e.mousePosition)||void 0===d?void 0:d.x)||0,screenY:(null===(p=e.mousePosition)||void 0===p?void 0:p.y)||0,ctrlKey:e.ctrlKey||!1,shiftKey:e.shiftKey||!1,altKey:e.altKey||!1,metaKey:e.commandKey||!1,delta:e.delta,localMousePosition:e.localMousePosition,mousePosition:e.mousePosition});default:return Object.assign(Object.assign({},g),e)}}findElementById(t){var e;return(null===(e=window.__uiElements)||void 0===e?void 0:e.get(t))||null}}Dt.getInstance();class Yt{constructor(){this.elements=new Map,this.eventDispatcher=Dt.getInstance()}static getInstance(){return Yt.instance||(Yt.instance=new Yt),Yt.instance}registerElement(t){this.elements.set(t.id,t)}unregisterElement(t){this.elements.delete(t)}getElement(t){return this.elements.get(t)}processMessage(t){if(!this.isUIMessage(t))return!1;try{const e=t.split(u.PRIMARY),s=e[0];switch(s){case kt.UI_EVENT:return this.handleUIEvent(e.slice(1)),!0;case kt.UI_METHOD_RETURN:return this.handleMethodReturn(e.slice(1)),!0;case kt.BATCH_UI_UPDATE:return this.handleBatchUpdate(e.slice(1)),!0;default:return console.warn(`Unknown UI command: ${s}`),!1}}catch(e){return console.error("Error processing UI message:",e,t),!1}}isUIMessage(t){return Object.values(kt).some((e=>t.startsWith(e)))}handleUIEvent(t){if(t.length<3)return void console.warn("Invalid UI_EVENT message format");console.log("Received UI event from Unity:",t),console.log(this.elements);const[e,s,i]=t,n=this.elements.get(e);if(!n)return void console.warn(`UI element not found: ${e}`);let r={};try{i&&(r=JSON.parse(i))}catch(t){console.warn("Failed to parse UI event data:",i)}this.eventDispatcher.dispatchUnityEvent(n,s,r)}handleMethodReturn(t){if(t.length<2)return void console.warn("Invalid UI_METHOD_RETURN message format");const[e,s]=t;console.log(`UI method return - Request: ${e}, Result: ${s}`)}handleBatchUpdate(t){if(t.length<1)return void console.warn("Invalid BATCH_UI_UPDATE message format");const e=t[0];try{const t=JSON.parse(e);Array.isArray(t)&&t.forEach((t=>{this.processBatchUpdateItem(t)}))}catch(t){console.error("Failed to parse batch UI update:",t,e)}}processBatchUpdateItem(t){const{elementId:e,type:s,data:i}=t,n=this.elements.get(e);if(n)switch(s){case"property":i.name&&void 0!==i.value&&n.setProperty(i.name,i.value);break;case"style":i.name&&void 0!==i.value&&n.setStyle(i.name,i.value);break;case"event":if(i.type){const t=Lt.createEvent(i.type,i);n.dispatchEvent(t)}break;default:console.warn(`Unknown batch update type: ${s}`)}else console.warn(`UI element not found for batch update: ${e}`)}}var Ut=function(t,e,s,i){return new(s||(s=Promise))((function(n,r){function o(t){try{h(i.next(t))}catch(t){r(t)}}function a(t){try{h(i.throw(t))}catch(t){r(t)}}function h(t){var e;t.done?n(t.value):(e=t.value,e instanceof s?e:new s((function(t){t(e)}))).then(o,a)}h((i=i.apply(t,e||[])).next())}))};class jt{constructor(){this.components={}}Add(t,e){return this.components[t.unityId]={comp:t,props:e},this}}class Jt{constructor(){this.properties=[]}}class Ft{constructor(){this.EnableDevTools=!0,this.EnableTeleport=!0,this.EnableForceGrab=!1,this.EnableSpiderMan=!1,this.EnableHandHold=!0,this.EnableRadar=!0,this.EnableNametags=!0,this.EnablePortals=!0,this.EnableGuests=!0,this.EnableQuaternionPose=!1,this.EnableControllerExtras=!1,this.EnableFriendPositionJoin=!0,this.EnableDefaultTextures=!0,this.EnableAvatars=!0,this.MaxOccupancy=20,this.RefreshRate=72,this.ClippingPlane=new E(.02,1500),this.SpawnPoint=new C,this.PhysicsMoveSpeed=4,this.PhysicsMoveAcceleration=4.6,this.PhysicsAirControlSpeed=3.8,this.PhysicsAirControlAcceleration=6,this.PhysicsDrag=0,this.PhysicsFreeFallAngularDrag=6,this.PhysicsJumpStrength=1,this.PhysicsHandPositionStrength=1,this.PhysicsHandRotationStrength=1,this.PhysicsHandSpringiness=10,this.PhysicsGrappleRange=512,this.PhysicsGrappleReelSpeed=1,this.PhysicsGrappleSpringiness=10,this.PhysicsGorillaMode=!1,this.SettingsLocked=!1,this.PhysicsSettingsLocked=!1}Serialize(){return Object.keys(this).map((t=>{if(this[t].Serialize)return t+u.SECONDARY+this[t].Serialize();switch(t){case"MaxOccupancy":case"RefreshRate":case"PhysicsMoveSpeed":case"PhysicsMoveAcceleration":case"PhysicsAirControlSpeed":case"PhysicsAirControlAcceleration":case"PhysicsDrag":case"PhysicsFreeFallAngularDrag":case"PhysicsJumpStrength":case"PhysicsHandPositionStrength":case"PhysicsHandRotationStrength":case"PhysicsHandSpringiness":case"PhysicsGrappleRange":case"PhysicsGrappleReelSpeed":case"PhysicsGrappleSpringiness":return t+u.SECONDARY+this[t];default:return t+u.SECONDARY+(this[t]?1:0)}})).join(u.PRIMARY)}Deserialize(t){t.split(u.PRIMARY).map((t=>t.split(u.SECONDARY))).forEach((t=>{const e=t[0];if(this[e].Deserialize)this[e].Deserialize(t[1]);else switch(e){case"RefreshRate":case"MaxOccupancy":case"PhysicsMoveSpeed":case"PhysicsMoveAcceleration":case"PhysicsAirControlSpeed":case"PhysicsAirControlAcceleration":case"PhysicsDrag":case"PhysicsFreeFallAngularDrag":case"PhysicsJumpStrength":case"PhysicsHandPositionStrength":case"PhysicsHandRotationStrength":case"PhysicsHandSpringiness":case"PhysicsGrappleRange":case"PhysicsGrappleReelSpeed":case"PhysicsGrappleSpringiness":this[e]=Number(t[1]);default:this[e]="1"==t[1]}}))}}const zt={},Gt={},Vt=new class{constructor(){this._updates=[],this._api=new St(window._api),this._interval=setInterval((()=>this.tick()),11)}emit(t){this._updates.push(t)}tick(){this._updates.length>0&&(this._api.emit(u.PRIMARY+u.SECONDARY+u.TERTIARY+Array.from(this._updates).join(u.PRIMARY+u.SECONDARY+u.TERTIARY)),this._updates=[])}on(t){this._api.on(t)}},Ht={};let qt,Wt,Kt,Xt=0;var Zt=t=>{Wt||Vt.emit(t)};setTimeout((()=>Zt(c.NOTHING_20S)),3e4),setTimeout((()=>Zt(c.NOTHING)),26e4);let $t=new class extends p{};function Qt(t,e,s=!1){return Ut(this,void 0,void 0,(function*(){const i=yield new yt("AssetBundleLoader").Async(),n=location.protocol+"//"+location.host;return console.log("Loading asset bundle from HTML: ",e||n+"/windows.banter",t||n+"/android.banter"),yield i.AddComponent(new A(e||n+"/windows.banter",null,null,t||n+"/android.banter",null,null,!0,s)),i}))}new class{constructor(t){this.lastFocusedWasEditable=!1,this.dragSource=null,this.dataTransfer=null,this.lastTarget=null,this.activeDrag=null,this.dragMove=null,this.dragDrop=null,this.checkFocusChange=()=>{const t=this.getDeepActiveElement(),e=this.isEditable(t);e&&!this.lastFocusedWasEditable?(this.lastFocusedWasEditable=!0,this.api.emit(c.KEYBOARD_FOCUS+u.PRIMARY+"focus"),t.focus()):!e&&this.lastFocusedWasEditable&&(this.lastFocusedWasEditable=!1,this.api.emit(c.KEYBOARD_FOCUS+u.PRIMARY+"blur"),t.blur())},this.api=t,document.addEventListener("DOMContentLoaded",(()=>wt(this,void 0,void 0,(function*(){this.html=document.querySelector("html"),this.hasAndroid=this.html.hasAttribute("android-bundle"),this.hasWindows=this.html.hasAttribute("windows-bundle"),this.hasHideSpaceInfo=this.html.hasAttribute("hide-space-info"),this.setup(),this.setupSpaceDetails(),yield this.injectJs("https://cdn.jsdelivr.net/gh/zoltantothcom/vanilla-js-dropdown/dist/vanilla-js-dropdown.min.js"),this.injectCSS(this.getSelectCss()),this.setupSelectReplacement(),this.setupFocusBlurCheck(),document.addEventListener("dragstart",(t=>{this.startDrag(t.target,t.clientX,t.clientY,t.dataTransfer)}),!0)}))))}setup(){return wt(this,void 0,void 0,(function*(){(this.hasAndroid||this.hasWindows)&&Qt(this.html.getAttribute("android-bundle"),this.html.getAttribute("windows-bundle"))}))}setupSpaceDetails(){return wt(this,void 0,void 0,(function*(){if(!this.hasHideSpaceInfo){const t=document.body,e=document.querySelector("html");let s,i,n;t.style.margin="0",t.style.background="transparent url(https://bantervr.com/Maincontent.3455a4ccd764cf70.png)",e.style.padding="0";const r="No name...",o="https://bantervr.com/Maincontent.3455a4ccd764cf70.png",a="No details...",h=yield fetch("https://api.sidequestvr.com/v2/communities/space-info?space_url="+window.location.href),l=yield h.json();if(l.name)s=l.name,i=l.icon,n=l.description;else{const t=document.getElementsByTagName("meta");for(let e=0;e<t.length;e++)try{const r=t[e].attributes.property.value,o=t[e].attributes.content.value;switch(r){case"og:title":s=o;break;case"og:description":n=o;break;case"og:image":i=o}}catch(t){}}const c='\n            <div id="spaceMainImage" style="float: left; width: 320px; height: 240px; margin-left: 20px; margin-top: 20px;"></div>\n            <div style="float: left">\n                <div id="spaceTitle" style="margin: 20px; font-size: 30px; color: white; font-family: Arial, sans-serif;"></div>\n                <div id="spaceDetails" style="margin: 20px; margin-top: 0px; font-size: 16px; color: #AFAFAF; font-family: Arial, sans-serif;"></div>\n            </div>\n            ';t.insertAdjacentHTML("beforeend",c);const u=document.getElementById("spaceMainImage");u.style.background="transparent url('"+(i||o)+"') center center no-repeat",u.style.backgroundSize="cover",document.getElementById("spaceTitle").innerText=s||r,document.getElementById("spaceDetails").innerText=n||a}}))}enhanceSelect(t){t.dataset.vjsdInit||(new CustomSelect({elem:t}),t.dataset.vjsdInit="true")}setupSelectReplacement(){document.querySelectorAll("select").forEach(this.enhanceSelect),new MutationObserver((t=>{var e,s;for(const i of t)for(const t of Array.from(i.addedNodes))1===t.nodeType&&("SELECT"===t.tagName?this.enhanceSelect(t):null===(s=(e=t).querySelectorAll)||void 0===s||s.call(e,"select").forEach(this.enhanceSelect))})).observe(document.body,{childList:!0,subtree:!0})}injectJs(t){return new Promise(((e,s)=>{const i=document.createElement("script");i.src=t,i.async=!0,i.onload=()=>{e()},i.onerror=()=>{console.error("Failed to load script:",t),s(new Error(`Failed to load script: ${t}`))},document.body.appendChild(i)}))}fireDragEvent(t,e,s={}){const i=new DragEvent(t,{bubbles:!0,cancelable:!0,clientX:s.x,clientY:s.y,dataTransfer:s.dataTransfer});e.dispatchEvent(i)}startDrag(t,e,s,i){this.dataTransfer=i||new DataTransfer,this.dragSource=t,this.dragMove=t=>this.move(t.clientX,t.clientY),this.dragDrop=t=>this.drop(t.clientX,t.clientY),document.addEventListener("mousemove",this.dragMove),document.addEventListener("mouseup",this.dragDrop)}move(t,e){if(!this.dragSource)return;const s=document.elementFromPoint(t,e);s&&(s!==this.lastTarget&&(this.lastTarget&&this.fireDragEvent("dragleave",this.lastTarget,{x:t,y:e,dataTransfer:this.dataTransfer}),this.fireDragEvent("dragenter",s,{x:t,y:e,dataTransfer:this.dataTransfer}),this.lastTarget=s),this.fireDragEvent("dragover",s,{x:t,y:e,dataTransfer:this.dataTransfer}))}drop(t,e){if(!this.dragSource)return;const s=document.elementFromPoint(t,e);s&&this.fireDragEvent("drop",s,{x:t,y:e,dataTransfer:this.dataTransfer}),this.fireDragEvent("dragend",this.dragSource,{x:t,y:e,dataTransfer:this.dataTransfer}),this.dragSource=null,this.lastTarget=null,this.dataTransfer=null,document.removeEventListener("mousemove",this.dragMove),document.removeEventListener("mouseup",this.dragDrop)}isEditable(t){return!(!t||"INPUT"!==t.tagName&&"TEXTAREA"!==t.tagName&&!t.isContentEditable)}getDeepActiveElement(t=document){let e=t.activeElement;for(;e&&e.shadowRoot&&e.shadowRoot.activeElement;)e=e.shadowRoot.activeElement;return e}setupFocusBlurCheck(){document.addEventListener("focusin",(t=>{this.isEditable(t.target)&&(this.lastFocusedWasEditable=!0,this.api.emit(c.KEYBOARD_FOCUS+u.PRIMARY+"focus"),t.target.focus())})),document.addEventListener("focusout",(t=>{this.isEditable(t.target)&&(this.lastFocusedWasEditable=!1,this.api.emit(c.KEYBOARD_FOCUS+u.PRIMARY+"blur"),t.target.blur())})),setInterval(this.checkFocusChange.bind(this),200)}injectCSS(t){const e=document.createElement("style");e.type="text/css",e.appendChild(document.createTextNode(t)),document.head.appendChild(e)}getSelectCss(){return'.js-Dropdown {\n    display: inline-block;\n    /* font: 400 14px sans-serif; */\n    position: relative;\n    width: 20em;\n    color: black;\n    \n}\n.js-Dropdown-title {\n    background: white;\n    color: black;\n    cursor: pointer;\n    width: 100%;\n    position: relative;\n    text-align: left;\n    /* box-sizing: border-box;\n    font: 12px sans-serif;\n     */\n}\n.js-Dropdown-title:after {\n    /* border-color: #a5a5a5 transparent transparent transparent;\n    border-style: solid;\n    border-width: 10px 12px; */\n    content: "";\n    display: block;\n    height: 0;\n    position: absolute;\n    /* right: 1em;\n    top: 45%; */\n    width: 0;\n}\n.js-Dropdown-list {\n    background: #fff;\n    /* border-left: 1px solid #a5a5a5;\n    border-right: 1px solid #a5a5a5;\n    box-sizing: border-box; */\n    display: none;\n    height: 0;\n    list-style: none;\n    /* margin: 0; */\n    opacity: 0;\n    /* padding: 0; */\n    position: absolute;\n    transition: 0.2s linear;\n    width: 100%;\n    z-index: 999;\n}\n.js-Dropdown-list.is-open {\n    display: block;\n    height: auto;\n    opacity: 1;\n}\n.js-Dropdown-list li {\n    /* border-bottom: 1px solid #a5a5a5; */\n    cursor: pointer;\n    /* padding: 1em 0.5em; */\n}\n.js-Dropdown-list li:hover {\n    background-color: #fff5e9;\n}\n.js-Dropdown-list li.is-selected {\n    background-color: #ffdfb6;\n}\n.js-Dropdown-list li.is-disabled {\n    background-color: #f5f5f5;\n    color: #a5a5a5; \n    cursor: not-allowed;\n}\n.js-Dropdown-optgroup {\n    /* border-bottom: 1px solid #a5a5a5; */\n    color: #a5a5a5;\n    cursor: default;\n    /* padding: 1em 0.5em; */\n    /* text-align: center; */\n}'}}(Vt);class te extends p{constructor(){super(),this.objects={},this.components={},this.users={},this.spaceState={public:{},protected:{}},this.uiMessageHandler=Yt.getInstance(),Vt.emit(c.SCENE_START),this.FireUnityLoaded(),Vt.on((t=>this.ParseMessage(t)))}FireUnityLoaded(){return Ut(this,void 0,void 0,(function*(){yield this.WaitForUnityLoaded(),yield this.WaitForEndOfFrame(),this.dispatchEvent(new CustomEvent(gt.UNITY_LOADED))}))}SetLoadPromise(t){return Ut(this,void 0,void 0,(function*(){Kt?console.warn("Load promise already set."):(Kt=t,yield Kt,this.SetSceneLoaded())}))}SetSettings(t){return Ut(this,void 0,void 0,(function*(){console.warn("[BanterScene] SetSettings: "+t),yield this.Send(c.SCENE_SETTINGS,t.Serialize())}))}SetSceneLoaded(){Wt=!0,console.log("Banter Scene Loaded."),Vt.emit(c.SCENE_READY),this.dispatchEvent(new CustomEvent(gt.LOADED))}DebounceLoad(){Wt||Kt||(clearTimeout(qt),qt=setTimeout((()=>Ut(this,void 0,void 0,(function*(){this.SetSceneLoaded()}))),1e3))}Find(t){return Ut(this,void 0,void 0,(function*(){const e=Object.values(this.objects);for(let s=0;s<e.length;s++)if(yield e[s].Async(),e[s].name==t)return e[s]}))}FindByPath(t){return Ut(this,void 0,void 0,(function*(){const e=Object.values(this.objects);for(let s=0;s<e.length;s++)if(yield e[s].Async(),e[s].path==t)return e[s]}))}getUIMessageHandler(){return this.uiMessageHandler}OpenPage(t){return Ut(this,void 0,void 0,(function*(){yield this.Send(c.OPEN_PAGE,t)}))}DeepLink(t,e){return Ut(this,void 0,void 0,(function*(){yield this.Send(c.DEEP_LINK,t+u.PRIMARY+e)}))}StartTTS(t){return Ut(this,void 0,void 0,(function*(){yield this.Send(c.START_TTS,t?"1":"0")}))}StopTTS(t){return Ut(this,void 0,void 0,(function*(){yield this.Send(c.STOP_TTS,t)}))}AiImage(t,e){return Ut(this,void 0,void 0,(function*(){yield this.Send(c.AI_IMAGE,t+u.PRIMARY+e)}))}AiModel(t,e,s){return Ut(this,void 0,void 0,(function*(){yield this.Send(c.AI_MODEL,t+u.PRIMARY+e+u.PRIMARY+s)}))}AddPlayerForce(t,e){return Ut(this,void 0,void 0,(function*(){yield this.Send(c.ADD_PLAYER_FORCE,t.x+u.PRIMARY+t.y+u.PRIMARY+t.z+u.PRIMARY+e)}))}SelectFile(t){return Ut(this,void 0,void 0,(function*(){yield this.Send(c.SELECT_FILE,t)}))}Base64ToCDN(t,e){return Ut(this,void 0,void 0,(function*(){yield this.Send(c.BASE_64_TO_CDN,e+u.PRIMARY+t)}))}ObjectTextureToBase64(t,e){return Ut(this,void 0,void 0,(function*(){return this.Send(c.OBJECT_TEX_TO_BASE_64,t.unityId+u.PRIMARY+e)}))}SendBrowserMessage(t){return Ut(this,void 0,void 0,(function*(){yield this.Send(c.SEND_MENU_BROWSER_MESSAGE,t)}))}Gravity(t){return Ut(this,void 0,void 0,(function*(){yield this.Send(c.GRAVITY,t.x+u.PRIMARY+t.y+u.PRIMARY+t.z)}))}TimeScale(t){return Ut(this,void 0,void 0,(function*(){yield this.Send(c.TIME_SCALE,t)}))}PlayerSpeed(t){return Ut(this,void 0,void 0,(function*(){yield this.Send(c.PLAYER_SPEED,t?"1":"0")}))}YtInfo(t){return Ut(this,void 0,void 0,(function*(){const e=(yield this.Send(c.YT_INFO,t)).split(u.TERTIARY);return JSON.parse(e[1])}))}TeleportTo(t,e,s,i=!1){return Ut(this,void 0,void 0,(function*(){yield this.Send(c.TELEPORT,t.x+u.PRIMARY+t.y+u.PRIMARY+t.z+u.PRIMARY+e+u.PRIMARY+(s?1:0)+u.PRIMARY+(i?1:0))}))}SetPublicSpaceProps(t){return this.SetProp(c.SET_PUBLIC_SPACE_PROPS,t)}SetProtectedSpaceProps(t){return this.SetProp(c.SET_PROTECTED_SPACE_PROPS,t)}SetUserProps(t,e){return this.SetProp(c.SET_USER_PROPS,t,e)}SetProp(t,e,s=null){return Vt.emit(t+u.PRIMARY+Object.keys(e).map((t=>t+u.TERTIARY+e[t])).join(u.SECONDARY)+(s?u.PRIMARY+s:""))}WaitForEndOfFrame(){return Ut(this,void 0,void 0,(function*(){yield this.Send(c.WAIT_FOR_END_OF_FRAME,"")}))}Instantiate(t){return Ut(this,void 0,void 0,(function*(){yield t.Async();const e=t.active;e||(yield t.SetActive(!0));const s=yield this.Send(c.INSTANTIATE,t.unityId);return e||t.SetActive(!1),yield this.WaitForEndOfFrame(),this.objects[s.split(u.PRIMARY)[1]]}))}SetLayer(t,e){return Ut(this,void 0,void 0,(function*(){yield t.Async(),yield this.Send(c.SET_LAYER,t.unityId+u.PRIMARY+e)}))}SetActive(t,e){return Ut(this,void 0,void 0,(function*(){yield this.WaitForUnityLoaded(),yield this.Send(c.SET_ACTIVE,t.unityId+u.PRIMARY+(e?1:0)),t.active=e}))}SetNetworkId(t,e){return Ut(this,void 0,void 0,(function*(){yield this.WaitForUnityLoaded(),yield this.Send(c.SET_NETWORK_ID,t.unityId+u.PRIMARY+e)}))}SetName(t,e){return Ut(this,void 0,void 0,(function*(){yield this.WaitForUnityLoaded(),yield this.Send(c.SET_NAME,t.unityId+u.PRIMARY+e)}))}AddObject(t,e=!1){return Ut(this,void 0,void 0,(function*(){this.DebounceLoad(),e?(Gt[t.id]=t,yield this.Send(c.OBJECT_ADDED,t.id+u.PRIMARY+(t.active?1:0)+u.PRIMARY+t.name)):this.objects[t.unityId]?Object.assign(this.objects[t.unityId],t):this.objects[t.unityId]=t}))}Raycast(t,e,s=1e3,i=-1){return this.Send(c.RAYCAST,t.x+u.PRIMARY+t.y+u.PRIMARY+t.z+u.PRIMARY+e.x+u.PRIMARY+e.y+u.PRIMARY+e.z+u.PRIMARY+s+u.PRIMARY+i)}SendToVisualScripting(t,e){return Ut(this,void 0,void 0,(function*(){yield this.Send(c.INJECT_JS_CALLBACK,t+u.SECONDARY+JSON.stringify(e))}))}OneShot(t,e=!0){return Ut(this,void 0,void 0,(function*(){yield this.Send(c.ONE_SHOT,(e?"1":"0")+u.PRIMARY+t)}))}CallMethod(t,e,s){return Ut(this,void 0,void 0,(function*(){yield t.Async(),yield this.Send(c.CALL_METHOD,t.unityId+u.PRIMARY+e+u.PRIMARY+s.join(u.SECONDARY))}))}AddComponent(t,e){return Ut(this,void 0,void 0,(function*(){yield t.Async(),e.gameObject=t,e.oid=t.unityId,zt[e.id]=e;const s=e.Serialise(Object.keys(h).filter((t=>!isNaN(Number(t)))).map((t=>parseInt(t))));return yield this.Send(c.COMPONENT_ADDED,t.unityId+u.PRIMARY+e.id+u.PRIMARY+e.type+u.PRIMARY+s),e}))}RemoveComponent(t,e=!1){return Ut(this,void 0,void 0,(function*(){t.removeAllEventListeners(),delete t.gameObject.components[t.unityId],delete this.components[t.unityId],e||(yield this.Send(c.COMPONENT_REMOVED,t.unityId))}))}RemoveObject(t,e=!1){return Ut(this,void 0,void 0,(function*(){this.objects[t.unityId]&&(this.objects[t.unityId].removeAllEventListeners(),Object.keys(this.objects[t.unityId].components).forEach((t=>{this.components[t].Destroy(e)})),delete this.objects[t.unityId]),e||(yield this.Send(c.OBJECT_REMOVED,t.unityId))}))}Emit(t){Vt.emit(t)}Send(t,e){return Ut(this,void 0,void 0,(function*(){return new Promise((s=>{Xt>9999&&(Xt=0);const i=c.REQUEST_ID+u.REQUEST_ID+ ++Xt;Ht[Xt]=s,Vt.emit(i+u.PRIMARY+t+u.PRIMARY+e)}))}))}EnableLegacy(){Vt.emit(c.ENABLE_LEGACY)}WaitForUnity(t){return Ut(this,void 0,void 0,(function*(){if(!t.hasUnity)return new Promise((e=>{t.addEventListener(gt.UNITY_LINKED,(t=>{e()}))}))}))}QueryComponents(t){return Ut(this,void 0,void 0,(function*(){const e=Object.values(t.components),s=e.map((t=>t.comp.unityId+u.SECONDARY+t.props.join(u.TERTIARY)));return yield this.Send(c.QUERY_COMPONENTS,s.join(u.PRIMARY)),e.map((t=>t.comp))}))}WatchProperties(t){return Ut(this,void 0,void 0,(function*(){this.components[t.id]&&(yield this.Send(c.WATCH_PROPERTIES,t.id+u.PRIMARY+t.properties.join(u.SECONDARY)))}))}SetComponents(t,e=!1){return Ut(this,void 0,void 0,(function*(){const s=Object.values(t.components);for(let t=0;t<s.length;t++)s[t].comp.hasUnity||(yield s[t].comp.Async());const i=s.map((t=>t.comp.oid+u.PRIMARY+t.comp.unityId+u.PRIMARY+t.comp.Serialise(t.props))),n=(e?1:0)+u.TERTIARY+i.join(u.TERTIARY);return e?yield this.Send(c.COMPONENT_UPDATED,n):Vt.emit(c.REQUEST_ID+u.REQUEST_ID+1e4+u.PRIMARY+c.COMPONENT_UPDATED+u.PRIMARY+n),s.map((t=>t.comp))}))}WaitForUnityLoaded(){return Ut(this,void 0,void 0,(function*(){yield g(this,"unityLoaded")}))}ProcessUpdates(t){var e={};t.forEach((t=>{const s=t.split(u.PRIMARY),i=Number(s[0]);this.objects[i]||this.AddUnexpectedObject(i);const n=Number(s[1]),r=Number(s[2]);if(n){if(!this.components[n]){const t=pt(r);this.components[n]=new t,this.components[n].gameObject=this.objects[i],this.components[n].oid=i,this.components[n].unityId=n,this.components[n].hasUnity=!0,this.objects[i].components[n]=this.components[n],this.components[n].Deserialise(s[3])}this.components[n].Deserialise(s[3]),e[i]=e[i]||{cids:[]},e[i].cids.includes(n)||e[i].cids.push(n)}}));var s=Object.keys(e);for(let t=0;t<s.length;t++)this.objects[s[t]]&&this.objects[s[t]].dispatchEvent(new CustomEvent(gt.OBJECT_UPDATE,{detail:e[s[t]].cids}))}ProcessUnlinked(t,e){t&&Gt[t]?(Gt[t].unityId=e,Gt[t].hasUnity=!0,this.AddObject(Gt[t]),delete Gt[t],this.objects[e].dispatchEvent(new CustomEvent(gt.UNITY_LINKED,{detail:{id:t,unityId:e}}))):this.objects[e]||this.AddObject(new yt(null,e))}ProcessUnlinkedComponent(t,e,s){t&&zt[t]&&(zt[t].unityId=e,this.components[e]=zt[t],this.objects[s].components[e]=this.components[e],this.components[e].dispatchEvent(new CustomEvent(gt.UNITY_LINKED,{detail:{id:t,unityId:e,oid:s}})),delete zt[t])}ProcessRequestCallback(t,e){Ht[t]&&(Ht[t](e),delete Ht[t])}GetLegacyBanterScene(){return $t}AddUnexpectedObject(t){this.AddObject(new yt(null,t)),this.UpdateObject(t)}ParseMessage(t){if("string"==typeof t&&t.startsWith(c.REQUEST_ID)){var e=(c.REQUEST_ID+u.REQUEST_ID).length,s=t.substring(e,t.indexOf(u.PRIMARY,e));if(t=t.substring(e+s.length+1),this.ProcessRequestCallback(s,t),t.startsWith(c.OBJECT_ADDED)){const e=t.substring(c.OBJECT_ADDED.length+1).split(u.PRIMARY);this.ProcessUnlinked(e[5],e[0]),this.SetObject(e[0],e[2],"1"==e[1],e[4],e[3]),this.DebounceLoad()}else if(t.startsWith(c.COMPONENT_ADDED)){const e=t.substring(c.COMPONENT_ADDED.length+1).split(u.PRIMARY),s=e[0],i=e[1],n=Number(e[2]),r=e[3];this.ProcessUnlinkedComponent(r,i,s),this.SetComponent(i,n,s)}}else if("string"==typeof t)switch(u.BATCH,!0){case t.startsWith(c.LEGACY_SEND_TO_AFRAME):try{_t.bind($t,JSON.parse(t.substring(c.LEGACY_SEND_TO_AFRAME.length+1)))()}catch(t){console.error("Error parsing LEGACY_SEND_TO_AFRAME",t)}break;case t.startsWith(u.BATCH):t.substring(u.BATCH.length).split(u.BATCH).forEach((t=>this.ParseMessage(t)));break;case t.startsWith(c.UPDATE):this.ProcessUpdates(t.substring(c.UPDATE.length).split(u.TERTIARY));break;case t.startsWith(c.EVENT):this.ProcessEvent(t);case this.uiMessageHandler.processMessage(t):}}ProcessEvent(t){var e,s;const i=t.substring(c.EVENT.length,t.indexOf(u.PRIMARY,c.EVENT.length)),n=t.substring(t.indexOf(u.PRIMARY,c.EVENT.length)+1).split(u.SECONDARY);switch(i){case c.SEND_TRANSCRIPTION:{const t=n[0],e=n[1];this.dispatchEvent(new CustomEvent("transcription",{detail:{message:e,id:t}}))}break;case c.AI_IMAGE_RECV:{const t=n[0];this.dispatchEvent(new CustomEvent("ai-image",{detail:{message:t}}))}break;case c.AI_MODEL_RECV:{const t=n[0];this.dispatchEvent(new CustomEvent("ai-model",{detail:{message:t}}))}break;case c.BASE_64_TO_CDN_RECV:{const t=n[0];this.dispatchEvent(new CustomEvent("base-64-to-cdn",{detail:{fileId:t}}))}break;case c.SELECT_FILE_RECV:{const t=n[0];this.dispatchEvent(new CustomEvent("select-file-recv",{detail:{data:t}}))}break;case c.CLICKED:if(this.objects[n[0]]){const t=this.objects[n[0]],e=new R(Number(n[1]),Number(n[2]),Number(n[3])),s=new R(Number(n[4]),Number(n[5]),Number(n[6]));t.dispatchEvent(new CustomEvent("click",{detail:{point:e,normal:s}}))}break;case c.GRABBED:if(this.objects[n[0]]){const t=this.objects[n[0]],e=new R(Number(n[1]),Number(n[2]),Number(n[3])),s=new R(Number(n[4]),Number(n[5]),Number(n[6])),i=Number(n[7]);t.dispatchEvent(new CustomEvent("grab",{detail:{point:e,normal:s,side:i}}))}break;case c.RELEASED:if(this.objects[n[0]]){const t=this.objects[n[0]],e=Number(n[1]);t.dispatchEvent(new CustomEvent("drop",{detail:{side:e}}))}break;case c.BUTTON_PRESSED:case c.BUTTON_RELEASED:const t=Number(n[0]),r=Number(n[1]);this.dispatchEvent(new CustomEvent(i===c.BUTTON_PRESSED?"button-pressed":"button-released",{detail:{button:t,side:r}}));break;case c.LOADED:const o=n[0];this.components[o]&&this.components[o].dispatchEvent(new CustomEvent(gt.LOADED));break;case c.MENU_BROWSER_MESSAGE:this.dispatchEvent(new CustomEvent("menu-browser-message",{detail:n[0]}));break;case c.USER_LEFT:case c.USER_JOINED:const a=i===c.USER_JOINED,h=n[0],l=n[1],d="1"==n[2],p=n[3],g=n[4];a&&!this.users[h]?(this.users[h]=new ft,this.users[h].id=p,this.users[h].uid=h,this.users[h].color=g,this.users[h].isLocal=d,this.users[h].name=l,d&&(this.localUser=this.users[h]),console.warn("user joined: ",this.users[h]),this.dispatchEvent(new CustomEvent("user-joined",{detail:this.users[h]}))):a&&this.users[h]?(console.warn("got user-joined event for user that already joined: ",this.users[h]),this.users[h].id=p,this.users[h].uid=h,this.users[h].color=g,this.users[h].isLocal=d,this.users[h].name=l,d&&(this.localUser=this.users[h])):!a&&this.users[h]&&(console.warn("user left: ",this.users[h]),this.dispatchEvent(new CustomEvent("user-left",{detail:this.users[h]})),delete this.users[h]);break;case c.FULL_SPACE_STATE:let m=JSON.parse(n[0]);const y=(null===(e=this.spaceState)||void 0===e?void 0:e.protected)||{},b=(null===(s=this.spaceState)||void 0===s?void 0:s.public)||{};this.spaceState={public:{},protected:{}},this.spaceState.public=(null==m?void 0:m.public)||{},this.spaceState.protected=(null==m?void 0:m.protected)||{};const f=[],_=Object.keys(this.spaceState.protected),v=Object.keys(y),S=Object.keys(this.spaceState.public),k=Object.keys(b);S.filter((t=>!k.includes(t))).forEach((t=>{f.push({type:"public",property:t,oldValue:null,newValue:this.spaceState.public[t]})})),k.filter((t=>!S.includes(t))).forEach((t=>{f.push({type:"public",property:t,oldValue:b[t],newValue:null})})),S.filter((t=>k.includes(t))).forEach((t=>{f.push({type:"public",property:t,oldValue:b[t],newValue:this.spaceState.public[t]})})),_.filter((t=>!v.includes(t))).forEach((t=>{f.push({type:"protected",property:t,oldValue:null,newValue:this.spaceState.protected[t]})})),v.filter((t=>!_.includes(t))).forEach((t=>{f.push({type:"protected",property:t,oldValue:y[t],newValue:null})})),_.filter((t=>v.includes(t))).forEach((t=>{f.push({type:"protected",property:t,oldValue:y[t],newValue:this.spaceState.protected[t]})})),f.length&&(console.log(f),this.dispatchEvent(new CustomEvent("space-state-changed",{detail:{changes:f}})));break;case c.SPACE_STATE_CHANGED:const A=n[0],w=n[1],E=n[2],C="1"==n[3];C?this.spaceState.public[A]=w:this.spaceState.protected[A]=w,this.dispatchEvent(new CustomEvent("space-state-changed",{detail:{changes:[{property:A,newValue:w,oldValue:E,isPublic:C}]}}));break;case c.BANTER_VERSION:{const t=n[0],e=n[1],s=n[2],i=n[3];window.VERSION_NAME||(console.log("Banter Version:",e,"("+t+"), Space Instance: "+i),console.log("Unity Version:",s)),window.VERSION_NAME=e,window.VERSION_CODE=t,window.UNITY_VERSION=s,window.SPACE_INSTANCE=i}break;case c.BROWSER_MESSAGE:const T=this.objects[n[0]];T&&T.dispatchEvent(new CustomEvent("browser-message",{detail:n[1]}));break;case c.USER_STATE_CHANGED:{const t=n.shift();if(!this.users[t])return void console.log("got user-state-changed event for user that doesn't exist?",t);const e=this.users[t],s=n.map((t=>{const e=t.split(u.TERTIARY);return{key:e[0],newValue:e[1],oldValue:null}}));Object.keys(e.props).forEach((t=>{s.forEach((s=>{s.key===t&&(e.props[t]=s.newValue)}))})),e.dispatchEvent(new CustomEvent("state-changed",{detail:{id:p,changes:s}})),this.dispatchEvent(new CustomEvent("user-state-changed",{detail:{user:e,changes:s}}))}break;case c.ONE_SHOT_RECIEVED:{const t=n[0],e="1"==n[1],s=n[2];this.dispatchEvent(new CustomEvent("one-shot",{detail:{fromId:t,fromAdmin:e,data:s}}))}break;case c.AFRAME_TRIGGER:const P=n[0];this.dispatchEvent(new CustomEvent("aframe-trigger",{detail:{data:P}}));break;case c.KEY:const B=Number(n[0]);this.dispatchEvent(new CustomEvent("key-press",{detail:{key:B}}));break;case c.UNITY_LOADED:console.log("Unity Scene Loaded."),this.unityLoaded=!0;break;case c.VOICE_STARTED:this.dispatchEvent(new CustomEvent("voice-started",{detail:{}}));break;case c.COLLISION_ENTER:if(this.objects[n[0]]){const t=this.objects[n[0]],e=this.objects[n[1]]||n[1],s=new R(Number(n[2]),Number(n[3]),Number(n[4])),i=new R(Number(n[5]),Number(n[6]),Number(n[7])),r=n[8],o=n[9],a=n[10];let h;a&&this.users[a]&&(h=this.users[a],this.users[a].dispatchEvent(new CustomEvent("collision-enter",{detail:{name:o,tag:r,collider:e,point:s,normal:i,object:t}}))),t.dispatchEvent(new CustomEvent("collision-enter",{detail:{name:o,tag:r,collider:e,point:s,normal:i,user:h}}))}break;case c.COLLISION_EXIT:case c.TRIGGER_EXIT:case c.TRIGGER_ENTER:const I=i===c.COLLISION_EXIT?"collision-exit":i===c.TRIGGER_ENTER?"trigger-enter":"trigger-exit";if(this.objects[n[0]]){const t=this.objects[n[0]],e=this.objects[n[1]]||n[1],s=n[2],i=n[3],r=n[4];let o;r&&this.users[r]&&(o=this.users[r],this.users[r].dispatchEvent(new CustomEvent(I,{detail:{name:i,tag:s,collider:e,object:t}}))),t.dispatchEvent(new CustomEvent(I,{detail:{name:i,tag:s,collider:e,user:o}}))}}}SetComponent(t,e,s){this.components[t].type=e,this.components[t].unityId=t,this.components[t].oid=s,this.components[t].hasUnity=!0}SetObject(t,e,s,i,n){this.objects[t]._name=e,this.objects[t].active=s,this.objects[t].parent=i,this.objects[t].layer=n,this.objects[t].hasUnity=!0,this.objects[t].UpdatePath()}SetParent(t,e,s=!0){return Ut(this,void 0,void 0,(function*(){return this.Send(c.SET_PARENT,e.unityId+u.PRIMARY+t.unityId+u.PRIMARY+(s?1:0))}))}UpdateObject(t){return this.Send(c.OBJECT_UPDATE_REQUEST,t)}static GetInstance(){return te.instance||(te.instance=new te),te.instance.DebounceLoad(),te.instance}static getInstance(){return console.warn("BS.BanterScene.getInstance is deprecated, use BS.BanterScene.GetInstance instead..."),this.GetInstance()}LegacyAttachObject(t,e,s){return Ut(this,void 0,void 0,(function*(){yield t.Async(),Vt.emit(c.LEGACY+c.LEGACY_ATTACH_OBJECT+u.PRIMARY+t.unityId+u.PRIMARY+e+u.PRIMARY+s)}))}LegacySetChildColor(t,e,s){return Ut(this,void 0,void 0,(function*(){yield t.Async(),Vt.emit(c.LEGACY+c.LEGACY_SET_CHILD_COLOR+u.PRIMARY+t.unityId+u.PRIMARY+e.x+u.PRIMARY+e.y+u.PRIMARY+e.z+u.PRIMARY+s)}))}LegacyLockPlayer(){return Ut(this,void 0,void 0,(function*(){Vt.emit(c.LEGACY+c.LEGACY_LOCK_PLAYER+u.PRIMARY)}))}LegacyUnlockPlayer(){return Ut(this,void 0,void 0,(function*(){Vt.emit(c.LEGACY+c.LEGACY_UNLOCK_PLAYER+u.PRIMARY)}))}LegacySetRefreshRate(t){Vt.emit(c.LEGACY+c.LEGACY_SET_REFRESH_RATE+u.PRIMARY+t)}LegacySitPlayer(t){return Ut(this,void 0,void 0,(function*(){Vt.emit(c.LEGACY+c.LEGACY_SIT_PLAYER+u.PRIMARY+t.unityId)}))}LegacyUnsitPlayer(){return Ut(this,void 0,void 0,(function*(){Vt.emit(c.LEGACY+c.LEGACY_UNSIT_PLAYER+u.PRIMARY)}))}LegacyGorillaPlayer(){return Ut(this,void 0,void 0,(function*(){Vt.emit(c.LEGACY+c.LEGACY_GORILLA_PLAYER+u.PRIMARY)}))}LegacyUngorillaPlayer(){return Ut(this,void 0,void 0,(function*(){Vt.emit(c.LEGACY+c.LEGACY_UNGORILLA_PLAYER+u.PRIMARY)}))}LegacyEnableControllerExtras(){return Ut(this,void 0,void 0,(function*(){Vt.emit(c.LEGACY+c.LEGACY_ENABLE_CONTROLLER_EXTRAS+u.PRIMARY)}))}LegacyEnableQuaternionPose(){return Ut(this,void 0,void 0,(function*(){Vt.emit(c.LEGACY+c.LEGACY_ENABLE_QUATERNION_POSE+u.PRIMARY)}))}LegacySetVideoUrl(t,e){return Ut(this,void 0,void 0,(function*(){Vt.emit(c.LEGACY+c.LEGACY_SET_VIDEO_URL+u.PRIMARY+t.unityId+u.PRIMARY+e)}))}LegacySendAframeEvent(t,e,s){return Ut(this,void 0,void 0,(function*(){Vt.emit(c.LEGACY+c.LEGACY_SEND_AFRAME_EVENT+u.PRIMARY+t+u.PRIMARY+(e?"1":"0")+u.PRIMARY+(s||""))}))}PlayAvatar(t,e,s,i){return Ut(this,void 0,void 0,(function*(){yield t.Async(),Vt.emit(c.LEGACY+c.PLAY_AVATAR+u.PRIMARY+t.unityId+u.PRIMARY+e+u.PRIMARY+s+u.PRIMARY+i)}))}LegacyPlayAvatar(t,e,s,i){return Ut(this,void 0,void 0,(function*(){yield t.Async(),Vt.emit(c.LEGACY+c.LEGACY_PLAY_AVATAR+u.PRIMARY+t.unityId+u.PRIMARY+e+u.PRIMARY+s+u.PRIMARY+i)}))}LegacyRequestOwnership(t){return Ut(this,void 0,void 0,(function*(){Vt.emit(c.LEGACY+c.LEGACY_REQUEST_OWNERSHIP+u.PRIMARY+t)}))}LegacyDoIOwn(t){return Ut(this,void 0,void 0,(function*(){Vt.emit(c.LEGACY+c.LEGACY_DO_I_OWN+u.PRIMARY+t)}))}LegacyResetNetworkObject(t){return Ut(this,void 0,void 0,(function*(){Vt.emit(c.LEGACY+c.LEGACY_RESET_NETWORK_OBJECT+u.PRIMARY+t)}))}}s(72);const ee={};var se=s(217),ie=se.isValidDefaultValue,ne=se.propertyTypes,re=console.warn.bind(console);function oe(t){return"type"in t?"string"==typeof t.type:"default"in t}const ae=function(t,e){var s;if(oe(t))return he(t,e);for(s in t)t[s]=he(t[s],e);return t};function he(t,e){var s,i,n=t.default,r=t.type;return t.type?"bool"===t.type?r="boolean":"float"===t.type&&(r="number"):r=void 0===n||"boolean"!=typeof n&&"number"!=typeof n?Array.isArray(n)?"array":"string":typeof n,(i=ne[r])||re("Unknown property type for component `"+e+"`: "+r),s=!!t.parse,t.parse=t.parse||i.parse,t.stringify=t.stringify||i.stringify,t.type=r,"default"in t?s||ie(r,n)||re("Default value `"+n+"` does not match type `"+r+"` in component `"+e+"`"):t.default=i.default,t}const le=(ce=[],function(t,e,s=!0,i=null,n=!0){var r,o,a,h;for(o in ce.length=0,s?t:e)s&&void 0===t[o]||ce.push(o);if(null===t||"object"!=typeof t)return t;for(o in t)try{void 0===t[o]||e[o]||n||re("Unknown property `"+o+"` for component/system `"+i+"`.")}catch(e){console.log(i,o,t[o])}for(r=0;r<ce.length;r++){if(a=e[o=ce[r]],h=t[o],!e[o])return;t[o]=ue(h,a)}return t});var ce;function ue(t,e){return null!=t&&""!==t||(t=e.default,Array.isArray(t)&&(t=t.slice())),e.parse||console.log("No parse function for property type: ",e.type),e.parse(t,e.default)}var de={nbsp:" ",cent:"¢",pound:"£",yen:"¥",euro:"€",copy:"©",reg:"®",lt:"<",gt:">",quot:'"',amp:"&",apos:"'"},pe=/-([a-z])/g;const ge=function(t,e){var s;return"string"!=typeof t?t:(s=function(t,e){var s,i,n,r,o,a;for(e=e||{},s=ke(t),i=0;i<s.length;i++)(n=s[i])&&(r=n.indexOf(":"),o=n.substr(0,r).trim(),a=n.substr(r+1).trim(),e[o]=a);return e}(t,e),s[""]?t:be(s))},me=function(t){return"string"==typeof t?t:function(t){var e,s=0,i=0,n="";for(e in t)s++;for(e in t)void 0!==t[e]&&("object"==typeof t[e]?n+=e+": "+JSON.stringify(t[e]):n+=e+": "+t[e],i<s-1&&(n+="; "),i++);return n}(t)};function ye(t){return t.replace(pe,Ae)}function be(t){var e,s;for(s in t)s!==(e=ye(s))&&(t[e]=t[s],delete t[s]);return t}var fe,_e,ve,Se,ke=(fe=[],_e=/url\([^)]+$/,function(t){var e,s="",i=0;for(t=t.replace(/\&([^;]+);/g,(function(t,e){var s;return e in de?de[e]:(s=e.match(/^#x([\da-fA-F]+)$/))?String.fromCharCode(parseInt(s[1],16)):(s=e.match(/^#(\d+)$/))?String.fromCharCode(~~s[1]):t})),fe.length=0;i<t.length;)-1===(e=t.indexOf(";",i))&&(e=t.length),s+=t.substring(i,e),_e.test(s)?(s+=";",i=e+1):(fe.push(s.trim()),s="",i=e+1);return fe});function Ae(t){return t[1].toUpperCase()}!function(t){t[t.BoxGeometry=0]="BoxGeometry",t[t.CircleGeometry=1]="CircleGeometry",t[t.ConeGeometry=2]="ConeGeometry",t[t.CylinderGeometry=3]="CylinderGeometry",t[t.PlaneGeometry=4]="PlaneGeometry",t[t.RingGeometry=5]="RingGeometry",t[t.SphereGeometry=6]="SphereGeometry",t[t.TorusGeometry=7]="TorusGeometry",t[t.TorusKnotGeometry=8]="TorusKnotGeometry",t[t.ParametricGeometry=9]="ParametricGeometry"}(ve||(ve={})),function(t){t[t.Klein=0]="Klein",t[t.Apple=1]="Apple",t[t.Fermet=2]="Fermet",t[t.Catenoid=3]="Catenoid",t[t.Helicoid=4]="Helicoid",t[t.Horn=5]="Horn",t[t.Mobius=6]="Mobius",t[t.Mobius3d=7]="Mobius3d",t[t.Natica=8]="Natica",t[t.Pillow=9]="Pillow",t[t.Scherk=10]="Scherk",t[t.Snail=11]="Snail",t[t.Spiral=12]="Spiral",t[t.Spring=13]="Spring",t[t.Custom=14]="Custom"}(Se||(Se={}));var we={update:null,begin:null,loopBegin:null,changeBegin:null,change:null,changeComplete:null,loopComplete:null,complete:null,loop:1,direction:"normal",autoplay:!0,timelineOffset:0},Ee={duration:1e3,delay:0,endDelay:0,easing:"easeOutElastic(1, .5)",round:0},Re=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY","perspective","matrix","matrix3d"],Ce={CSS:{},springs:{}};function Te(t,e,s){return Math.min(Math.max(t,e),s)}function Pe(t,e){return t.indexOf(e)>-1}function Be(t,e){return t.apply(null,e)}var Ie={arr:function(t){return Array.isArray(t)},obj:function(t){return Pe(Object.prototype.toString.call(t),"Object")},pth:function(t){return Ie.obj(t)&&t.hasOwnProperty("totalLength")},svg:function(t){return t instanceof SVGElement},inp:function(t){return t instanceof HTMLInputElement},dom:function(t){return t.nodeType||Ie.svg(t)},str:function(t){return"string"==typeof t},fnc:function(t){return"function"==typeof t},und:function(t){return void 0===t},nil:function(t){return Ie.und(t)||null===t},hex:function(t){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t)},rgb:function(t){return/^rgb/.test(t)},hsl:function(t){return/^hsl/.test(t)},col:function(t){return Ie.hex(t)||Ie.rgb(t)||Ie.hsl(t)},key:function(t){return!we.hasOwnProperty(t)&&!Ee.hasOwnProperty(t)&&"targets"!==t&&"keyframes"!==t}};function xe(t){var e=/\(([^)]+)\)/.exec(t);return e?e[1].split(",").map((function(t){return parseFloat(t)})):[]}function Me(t,e){var s=xe(t),i=Te(Ie.und(s[0])?1:s[0],.1,100),n=Te(Ie.und(s[1])?100:s[1],.1,100),r=Te(Ie.und(s[2])?10:s[2],.1,100),o=Te(Ie.und(s[3])?0:s[3],.1,100),a=Math.sqrt(n/i),h=r/(2*Math.sqrt(n*i)),l=h<1?a*Math.sqrt(1-h*h):0,c=h<1?(h*a-o)/l:-o+a;function u(t){var s=e?e*t/1e3:t;return s=h<1?Math.exp(-s*h*a)*(1*Math.cos(l*s)+c*Math.sin(l*s)):(1+c*s)*Math.exp(-s*a),0===t||1===t?t:1-s}return e?u:function(){var e=Ce.springs[t];if(e)return e;for(var s=1/6,i=0,n=0;;)if(1===u(i+=s)){if(++n>=16)break}else n=0;var r=i*s*1e3;return Ce.springs[t]=r,r}}function Ne(t){return void 0===t&&(t=10),function(e){return Math.ceil(Te(e,1e-6,1)*t)*(1/t)}}var Le,Oe,De=function(){var t=.1;function e(t,e){return 1-3*e+3*t}function s(t,e){return 3*e-6*t}function i(t){return 3*t}function n(t,n,r){return((e(n,r)*t+s(n,r))*t+i(n))*t}function r(t,n,r){return 3*e(n,r)*t*t+2*s(n,r)*t+i(n)}return function(e,s,i,o){if(0<=e&&e<=1&&0<=i&&i<=1){var a=new Float32Array(11);if(e!==s||i!==o)for(var h=0;h<11;++h)a[h]=n(h*t,e,i);return function(h){return e===s&&i===o||0===h||1===h?h:n(function(s){for(var o=0,h=1;10!==h&&a[h]<=s;++h)o+=t;--h;var l=o+(s-a[h])/(a[h+1]-a[h])*t,c=r(l,e,i);return c>=.001?function(t,e,s,i){for(var o=0;o<4;++o){var a=r(e,s,i);if(0===a)return e;e-=(n(e,s,i)-t)/a}return e}(s,l,e,i):0===c?l:function(t,e,s,i,r){var o,a,h=0;do{(o=n(a=e+(s-e)/2,i,r)-t)>0?s=a:e=a}while(Math.abs(o)>1e-7&&++h<10);return a}(s,o,o+t,e,i)}(h),s,o)}}}}(),Ye=(Le={linear:function(){return function(t){return t}}},Oe={Sine:function(){return function(t){return 1-Math.cos(t*Math.PI/2)}},Expo:function(){return function(t){return t?Math.pow(2,10*t-10):0}},Circ:function(){return function(t){return 1-Math.sqrt(1-t*t)}},Back:function(){return function(t){return t*t*(3*t-2)}},Bounce:function(){return function(t){for(var e,s=4;t<((e=Math.pow(2,--s))-1)/11;);return 1/Math.pow(4,3-s)-7.5625*Math.pow((3*e-2)/22-t,2)}},Elastic:function(t,e){void 0===t&&(t=1),void 0===e&&(e=.5);var s=Te(t,1,10),i=Te(e,.1,2);return function(t){return 0===t||1===t?t:-s*Math.pow(2,10*(t-1))*Math.sin((t-1-i/(2*Math.PI)*Math.asin(1/s))*(2*Math.PI)/i)}}},["Quad","Cubic","Quart","Quint"].forEach((function(t,e){Oe[t]=function(){return function(t){return Math.pow(t,e+2)}}})),Object.keys(Oe).forEach((function(t){var e=Oe[t];Le["easeIn"+t]=e,Le["easeOut"+t]=function(t,s){return function(i){return 1-e(t,s)(1-i)}},Le["easeInOut"+t]=function(t,s){return function(i){return i<.5?e(t,s)(2*i)/2:1-e(t,s)(-2*i+2)/2}},Le["easeOutIn"+t]=function(t,s){return function(i){return i<.5?(1-e(t,s)(1-2*i))/2:(e(t,s)(2*i-1)+1)/2}}})),Le);function Ue(t,e){if(Ie.fnc(t))return t;var s=t.split("(")[0],i=Ye[s],n=xe(t);switch(s){case"spring":return Me(t,e);case"cubicBezier":return Be(De,n);case"steps":return Be(Ne,n);default:return Be(i,n)}}function je(t){try{return document.querySelectorAll(t)}catch(t){return}}function Je(t,e){for(var s=t.length,i=arguments.length>=2?arguments[1]:void 0,n=[],r=0;r<s;r++)if(r in t){var o=t[r];e.call(i,o,r,t)&&n.push(o)}return n}function Fe(t){return t.reduce((function(t,e){return t.concat(Ie.arr(e)?Fe(e):e)}),[])}function ze(t){return Ie.arr(t)?t:(Ie.str(t)&&(t=je(t)||t),t instanceof NodeList||t instanceof HTMLCollection?[].slice.call(t):[t])}function Ge(t,e){return t.some((function(t){return t===e}))}function Ve(t){var e={};for(var s in t)e[s]=t[s];return e}function He(t,e){var s=Ve(t);for(var i in t)s[i]=e.hasOwnProperty(i)?e[i]:t[i];return s}function qe(t,e){var s=Ve(t);for(var i in e)s[i]=Ie.und(t[i])?e[i]:t[i];return s}function We(t){var e=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(t);if(e)return e[1]}function Ke(t,e){return Ie.fnc(t)?t(e.target,e.id,e.total):t}function Xe(t,e){return t.getAttribute(e)}function Ze(t,e,s){if(Ge([s,"deg","rad","turn"],We(e)))return e;var i=Ce.CSS[e+s];if(!Ie.und(i))return i;var n=document.createElement(t.tagName),r=t.parentNode&&t.parentNode!==document?t.parentNode:document.body;r.appendChild(n),n.style.position="absolute",n.style.width=100+s;var o=100/n.offsetWidth;r.removeChild(n);var a=o*parseFloat(e);return Ce.CSS[e+s]=a,a}function $e(t,e,s){if(e in t.style){var i=e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),n=t.style[e]||getComputedStyle(t).getPropertyValue(i)||"0";return s?Ze(t,n,s):n}}function Qe(t,e){return Ie.dom(t)&&!Ie.inp(t)&&(!Ie.nil(Xe(t,e))||Ie.svg(t)&&t[e])?"attribute":Ie.dom(t)&&Ge(Re,e)?"transform":Ie.dom(t)&&"transform"!==e&&$e(t,e)?"css":null!=t[e]?"object":void 0}function ts(t){if(Ie.dom(t)){for(var e,s=t.style.transform||"",i=/(\w+)\(([^)]*)\)/g,n=new Map;e=i.exec(s);)n.set(e[1],e[2]);return n}}function es(t,e,s,i){switch(Qe(t,e)){case"transform":return function(t,e,s,i){var n=Pe(e,"scale")?1:0+function(t){return Pe(t,"translate")||"perspective"===t?"px":Pe(t,"rotate")||Pe(t,"skew")?"deg":void 0}(e),r=ts(t).get(e)||n;return s&&(s.transforms.list.set(e,r),s.transforms.last=e),i?Ze(t,r,i):r}(t,e,i,s);case"css":return $e(t,e,s);case"attribute":return Xe(t,e);default:return t[e]||0}}function ss(t,e){var s=/^(\*=|\+=|-=)/.exec(t);if(!s)return t;var i=We(t)||0,n=parseFloat(e),r=parseFloat(t.replace(s[0],""));switch(s[0][0]){case"+":return n+r+i;case"-":return n-r+i;case"*":return n*r+i}}function is(t,e){if(Ie.col(t))return function(t){return Ie.rgb(t)?(s=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(e=t))?"rgba("+s[1]+",1)":e:Ie.hex(t)?function(t){var e=t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(t,e,s,i){return e+e+s+s+i+i})),s=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return"rgba("+parseInt(s[1],16)+","+parseInt(s[2],16)+","+parseInt(s[3],16)+",1)"}(t):Ie.hsl(t)?function(t){var e,s,i,n=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(t)||/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(t),r=parseInt(n[1],10)/360,o=parseInt(n[2],10)/100,a=parseInt(n[3],10)/100,h=n[4]||1;function l(t,e,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?t+6*(e-t)*s:s<.5?e:s<2/3?t+(e-t)*(2/3-s)*6:t}if(0==o)e=s=i=a;else{var c=a<.5?a*(1+o):a+o-a*o,u=2*a-c;e=l(u,c,r+1/3),s=l(u,c,r),i=l(u,c,r-1/3)}return"rgba("+255*e+","+255*s+","+255*i+","+h+")"}(t):void 0;var e,s}(t);if(/\s/g.test(t))return t;var s=We(t),i=s?t.substr(0,t.length-s.length):t;return e?i+e:i}function ns(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function rs(t){for(var e,s=t.points,i=0,n=0;n<s.numberOfItems;n++){var r=s.getItem(n);n>0&&(i+=ns(e,r)),e=r}return i}function os(t){if(t.getTotalLength)return t.getTotalLength();switch(t.tagName.toLowerCase()){case"circle":return function(t){return 2*Math.PI*Xe(t,"r")}(t);case"rect":return function(t){return 2*Xe(t,"width")+2*Xe(t,"height")}(t);case"line":return function(t){return ns({x:Xe(t,"x1"),y:Xe(t,"y1")},{x:Xe(t,"x2"),y:Xe(t,"y2")})}(t);case"polyline":return rs(t);case"polygon":return function(t){var e=t.points;return rs(t)+ns(e.getItem(e.numberOfItems-1),e.getItem(0))}(t)}}function as(t,e){var s=e||{},i=s.el||function(t){for(var e=t.parentNode;Ie.svg(e)&&Ie.svg(e.parentNode);)e=e.parentNode;return e}(t),n=i.getBoundingClientRect(),r=Xe(i,"viewBox"),o=n.width,a=n.height,h=s.viewBox||(r?r.split(" "):[0,0,o,a]);return{el:i,viewBox:h,x:h[0]/1,y:h[1]/1,w:o,h:a,vW:h[2],vH:h[3]}}function hs(t,e,s){function i(s){void 0===s&&(s=0);var i=e+s>=1?e+s:0;return t.el.getPointAtLength(i)}var n=as(t.el,t.svg),r=i(),o=i(-1),a=i(1),h=s?1:n.w/n.vW,l=s?1:n.h/n.vH;switch(t.property){case"x":return(r.x-n.x)*h;case"y":return(r.y-n.y)*l;case"angle":return 180*Math.atan2(a.y-o.y,a.x-o.x)/Math.PI}}function ls(t,e){var s=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?/g,i=is(Ie.pth(t)?t.totalLength:t,e)+"";return{original:i,numbers:i.match(s)?i.match(s).map(Number):[0],strings:Ie.str(t)||e?i.split(s):[]}}function cs(t){return Je(t?Fe(Ie.arr(t)?t.map(ze):ze(t)):[],(function(t,e,s){return s.indexOf(t)===e}))}function us(t){var e=cs(t);return e.map((function(t,s){return{target:t,id:s,total:e.length,transforms:{list:ts(t)}}}))}function ds(t,e){var s=Ve(e);if(/^spring/.test(s.easing)&&(s.duration=Me(s.easing)),Ie.arr(t)){var i=t.length;2!==i||Ie.obj(t[0])?Ie.fnc(e.duration)||(s.duration=e.duration/i):t={value:t}}var n=Ie.arr(t)?t:[t];return n.map((function(t,s){var i=Ie.obj(t)&&!Ie.pth(t)?t:{value:t};return Ie.und(i.delay)&&(i.delay=s?0:e.delay),Ie.und(i.endDelay)&&(i.endDelay=s===n.length-1?e.endDelay:0),i})).map((function(t){return qe(t,s)}))}var ps={css:function(t,e,s){return t.style[e]=s},attribute:function(t,e,s){return t.setAttribute(e,s)},object:function(t,e,s){return t[e]=s},transform:function(t,e,s,i,n){if(i.list.set(e,s),e===i.last||n){var r="";i.list.forEach((function(t,e){r+=e+"("+t+") "})),t.style.transform=r}}};function gs(t,e){us(t).forEach((function(t){for(var s in e){var i=Ke(e[s],t),n=t.target,r=We(i),o=es(n,s,r,t),a=ss(is(i,r||We(o)),o),h=Qe(n,s);ps[h](n,s,a,t.transforms,!0)}}))}function ms(t,e){return Je(Fe(t.map((function(t){return e.map((function(e){return function(t,e){var s=Qe(t.target,e.name);if(s){var i=function(t,e){var s;return t.tweens.map((function(i){var n=function(t,e){var s={};for(var i in t){var n=Ke(t[i],e);Ie.arr(n)&&1===(n=n.map((function(t){return Ke(t,e)}))).length&&(n=n[0]),s[i]=n}return s.duration=parseFloat(s.duration),s.delay=parseFloat(s.delay),s}(i,e),r=n.value,o=Ie.arr(r)?r[1]:r,a=We(o),h=es(e.target,t.name,a,e),l=s?s.to.original:h,c=Ie.arr(r)?r[0]:l,u=We(c)||We(h),d=a||u;return Ie.und(o)&&(o=l),n.from=ls(c,d),n.to=ls(ss(o,c),d),n.start=s?s.end:0,n.end=n.start+n.delay+n.duration+n.endDelay,n.easing=Ue(n.easing,n.duration),n.isPath=Ie.pth(r),n.isPathTargetInsideSVG=n.isPath&&Ie.svg(e.target),n.isColor=Ie.col(n.from.original),n.isColor&&(n.round=1),s=n,n}))}(e,t),n=i[i.length-1];return{type:s,property:e.name,animatable:t,tweens:i,duration:n.end,delay:i[0].delay,endDelay:n.endDelay}}}(t,e)}))}))),(function(t){return!Ie.und(t)}))}function ys(t,e){var s=t.length,i=function(t){return t.timelineOffset?t.timelineOffset:0},n={};return n.duration=s?Math.max.apply(Math,t.map((function(t){return i(t)+t.duration}))):e.duration,n.delay=s?Math.min.apply(Math,t.map((function(t){return i(t)+t.delay}))):e.delay,n.endDelay=s?n.duration-Math.max.apply(Math,t.map((function(t){return i(t)+t.duration-t.endDelay}))):e.endDelay,n}var bs=0,fs=[],_s=function(){var t;function e(s){for(var i=fs.length,n=0;n<i;){var r=fs[n];r.paused?(fs.splice(n,1),i--):(r.tick(s),n++)}t=n>0?requestAnimationFrame(e):void 0}return"undefined"!=typeof document&&document.addEventListener("visibilitychange",(function(){Ss.suspendWhenDocumentHidden&&(vs()?t=cancelAnimationFrame(t):(fs.forEach((function(t){return t._onDocumentVisibility()})),_s()))})),function(){t||vs()&&Ss.suspendWhenDocumentHidden||!(fs.length>0)||(t=requestAnimationFrame(e))}}();function vs(){return!!document&&document.hidden}function Ss(t){void 0===t&&(t={});var e,s=0,i=0,n=0,r=0,o=null;function a(t){var e=window.Promise&&new Promise((function(t){return o=t}));return t.finished=e,e}var h=function(t){var e=He(we,t),s=He(Ee,t),i=function(t,e){var s=[],i=e.keyframes;for(var n in i&&(e=qe(function(t){for(var e=Je(Fe(t.map((function(t){return Object.keys(t)}))),(function(t){return Ie.key(t)})).reduce((function(t,e){return t.indexOf(e)<0&&t.push(e),t}),[]),s={},i=function(i){var n=e[i];s[n]=t.map((function(t){var e={};for(var s in t)Ie.key(s)?s==n&&(e.value=t[s]):e[s]=t[s];return e}))},n=0;n<e.length;n++)i(n);return s}(i),e)),e)Ie.key(n)&&s.push({name:n,tweens:ds(e[n],t)});return s}(s,t),n=us(t.targets),r=ms(n,i),o=ys(r,s),a=bs;return bs++,qe(e,{id:a,children:[],animatables:n,animations:r,duration:o.duration,delay:o.delay,endDelay:o.endDelay})}(t);function l(){var t=h.direction;"alternate"!==t&&(h.direction="normal"!==t?"normal":"reverse"),h.reversed=!h.reversed,e.forEach((function(t){return t.reversed=h.reversed}))}function c(t){return h.reversed?h.duration-t:t}function u(){s=0,i=c(h.currentTime)*(1/Ss.speed)}function d(t,e){e&&e.seek(t-e.timelineOffset)}function p(t){for(var e=0,s=h.animations,i=s.length;e<i;){var n=s[e],r=n.animatable,o=n.tweens,a=o.length-1,l=o[a];a&&(l=Je(o,(function(e){return t<e.end}))[0]||l);for(var c=Te(t-l.start-l.delay,0,l.duration)/l.duration,u=isNaN(c)?1:l.easing(c),d=l.to.strings,p=l.round,g=[],m=l.to.numbers.length,y=void 0,b=0;b<m;b++){var f=void 0,_=l.to.numbers[b],v=l.from.numbers[b]||0;f=l.isPath?hs(l.value,u*_,l.isPathTargetInsideSVG):v+u*(_-v),p&&(l.isColor&&b>2||(f=Math.round(f*p)/p)),g.push(f)}var S=d.length;if(S){y=d[0];for(var k=0;k<S;k++){d[k];var A=d[k+1],w=g[k];isNaN(w)||(y+=A?w+A:w+" ")}}else y=g[0];ps[n.type](r.target,n.property,y,r.transforms),n.currentValue=y,e++}}function g(t){h[t]&&!h.passThrough&&h[t](h)}function m(t){var u=h.duration,m=h.delay,y=u-h.endDelay,b=c(t);h.progress=Te(b/u*100,0,100),h.reversePlayback=b<h.currentTime,e&&function(t){if(h.reversePlayback)for(var s=r;s--;)d(t,e[s]);else for(var i=0;i<r;i++)d(t,e[i])}(b),!h.began&&h.currentTime>0&&(h.began=!0,g("begin")),!h.loopBegan&&h.currentTime>0&&(h.loopBegan=!0,g("loopBegin")),b<=m&&0!==h.currentTime&&p(0),(b>=y&&h.currentTime!==u||!u)&&p(u),b>m&&b<y?(h.changeBegan||(h.changeBegan=!0,h.changeCompleted=!1,g("changeBegin")),g("change"),p(b)):h.changeBegan&&(h.changeCompleted=!0,h.changeBegan=!1,g("changeComplete")),h.currentTime=Te(b,0,u),h.began&&g("update"),t>=u&&(i=0,h.remaining&&!0!==h.remaining&&h.remaining--,h.remaining?(s=n,g("loopComplete"),h.loopBegan=!1,"alternate"===h.direction&&l()):(h.paused=!0,h.completed||(h.completed=!0,g("loopComplete"),g("complete"),!h.passThrough&&"Promise"in window&&(o(),a(h)))))}return a(h),h.reset=function(){var t=h.direction;h.passThrough=!1,h.currentTime=0,h.progress=0,h.paused=!0,h.began=!1,h.loopBegan=!1,h.changeBegan=!1,h.completed=!1,h.changeCompleted=!1,h.reversePlayback=!1,h.reversed="reverse"===t,h.remaining=h.loop,e=h.children;for(var s=r=e.length;s--;)h.children[s].reset();(h.reversed&&!0!==h.loop||"alternate"===t&&1===h.loop)&&h.remaining++,p(h.reversed?h.duration:0)},h._onDocumentVisibility=u,h.set=function(t,e){return gs(t,e),h},h.tick=function(t){n=t,s||(s=n),m((n+(i-s))*Ss.speed)},h.seek=function(t){m(c(t))},h.pause=function(){h.paused=!0,u()},h.play=function(){h.paused&&(h.completed&&h.reset(),h.paused=!1,fs.push(h),u(),_s())},h.reverse=function(){l(),h.completed=!h.reversed,u()},h.restart=function(){h.reset(),h.play()},h.remove=function(t){As(cs(t),h)},h.reset(),h.autoplay&&h.play(),h}function ks(t,e){for(var s=e.length;s--;)Ge(t,e[s].animatable.target)&&e.splice(s,1)}function As(t,e){var s=e.animations,i=e.children;ks(t,s);for(var n=i.length;n--;){var r=i[n],o=r.animations;ks(t,o),o.length||r.children.length||i.splice(n,1)}s.length||i.length||e.pause()}Ss.version="3.2.1",Ss.speed=1,Ss.suspendWhenDocumentHidden=!0,Ss.running=fs,Ss.remove=function(t){for(var e=cs(t),s=fs.length;s--;)As(e,fs[s])},Ss.get=es,Ss.set=gs,Ss.convertPx=Ze,Ss.path=function(t,e){var s=Ie.str(t)?je(t)[0]:t,i=e||100;return function(t){return{property:t,el:s,svg:as(s),totalLength:os(s)*(i/100)}}},Ss.setDashoffset=function(t){var e=os(t);return t.setAttribute("stroke-dasharray",e),e},Ss.stagger=function(t,e){void 0===e&&(e={});var s=e.direction||"normal",i=e.easing?Ue(e.easing):null,n=e.grid,r=e.axis,o=e.from||0,a="first"===o,h="center"===o,l="last"===o,c=Ie.arr(t),u=c?parseFloat(t[0]):parseFloat(t),d=c?parseFloat(t[1]):0,p=We(c?t[1]:t)||0,g=e.start||0+(c?u:0),m=[],y=0;return function(t,e,b){if(a&&(o=0),h&&(o=(b-1)/2),l&&(o=b-1),!m.length){for(var f=0;f<b;f++){if(n){var _=h?(n[0]-1)/2:o%n[0],v=h?(n[1]-1)/2:Math.floor(o/n[0]),S=_-f%n[0],k=v-Math.floor(f/n[0]),A=Math.sqrt(S*S+k*k);"x"===r&&(A=-S),"y"===r&&(A=-k),m.push(A)}else m.push(Math.abs(o-f));y=Math.max.apply(Math,m)}i&&(m=m.map((function(t){return i(t/y)*y}))),"reverse"===s&&(m=m.map((function(t){return r?t<0?-1*t:-t:Math.abs(y-t)})))}return g+(c?(d-u)/y:u)*(Math.round(100*m[e])/100)+p}},Ss.timeline=function(t){void 0===t&&(t={});var e=Ss(t);return e.duration=0,e.add=function(s,i){var n=fs.indexOf(e),r=e.children;function o(t){t.passThrough=!0}n>-1&&fs.splice(n,1);for(var a=0;a<r.length;a++)o(r[a]);var h=qe(s,He(Ee,t));h.targets=h.targets||t.targets;var l=e.duration;h.autoplay=!1,h.direction=e.direction,h.timelineOffset=Ie.und(i)?l:ss(i,l),o(e),e.seek(h.timelineOffset);var c=Ss(h);o(c),r.push(c);var u=ys(r,t);return e.delay=u.delay,e.endDelay=u.endDelay,e.duration=u.duration,e.seek(0),e.reset(),e.autoplay&&e.play(),e},e},Ss.easing=Ue,Ss.penner=Ye,Ss.random=function(t,e){return Math.floor(Math.random()*(e-t+1))+t};const ws=Ss,Es="srgb",Rs="srgb-linear",Cs="display-p3-linear",Ts="linear",Ps="srgb",Bs="rec709";class Is{constructor(t,e,s,i,n,r,o,a,h){this.elements=[1,0,0,0,1,0,0,0,1],void 0!==t&&this.set(t,e,s,i,n,r,o,a,h)}set(t,e,s,i,n,r,o,a,h){const l=this.elements;return l[0]=t,l[1]=i,l[2]=o,l[3]=e,l[4]=n,l[5]=a,l[6]=s,l[7]=r,l[8]=h,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(t){const e=this.elements,s=t.elements;return e[0]=s[0],e[1]=s[1],e[2]=s[2],e[3]=s[3],e[4]=s[4],e[5]=s[5],e[6]=s[6],e[7]=s[7],e[8]=s[8],this}extractBasis(t,e,s){return t.setFromMatrix3Column(this,0),e.setFromMatrix3Column(this,1),s.setFromMatrix3Column(this,2),this}setFromMatrix4(t){const e=t.elements;return this.set(e[0],e[4],e[8],e[1],e[5],e[9],e[2],e[6],e[10]),this}multiply(t){return this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,e){const s=t.elements,i=e.elements,n=this.elements,r=s[0],o=s[3],a=s[6],h=s[1],l=s[4],c=s[7],u=s[2],d=s[5],p=s[8],g=i[0],m=i[3],y=i[6],b=i[1],f=i[4],_=i[7],v=i[2],S=i[5],k=i[8];return n[0]=r*g+o*b+a*v,n[3]=r*m+o*f+a*S,n[6]=r*y+o*_+a*k,n[1]=h*g+l*b+c*v,n[4]=h*m+l*f+c*S,n[7]=h*y+l*_+c*k,n[2]=u*g+d*b+p*v,n[5]=u*m+d*f+p*S,n[8]=u*y+d*_+p*k,this}multiplyScalar(t){const e=this.elements;return e[0]*=t,e[3]*=t,e[6]*=t,e[1]*=t,e[4]*=t,e[7]*=t,e[2]*=t,e[5]*=t,e[8]*=t,this}determinant(){const t=this.elements,e=t[0],s=t[1],i=t[2],n=t[3],r=t[4],o=t[5],a=t[6],h=t[7],l=t[8];return e*r*l-e*o*h-s*n*l+s*o*a+i*n*h-i*r*a}invert(){const t=this.elements,e=t[0],s=t[1],i=t[2],n=t[3],r=t[4],o=t[5],a=t[6],h=t[7],l=t[8],c=l*r-o*h,u=o*a-l*n,d=h*n-r*a,p=e*c+s*u+i*d;if(0===p)return this.set(0,0,0,0,0,0,0,0,0);const g=1/p;return t[0]=c*g,t[1]=(i*h-l*s)*g,t[2]=(o*s-i*r)*g,t[3]=u*g,t[4]=(l*e-i*a)*g,t[5]=(i*n-o*e)*g,t[6]=d*g,t[7]=(s*a-h*e)*g,t[8]=(r*e-s*n)*g,this}transpose(){let t;const e=this.elements;return t=e[1],e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this}getNormalMatrix(t){return this.setFromMatrix4(t).invert().transpose()}transposeIntoArray(t){const e=this.elements;return t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8],this}setUvTransform(t,e,s,i,n,r,o){const a=Math.cos(n),h=Math.sin(n);return this.set(s*a,s*h,-s*(a*r+h*o)+r+t,-i*h,i*a,-i*(-h*r+a*o)+o+e,0,0,1),this}scale(t,e){return this.premultiply(xs.makeScale(t,e)),this}rotate(t){return this.premultiply(xs.makeRotation(-t)),this}translate(t,e){return this.premultiply(xs.makeTranslation(t,e)),this}makeTranslation(t,e){return t.isVector2?this.set(1,0,t.x,0,1,t.y,0,0,1):this.set(1,0,t,0,1,e,0,0,1),this}makeRotation(t){const e=Math.cos(t),s=Math.sin(t);return this.set(e,-s,0,s,e,0,0,0,1),this}makeScale(t,e){return this.set(t,0,0,0,e,0,0,0,1),this}equals(t){const e=this.elements,s=t.elements;for(let t=0;t<9;t++)if(e[t]!==s[t])return!1;return!0}fromArray(t,e=0){for(let s=0;s<9;s++)this.elements[s]=t[s+e];return this}toArray(t=[],e=0){const s=this.elements;return t[e]=s[0],t[e+1]=s[1],t[e+2]=s[2],t[e+3]=s[3],t[e+4]=s[4],t[e+5]=s[5],t[e+6]=s[6],t[e+7]=s[7],t[e+8]=s[8],t}}const xs=new Is,Ms=(new Is).set(.8224621,.177538,0,.0331941,.9668058,0,.0170827,.0723974,.9105199),Ns=(new Is).set(1.2249401,-.2249404,0,-.0420569,1.0420571,0,-.0196376,-.0786361,1.0982735),Ls={[Rs]:{transfer:Ts,primaries:Bs,toReference:t=>t,fromReference:t=>t},[Es]:{transfer:Ps,primaries:Bs,toReference:t=>t.convertSRGBToLinear(),fromReference:t=>t.convertLinearToSRGB()},[Cs]:{transfer:Ts,primaries:"p3",toReference:t=>t.applyMatrix3(Ns),fromReference:t=>t.applyMatrix3(Ms)},"display-p3":{transfer:Ps,primaries:"p3",toReference:t=>t.convertSRGBToLinear().applyMatrix3(Ns),fromReference:t=>t.applyMatrix3(Ms).convertLinearToSRGB()}},Os=new Set([Rs,Cs]),Ds={enabled:!0,_workingColorSpace:Rs,get workingColorSpace(){return this._workingColorSpace},set workingColorSpace(t){if(!Os.has(t))throw new Error(`Unsupported working color space, "${t}".`);this._workingColorSpace=t},convert:function(t,e,s){if(!1===this.enabled||e===s||!e||!s)return t;const i=Ls[e].toReference;return(0,Ls[s].fromReference)(i(t))},fromWorkingColorSpace:function(t,e){return this.convert(t,this._workingColorSpace,e)},toWorkingColorSpace:function(t,e){return this.convert(t,e,this._workingColorSpace)},getPrimaries:function(t){return Ls[t].primaries},getTransfer:function(t){return""===t?Ts:Ls[t].transfer}};function Ys(t){return t<.04045?.0773993808*t:Math.pow(.9478672986*t+.0521327014,2.4)}function Us(t){return t<.0031308?12.92*t:1.055*Math.pow(t,.41666)-.055}function js(t,e,s){return Math.max(e,Math.min(s,t))}function Js(t,e,s){return(1-s)*t+s*e}const Fs={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},zs={h:0,s:0,l:0},Gs={h:0,s:0,l:0};function Vs(t,e,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?t+6*(e-t)*s:s<.5?e:s<2/3?t+6*(e-t)*(2/3-s):t}class Hs{constructor(t,e,s){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(t,e,s)}set(t,e,s){if(void 0===e&&void 0===s){const e=t;e&&e.isColor?this.copy(e):"number"==typeof e?this.setHex(e):"string"==typeof e&&this.setStyle(e)}else this.setRGB(t,e,s);return this}asVector4(t=1){return new C(this.r,this.g,this.b,t)}setScalar(t){return this.r=t,this.g=t,this.b=t,this}setHex(t,e=Rs){return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(255&t)/255,Ds.toWorkingColorSpace(this,e),this}setRGB(t,e,s,i=Ds.workingColorSpace){return this.r=t,this.g=e,this.b=s,Ds.toWorkingColorSpace(this,i),this}setHSL(t,e,s,i=Ds.workingColorSpace){if(t=(t%1+1)%1,e=js(e,0,1),s=js(s,0,1),0===e)this.r=this.g=this.b=s;else{const i=s<=.5?s*(1+e):s+e-s*e,n=2*s-i;this.r=Vs(n,i,t+1/3),this.g=Vs(n,i,t),this.b=Vs(n,i,t-1/3)}return Ds.toWorkingColorSpace(this,i),this}setStyle(t,e=Rs){function s(e){void 0!==e&&parseFloat(e)<1&&console.warn("THREE.Color: Alpha component of "+t+" will be ignored.")}let i;if(i=/^(\w+)\(([^\)]*)\)/.exec(t)){let n;const r=i[1],o=i[2];switch(r){case"rgb":case"rgba":if(n=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return s(n[4]),this.setRGB(Math.min(255,parseInt(n[1],10))/255,Math.min(255,parseInt(n[2],10))/255,Math.min(255,parseInt(n[3],10))/255,e);if(n=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return s(n[4]),this.setRGB(Math.min(100,parseInt(n[1],10))/100,Math.min(100,parseInt(n[2],10))/100,Math.min(100,parseInt(n[3],10))/100,e);break;case"hsl":case"hsla":if(n=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return s(n[4]),this.setHSL(parseFloat(n[1])/360,parseFloat(n[2])/100,parseFloat(n[3])/100,e);break;default:console.warn("THREE.Color: Unknown color model "+t)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(t)){const s=i[1],n=s.length;if(3===n)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,e);if(6===n)return this.setHex(parseInt(s,16),e);console.warn("THREE.Color: Invalid hex color "+t)}else if(t&&t.length>0)return this.setColorName(t,e);return this}setColorName(t,e=Rs){const s=Fs[t.toLowerCase()];return void 0!==s?this.setHex(s,e):console.warn("THREE.Color: Unknown color "+t),this}copy(t){return this.r=t.r,this.g=t.g,this.b=t.b,this}copySRGBToLinear(t){return this.r=Ys(t.r),this.g=Ys(t.g),this.b=Ys(t.b),this}copyLinearToSRGB(t){return this.r=Us(t.r),this.g=Us(t.g),this.b=Us(t.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(t=Rs){return Ds.fromWorkingColorSpace(qs.copy(this),t),65536*Math.round(js(255*qs.r,0,255))+256*Math.round(js(255*qs.g,0,255))+Math.round(js(255*qs.b,0,255))}getHexString(t=Rs){return("000000"+this.getHex(t).toString(16)).slice(-6)}getHSL(t,e=Ds.workingColorSpace){Ds.fromWorkingColorSpace(qs.copy(this),e);const s=qs.r,i=qs.g,n=qs.b,r=Math.max(s,i,n),o=Math.min(s,i,n);let a,h;const l=(o+r)/2;if(o===r)a=0,h=0;else{const t=r-o;switch(h=l<=.5?t/(r+o):t/(2-r-o),r){case s:a=(i-n)/t+(i<n?6:0);break;case i:a=(n-s)/t+2;break;case n:a=(s-i)/t+4}a/=6}return t.h=a,t.s=h,t.l=l,t}getRGB(t,e=Ds.workingColorSpace){return Ds.fromWorkingColorSpace(qs.copy(this),e),t.r=qs.r,t.g=qs.g,t.b=qs.b,t}getStyle(t=Rs){Ds.fromWorkingColorSpace(qs.copy(this),t);const e=qs.r,s=qs.g,i=qs.b;return t!==Es?`color(${t} ${e.toFixed(3)} ${s.toFixed(3)} ${i.toFixed(3)})`:`rgb(${Math.round(255*e)},${Math.round(255*s)},${Math.round(255*i)})`}offsetHSL(t,e,s){return this.getHSL(zs),this.setHSL(zs.h+t,zs.s+e,zs.l+s)}add(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this}addColors(t,e){return this.r=t.r+e.r,this.g=t.g+e.g,this.b=t.b+e.b,this}addScalar(t){return this.r+=t,this.g+=t,this.b+=t,this}sub(t){return this.r=Math.max(0,this.r-t.r),this.g=Math.max(0,this.g-t.g),this.b=Math.max(0,this.b-t.b),this}multiply(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this}multiplyScalar(t){return this.r*=t,this.g*=t,this.b*=t,this}lerp(t,e){return this.r+=(t.r-this.r)*e,this.g+=(t.g-this.g)*e,this.b+=(t.b-this.b)*e,this}lerpColors(t,e,s){return this.r=t.r+(e.r-t.r)*s,this.g=t.g+(e.g-t.g)*s,this.b=t.b+(e.b-t.b)*s,this}lerpHSL(t,e){this.getHSL(zs),t.getHSL(Gs);const s=Js(zs.h,Gs.h,e),i=Js(zs.s,Gs.s,e),n=Js(zs.l,Gs.l,e);return this.setHSL(s,i,n),this}setFromVector3(t){return this.r=t.x,this.g=t.y,this.b=t.z,this}applyMatrix3(t){const e=this.r,s=this.g,i=this.b,n=t.elements;return this.r=n[0]*e+n[3]*s+n[6]*i,this.g=n[1]*e+n[4]*s+n[7]*i,this.b=n[2]*e+n[5]*s+n[8]*i,this}equals(t){return t.r===this.r&&t.g===this.g&&t.b===this.b}fromArray(t,e=0){return this.r=t[e],this.g=t[e+1],this.b=t[e+2],this}toArray(t=[],e=0){return t[e]=this.r,t[e+1]=this.g,t[e+2]=this.b,t}fromBufferAttribute(t,e){return this.r=t.getX(e),this.g=t.getY(e),this.b=t.getZ(e),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const qs=new Hs;var Ws,Ks;!function(t){t[t.Left=0]="Left",t[t.Center=1]="Center",t[t.Right=2]="Right"}(Ws||(Ws={})),function(t){t[t.Top=0]="Top",t[t.Center=1]="Center",t[t.Bottom=2]="Bottom"}(Ks||(Ks={}));var Xs=function(t,e,s,i){return new(s||(s=Promise))((function(n,r){function o(t){try{h(i.next(t))}catch(t){r(t)}}function a(t){try{h(i.throw(t))}catch(t){r(t)}}function h(t){var e;t.done?n(t.value):(e=t.value,e instanceof s?e:new s((function(t){t(e)}))).then(o,a)}h((i=i.apply(t,e||[])).next())}))};const Zs=window;function $s(){return Zs.isQuaternionPose=!!Zs.userpose&&1===Zs.userpose[Zs.userpose.length-1]}var Qs,ti,ei;!function(t){t[t.Front=0]="Front",t[t.Back=1]="Back",t[t.Double=2]="Double"}(Qs||(Qs={})),function(t){t[t.Discrete=0]="Discrete",t[t.Continuous=1]="Continuous",t[t.ContinuousDynamic=2]="ContinuousDynamic",t[t.ContinuousSpeculative=3]="ContinuousSpeculative"}(ti||(ti={})),function(t){t[t.HEAD=0]="HEAD",t[t.BODY=1]="BODY",t[t.LEFT_HAND=2]="LEFT_HAND",t[t.RIGHT_HAND=3]="RIGHT_HAND",t[t.COCKPIT=4]="COCKPIT"}(ei||(ei={}));var si=function(t,e,s,i){return new(s||(s=Promise))((function(n,r){function o(t){try{h(i.next(t))}catch(t){r(t)}}function a(t){try{h(i.throw(t))}catch(t){r(t)}}function h(t){var e;t.done?n(t.value):(e=t.value,e instanceof s?e:new s((function(t){t(e)}))).then(o,a)}h((i=i.apply(t,e||[])).next())}))};const ii="a-scene",ni={box:ve.BoxGeometry,circle:ve.CircleGeometry,cone:ve.ConeGeometry,cylinder:ve.CylinderGeometry,plane:ve.PlaneGeometry,ring:ve.RingGeometry,sphere:ve.SphereGeometry,torus:ve.TorusGeometry,"torus-knot":ve.TorusKnotGeometry,parametric:ve.ParametricGeometry},ri={apple:Se.Apple,catenoid:Se.Catenoid,custom:Se.Custom,fermet:Se.Fermet,helicoid:Se.Helicoid,horn:Se.Horn,mobius:Se.Mobius,"mobius-3d":Se.Mobius3d,natica:Se.Natica,pillow:Se.Pillow,scherk:Se.Scherk,snail:Se.Snail,spiral:Se.Spiral,spring:Se.Spring},oi=new Ft,ai={objs:[]},hi={objs:[]},li={objs:[]},ci={objs:[]};function ui(t,e,s){return si(this,void 0,void 0,(function*(){try{var i=yield te.GetInstance().Instantiate(t);i.SetActive(!0),t.meta.originals=t.meta.originals||[],t.meta.originals.push(i),ci.objs.push({uid:e,obj:i}),te.GetInstance().LegacyAttachObject(i,e,s)}catch(t){console.error(t)}}))}const di=window;class pi extends HTMLElement{constructor(){super(...arguments),this.hasLoaded=!1,this.isNode=!0,this.readyToTrigger=!1,this.hasRun=!1,this.evtData={},this.components={},this.pendingAttributes={},this.gltfLoaded=!1,this.animations=[],this.hasEnabledTransformWatch=!1,this.unityReady=!1,this.colorOverrides=[]}getObject3D(){return this.object3D}get object3D(){const t=this;return t.gameObject&&!t.gameObject.meta._legacy&&(t.gameObject.meta._legacy={set parametric(e){var s=JSON.stringify({points:e.points});t.geometry?(t.geometry.geometryType=ve.ParametricGeometry,t.geometry.parametricType=Se.Custom,t.geometry.parametricPoints=s,t.geometry.stacks=e.stacks,t.geometry.slices=e.slices):(t.geometry=new z(ve.ParametricGeometry,Se.Custom,0,0,0,0,0,0,0,0,0,0,0,0,0,!1,0,0,0,0,0,0,0,0,0,0,0,e.stacks,e.slices,0,s),t.gameObject.AddComponent(t.geometry).then((()=>t.setupMaterialAfterGeometry())))}}),{get position(){let e=t.transform?new R(1,1,-1).MultiplyVectors(t.transform.localPosition):new R;return e.set=function(e,s,i){t.transform.localPosition=new R(e,s,-i)},e},get scale(){let e=t.transform?t.transform.localScale:new R;return e.set=function(e,s,i){t.transform.localScale=new R(e,s,i)},e},get rotation(){let e=t.transform?new R(-1,-1,1).MultiplyVectors(t.transform.localEulerAngles):new R;return e.set=function(e,s,i){t.transform.localEulerAngles=new R(-e*P,-s*P,i*P)},e},get quaternion(){let e=t.transform?(new B).SetFromEuler(new R(-t.transform.localEulerAngles.x,-t.transform.localEulerAngles.y,t.transform.localEulerAngles.z)):new C;return e.set=function(e,s,i,n){t.transform.localRotation=new B(-e,-s,i,n)},e},visible:!t.gameObject||t.gameObject.active,id:t.gameObject?t.gameObject.unityId:"",get userData(){return t.gameObject?t.gameObject.meta._legacy:null},get children(){return[t.object3D]},getWorldPosition:e=>{var s=new R;if(t.watchEulerAndPosition(),t.transform&&(s=new R(1,1,-1).MultiplyVectors(t.transform.position)),!e)return s;e.set(s.x,s.y,s.z)},getWorldQuaternion:e=>{let s=new B;if(t.watchEulerAndPosition(),t.transform&&(s=(new B).SetFromEuler(new R(-t.transform.eulerAngles.x,-t.transform.eulerAngles.y,t.transform.eulerAngles.z))),!e)return s;e.set(s.x,s.y,s.z,s.w)},remove(){t.parentElement.removeChild(t)}}}watchEulerAndPosition(){this.gameObject&&!this.hasEnabledTransformWatch&&(this.hasEnabledTransformWatch=!0,this.transform.WatchProperties([h.eulerAngles,h.position]))}onReadyStateChange(){"complete"===document.readyState&&this.doConnectedCallback()}connectedCallback(){"complete"===document.readyState?this.doConnectedCallback():document.addEventListener("readystatechange",this.onReadyStateChange.bind(this))}doConnectedCallback(){return si(this,void 0,void 0,(function*(){this.tagName.toLocaleLowerCase()===ii&&function(){Xs(this,void 0,void 0,(function*(){const t=te.GetInstance(),s=s=>t.objects[s].GetComponent(e.BanterRigidbody);Zs.banter={movePlayer:(e,s)=>t.TeleportTo(new R(e.x,e.y,e.z),0,s),openPage:e=>t.OpenPage(e),setChildColor:(e,s,i)=>t.LegacySetChildColor(t.objects[e],new R(i.r,i.g,i.b),s),setText:(s,i,n)=>t.objects[s].GetComponent(e.BanterText).text=i,lockPlayer:()=>t.LegacyLockPlayer(),unlockPlayer:()=>t.LegacyUnlockPlayer(),sitPlayer:e=>t.LegacySitPlayer(t.objects[e]),unsitPlayer:()=>t.LegacyUnsitPlayer(),gorillaPlayer:()=>t.LegacyGorillaPlayer(),ungorillaPlayer:()=>t.LegacyUngorillaPlayer(),startSTT:e=>t.StartTTS(e),stopSTT:e=>t.StopTTS(e),enableControllerExtras:()=>t.LegacyEnableControllerExtras(),enableQuaternionPose:()=>t.LegacyEnableQuaternionPose(),setVisible:(e,s)=>Xs(this,void 0,void 0,(function*(){return t.objects[s].SetActive(e)})),addForce:(t,e,i)=>{let r=n.Force;switch(e){case"force":r=n.Force;break;case"impulse":r=n.Impulse;break;case"acceleration":r=n.Acceleration;break;case"velocitychange":r=n.VelocityChange}return s(i).AddForce(new R(t.x,t.y,t.z),r)},rigidBodySetKinematic:(t,e)=>setTimeout((()=>s(e).isKinematic=t),100),addExplosionForce:(t,e,i,r)=>s(r).AddExplosionForce(t,new R(e.x,e.y,-e.z),i,0,n.Force),movePosition:(t,e)=>{s(e).MovePosition(new R(t.x||0,t.y||0,-t.z||0))},moveRotation:(t,e)=>{const i=s(e);if(i){const e=new R(-t.x||0,-t.y||0,t.z||0),s=(new B).SetFromEuler(e);i.MoveRotation(s)}},timeScale:e=>t.TimeScale(e),gravity:e=>t.Gravity(e),playerSpeed:e=>t.PlayerSpeed(e),deeplink:(e,s)=>t.DeepLink(e,s),setVideoUrl:(e,s)=>t.LegacySetVideoUrl(t.objects[e],s),generateParametric:(t,e,s)=>{for(var i=[],n=0;n<=e;n++)for(var r=n/e,o=0;o<=t;o++){var a=s(o/t,r);i.push(a)}return i},sendMenuBrowserMessage:e=>t.SendBrowserMessage(e),setRefreshRate:e=>t.LegacySetRefreshRate(e),sendAframeEvent:(e,s,i)=>t.LegacySendAframeEvent(e,s,i),playAvatar:(e,s,i,n)=>t.LegacyPlayAvatar(t.objects[e],s,i,n),requestOwnership:e=>t.LegacyRequestOwnership(e),doIOwn:e=>t.LegacyDoIOwn(e),resetNetworkObject:e=>t.LegacyResetNetworkObject(e),oneShot:(e,s)=>e?t.OneShot(JSON.stringify(e),s||!1):null,setPublicSpaceProp:(e,s)=>{const i={};i[e]=s,t.SetPublicSpaceProps(i)},setProtectedSpaceProp:(e,s)=>{const i={};i[e]=s,t.SetProtectedSpaceProps(i)},rigidBodySleep:t=>{const e=s(t);e&&(e.velocity=new R(0,0,0),e.Sleep())}},Zs.userinputs={head:{position:{get x(){return Zs.userpose?Zs.userpose[0]:0},get y(){return Zs.userpose?Zs.userpose[1]:0},get z(){return Zs.userpose?-Zs.userpose[2]:0}},rotation:{get x(){return Zs.userpose?-Zs.userpose[3]:0},get y(){return Zs.userpose?-Zs.userpose[4]:0},get z(){return Zs.userpose?Zs.userpose[5]:0},get w(){return Zs.userpose&&$s()?Zs.userpose[6]:0}}},lefthand:{position:{get x(){return Zs.userpose?Zs.userpose[6+($s()?1:0)]:0},get y(){return Zs.userpose?Zs.userpose[7+($s()?1:0)]:0},get z(){return Zs.userpose?-Zs.userpose[8+($s()?1:0)]:0}},rotation:{get x(){return Zs.userpose?-Zs.userpose[9+($s()?1:0)]:0},get y(){return Zs.userpose?-Zs.userpose[10+($s()?1:0)]:0},get z(){return Zs.userpose?Zs.userpose[11+($s()?1:0)]:0},get w(){return Zs.userpose&&$s()?Zs.userpose[13]:0}}},righthand:{position:{get x(){return Zs.userpose?Zs.userpose[12+($s()?2:0)]:0},get y(){return Zs.userpose?Zs.userpose[13+($s()?2:0)]:0},get z(){return Zs.userpose?-Zs.userpose[14+($s()?2:0)]:0}},rotation:{get x(){return Zs.userpose?-Zs.userpose[15+($s()?2:0)]:0},get y(){return Zs.userpose?-Zs.userpose[16+($s()?2:0)]:0},get z(){return Zs.userpose?Zs.userpose[17+($s()?2:0)]:0},get w(){return Zs.userpose&&$s()?Zs.userpose[20]:0}}},cockpit:{position:{get x(){return Zs.userpose?Zs.userpose[18+($s()?3:0)]:0},get y(){return Zs.userpose?Zs.userpose[19+($s()?3:0)]:0},get z(){return Zs.userpose?-Zs.userpose[20+($s()?3:0)]:0}},rotation:{get x(){return Zs.userpose?-Zs.userpose[21+($s()?3:0)]:0},get y(){return Zs.userpose?-Zs.userpose[22+($s()?3:0)]:0},get z(){return Zs.userpose?Zs.userpose[23+($s()?3:0)]:0},get w(){return Zs.userpose&&$s()?Zs.userpose[26]:0}}},get voiceVolume(){return Zs.userpose?Zs.userpose[24+($s()?4:0)]:0},controllers:{left:{get trigger(){return Zs.userpose&&Zs.userpose[25+($s()?4:0)]||0},joystick:{get x(){return Zs.userpose&&Zs.userpose[27+($s()?4:0)]||0},get y(){return Zs.userpose&&Zs.userpose[28+($s()?4:0)]||0}}},right:{get trigger(){return Zs.userpose&&Zs.userpose[26+($s()?4:0)]||0},joystick:{get x(){return Zs.userpose&&Zs.userpose[29+($s()?4:0)]||0},get y(){return Zs.userpose&&Zs.userpose[30+($s()?4:0)]||0}}}}},Object.keys(Zs.banter).forEach((t=>{window[t]=Zs.banter[t]})),t.On("button-pressed",(t=>{Zs.buttonPressCallback&&Zs.buttonPressCallback(m(t))})),t.On("user-joined",(t=>Xs(this,void 0,void 0,(function*(){t.detail.isLocal?(Zs.user={id:t.detail.uid,sid:t.detail.id,uid:t.detail.uid,name:t.detail.name,color:t.detail.color,instance:window.SPACE_INSTANCE},Zs.userCallback&&Zs.userCallback(Zs.user),ai.objs.concat(li.objs).forEach((e=>Xs(this,void 0,void 0,(function*(){ui(e.object,t.detail.uid,e.position)}))))):(yield g(Zs,"AFRAME"),yield new Promise((t=>setTimeout(t,1e3))),Zs.userJoinedCallback&&Zs.userJoinedCallback({id:t.detail.uid,sid:t.detail.id,uid:t.detail.uid,name:t.detail.name,color:t.detail.color,instance:window.SPACE_INSTANCE}),ai.objs.concat(hi.objs).forEach((e=>Xs(this,void 0,void 0,(function*(){ui(e.object,t.detail.uid,e.position)})))))})))),t.On("user-left",(t=>Xs(this,void 0,void 0,(function*(){yield g(Zs,"AFRAME"),Zs.userLeftCallback&&Zs.userLeftCallback(t.detail),ci.objs.filter((e=>e.uid===t.detail.uid)).forEach((t=>Xs(this,void 0,void 0,(function*(){yield t.obj.Destroy()})))),ci.objs=ci.objs.filter((e=>e.uid!==t.detail.uid))})))),t.On("button-released",(t=>{Zs.buttonPressCallback&&Zs.buttonPressCallback(m(t,"Release"))})),t.On("transcription",(t=>{Zs.transcriptionCallback&&Zs.transcriptionCallback(t.detail.id,t.detail.message)})),t.On("menu-browser-message",(t=>{window.dispatchEvent(new CustomEvent("menubrowsermessage",{detail:{message:t.detail}}))})),t.On("aframe-trigger",(t=>{Zs.aframeTriggerCallback&&Zs.aframeTriggerCallback(t.detail.data)})),t.On("voice-started",(t=>{Zs.voiceStartedCallback&&Zs.voiceStartedCallback()})),t.On("one-shot",(t=>{Zs.AframeInjection.dispatchEvent(new CustomEvent("oneShot",{detail:{data:JSON.parse(t.detail.data),fromId:t.detail.fromId,fromAdmin:t.detail.fromAdmin}}))})),t.On("space-state-changed",(t=>{Zs.AframeInjection.dispatchEvent(new CustomEvent("spaceStateChange",{detail:t.detail}))})),yield t.WaitForUnityLoaded(),Zs.loadDoneCallback&&(Zs.loadDoneCallback(),Zs.loadDone=!0),t.EnableLegacy()}))}(),this.sceneEl=yield this.closestScene(),this.sceneEl||console.warn("You are attempting to attach <"+this.tagName+"> outside of an A-Frame scene. Append this element to `<a-scene>` instead."),this.hasLoaded=!1,this.emit("nodeready",void 0,!1),this.tagName.toLocaleLowerCase()===ii?(this.getSceneSettings(),this.sceneEl=this,this.sceneEl.components["vr-mode-ui"]={updateEnterInterfaces(){}},this.load((()=>{console.log("Banter AFRAME shim loaded, errors above may be safely ignored (Failed to execute 'define', Cannot read properties of undefined (reading 'prototype')).")}))):(this.sceneEl=this.parentElement.sceneEl,this.load())}))}makeGameObject(){return si(this,void 0,void 0,(function*(){this.gameObject=new yt(this.tagName+(this.id?"#"+this.id:"")),this.gameObject.meta.el=this,yield this.gameObject.Async(),this.transform=yield this.gameObject.AddComponent(new lt),this.unityReady=!0,this.emit("unityready",void 0,!1)}))}getBoolValue(t){return t.enabled||!1===t.enabled?t.enabled:!!t}getSceneSettings(){if(this.hasAttribute("sq-forcegrabenabled")&&(oi.EnableForceGrab=!0),this.hasAttribute("sq-spawnpoint")){let t=this.parseAttributeValue("sq-spawnpoint",this.getAttribute("sq-spawnpoint"));oi.SpawnPoint=new C(t.position.x||0,t.position.y||0,-t.position.z||0,t.position.w||0)}if(this.hasAttribute("sq-clippingplane")){let t=this.parseAttributeValue("sq-clippingplane",this.getAttribute("sq-clippingplane"));oi.ClippingPlane=new E(t.near||.015,t.far||1500)}if(this.hasAttribute("sq-maxoccupancy")){let t=this.parseAttributeValue("sq-maxoccupancy",this.getAttribute("sq-maxoccupancy"));oi.MaxOccupancy=t.number||20}if(this.hasAttribute("sq-refreshrate")){let t=this.parseAttributeValue("sq-refreshrate",this.getAttribute("sq-refreshrate"));oi.RefreshRate=t.rate||72}if(this.hasAttribute("sq-enablespiderman")&&(oi.EnableSpiderMan=!0),this.hasAttribute("sq-disableradar")&&(oi.EnableRadar=!1),this.hasAttribute("sq-disablenametags")&&(oi.EnableNametags=!1),this.hasAttribute("sq-disableteleport")&&(oi.EnableTeleport=!1),this.hasAttribute("sq-hideavatars")&&(oi.EnableAvatars=!1),this.hasAttribute("sq-devtoolsenabled")){let t=this.parseAttributeValue("sq-devtoolsenabled",this.getAttribute("sq-devtoolsenabled"));oi.EnableDevTools=this.getBoolValue(t)}if(this.hasAttribute("sq-portalsenabled")){let t=this.parseAttributeValue("sq-portalsenabled",this.getAttribute("sq-portalsenabled"));oi.EnablePortals=this.getBoolValue(t)}if(this.hasAttribute("sq-hidedefaulttextures")&&(oi.EnableDefaultTextures=!1),this.hasAttribute("sq-guestsallowed")){let t=this.parseAttributeValue("sq-guestsallowed",this.getAttribute("sq-guestsallowed"));oi.EnableGuests=this.getBoolValue(t)}if(this.hasAttribute("sq-friendpositionjoinallowed")){let t=this.parseAttributeValue("sq-friendpositionjoinallowed",this.getAttribute("sq-friendpositionjoinallowed"));oi.EnableFriendPositionJoin=!!t.enabled}this.hasAttribute("sq-spawnpoint")||te.GetInstance().TeleportTo(new R(0,0,0),0,!1,!0),te.GetInstance().SetSettings(oi)}closestScene(){return si(this,void 0,void 0,(function*(){let t=this;for(;t&&t.tagName.toLocaleLowerCase()!==ii;)yield g(t,"parentElement"),t=t.parentElement;return t}))}disconnectedCallback(){this.hasLoaded=!1,this.gameObject&&(this.gameObject.meta.originals&&this.gameObject.meta.originals.length&&this.gameObject.meta.originals.forEach((t=>{t.Destroy()})),this.gameObject.Destroy(),ai.objs=ai.objs.filter((t=>t.object!==this.gameObject)),li.objs=li.objs.filter((t=>t.object!==this.gameObject)),hi.objs=hi.objs.filter((t=>t.object!==this.gameObject)),delete this.gameObject)}loadMe(){var t;return si(this,void 0,void 0,(function*(){yield this.makeGameObject();const e=null===(t=this.parentElement)||void 0===t?void 0:t.gameObject;e&&this.gameObject.SetParent(e,!1),this.gameObject.On("click",(t=>{t.detail.point=new R(t.detail.point.x,t.detail.point.y,-t.detail.point.z),t.detail.normal=new R(t.detail.normal.x,t.detail.normal.y,-t.detail.normal.z),this.gameObject.meta._legacy=t.detail,this.emit("click",t.detail)})),this.gameObject.On("grab",(t=>{t.detail.position=new R(t.detail.point.x,t.detail.point.y,-t.detail.point.z),t.detail.side=t.detail.side===r.LEFT?"left":"right",this.gameObject.meta._legacy=t.detail,this.emit("grab",t.detail)})),this.gameObject.On("drop",(t=>{this.emit("drop",t.detail)})),this.gameObject.On("collision-enter",(t=>{this.emit("collision-enter",t.detail)})),this.gameObject.On("collision-exit",(t=>{this.emit("collision-exit",t.detail)})),this.gameObject.On("trigger-enter",(t=>{this.gameObject.meta.el&&(t.detail.other=this.gameObject.meta.el),t.detail.isLocalPlayer=!!t.detail.user&&t.detail.user.uid===window.user.id,this.gameObject.meta._legacy=t.detail,this.emit("trigger-enter",t.detail)})),this.gameObject.On("trigger-exit",(t=>{this.gameObject.meta.el&&(t.detail.other=this.gameObject.meta.el),t.detail.isLocalPlayer=!!t.detail.user&&t.detail.user.uid===window.user.id,this.gameObject.meta._legacy=t.detail,this.emit("trigger-exit",t.detail)})),this.gameObject.On("browser-message",(t=>{this.emit("browsermessage",t.detail)}))}))}load(t,e){return si(this,void 0,void 0,(function*(){let s,i;const n=this;this.hasLoaded||(this.loadMe(),this.getAttributeNames().forEach((t=>si(this,void 0,void 0,(function*(){const e=this.getAttribute(t),s=yield this.parseAttributes(t,null,e);ee[t]&&ee[t].init&&ee[t].init.bind({el:this,sceneEl:this.sceneEl,data:s})()})))),this.setupMutationObserver(),e=e||(t=>t.isNode),s=this.getChildren(),i=s.filter(e).map((function(t){return new Promise((function(e,s){if(t.hasLoaded)return e();t.addEventListener("loaded",e),t.addEventListener("error",s)}))})),Promise.allSettled(i).then((function(e){e.forEach((function(t){"rejected"===t.status&&console.warn("Rendering scene with errors on node: ",t.reason.target)})),n.hasLoaded=!0,t&&t(),n.emit("loaded",void 0,!1)})))}))}getMaterialSide(t){return"back"===t?Qs.Back:"double"===t?Qs.Double:Qs.Front}getAssetSrc(t){return t&&"string"==typeof t?t.startsWith("#")?document.querySelector(t).getAttribute("src"):t:t&&t instanceof HTMLImageElement?t.currentSrc:""}colorValToFull(t){let e=t.replace(/^#/,"");return 3===e.length&&(e=e.split("").map((function(t){return t+t})).join("")),e}setupMaterialAfterGeometry(){return si(this,void 0,void 0,(function*(){let t;!this.invertedMesh&&this.hasAttribute("sq-invertedcollider")&&(this.invertedMesh=new q,yield this.gameObject.AddComponent(this.invertedMesh)),this.hasAttribute("material")&&(t=this.parseAttributeValue("material",this.getAttribute("material")));const e=this.getAssetSrc(this.hasAttribute("src")?this.getAttribute("src"):t&&t.src?t.src:"");let s=this.hasAttribute("opacity")?+this.getAttribute("opacity"):t&&(t.opacity||0===t.opacity)?t.opacity:1,i=!!this.hasAttribute("transparent")||t&&t.transparent,n=this.hasAttribute("side")?this.getAttribute("side"):t&&t.side?t.side:"front";Number.isNaN(s)&&(s=1);let r="Unlit/Diffuse";(i||1!=s)&&(r="Unlit/DiffuseTransparent");var o=this.hasAttribute("color")?this.getAttribute("color"):t&&t.color?t.color:"";o&&o.startsWith("#")&&(o=parseInt(this.colorValToFull(o).replace(/^#/,""),16)),this.material=new K(r,e,new Hs(o).asVector4(s),this.getMaterialSide(n),!0),yield this.gameObject.AddComponent(this.material),this.collider||!this.hasAttribute("sq-collider")&&!this.hasAttribute("sq-climbable")||(this.collider=new X(!0,this.hasAttribute("sq-triggercollider")),yield this.gameObject.AddComponent(this.collider),yield this.gameObject.AddComponent(new U)),(!this.collider&&this.hasAttribute("sq-nonconvexcollider")||this.hasAttribute("sq-invertedcollider"))&&(this.collider=new X(!1,this.hasAttribute("sq-triggercollider")),yield this.gameObject.AddComponent(this.collider),yield this.gameObject.AddComponent(new U))}))}setRotationFromEuler(t,e,s){const i=new R(t,e,s),n=(new B).SetFromEuler(i);this.transform.localRotation=n}processAttributes(t,e,s){return si(this,void 0,void 0,(function*(){switch(t){case"position":yield g(this,"unityReady"),this.transform.localPosition=new R(e.x||0,e.y||0,-e.z||0);break;case"scale":yield g(this,"unityReady"),this.transform.localScale=new R(e.x||1e-5,e.y||1e-5,e.z||1e-5);break;case"rotation":yield g(this,"unityReady"),this.transform.localEulerAngles=new R(-e.x||0,-e.y||0,e.z||0);break;case"sq-parametric":case"geometry":this.geometry||("sq-parametric"===t&&(e.primitive="parametric"),this.geometry=new z(ni[e.primitive],ri[e.type],e.width,e.height,e.depth,e.segmentsWidth,e.segmentsHeight,e.segmentsDepth,e.radius,e.segments,e.thetaStart*T,e.thetaLength*T,e.phiStart*T,e.phiLength*T,e.segmentsRadial,e.openEnded,e.radiusTop,e.radiusBottom,e.radiusInner,e.radiusOuter,e.segmentsTheta,e.segmentsPhi,e.tube,e.segmentsTubular,e.arc*T,e.p,e.q,e.stacks,e.slices,e.detail),yield this.gameObject.AddComponent(this.geometry),yield this.setupMaterialAfterGeometry());break;case"sq-playavatar":yield g(this,"unityReady"),window.playAvatar(this.gameObject.unityId,e.tracking,e.audio,e.avatar);break;case"sq-streetview":this.streetview||(this.streetview=new rt(e.panoId),yield this.gameObject.AddComponent(this.streetview));break;case"material":this.material&&(e.color&&(e.color&&e.color.startsWith("#")&&(e.color=parseInt(this.colorValToFull(e.color).replace(/^#/,""),16)),this.material.color=new Hs(e.color).asVector4(e.opacity||1)),e.side&&(this.material.side=this.getMaterialSide(e.side)),e.src&&(this.material.texture=this.getAssetSrc(e.src)));break;case"color":this.material&&(this.material.color=new Hs(e).asVector4());break;case"side":this.material&&(this.material.side=this.getMaterialSide(e));break;case"src":this.material&&(this.material.texture=this.getAssetSrc(e));break;case"animation":if(yield g(this,"unityReady"),yield this.gameObject.scene.WaitForUnityLoaded(),this.animations.includes(e.property))return;this.animations.push(e.property);const i=e.property.split(".").filter((t=>"object3D"!==t));switch(i[0]){case"scale":i[1]&&this.animateIt(e,"localScale",i[1],(()=>this.transform.localScale=this.transform.localScale));break;case"position":i[1]&&this.animateIt(e,"localPosition",i[1],(()=>this.transform.localPosition=this.transform.localPosition));break;case"rotation":i[1]&&this.animateIt(e,"localEulerAngles",i[1],(()=>{this.setRotationFromEuler(this.transform.localEulerAngles.x,this.transform.localEulerAngles.y,this.transform.localEulerAngles.z)}))}break;case"link":this.portal||(this.portal=new tt(e.href),yield this.gameObject.AddComponent(this.portal));break;case"sound":this.sound||(this.sound=new Audio(e.src),this.sound.loop=e.loop,this.sound.volume=e.volume,e.autoplay&&this.sound.play());break;case"text":if(!this.text){let t=Ws.Left;switch(e.align){case"center":t=Ws.Center;break;case"left":t=Ws.Left;break;case"right":t=Ws.Right}let s=Ks.Bottom;switch(e.baseline){case"center":s=Ks.Center;break;case"top":s=Ks.Top;break;case"bottom":s=Ks.Bottom}this.text=new at(e.value.split("\\n").join("\n"),new Hs(e.color).asVector4(),t,s,2,!1,!1,new E(0,0)),yield this.gameObject.AddComponent(this.text)}break;case"gltf-model":if(!this.gltf){let t=this.hasAttribute("sq-collider"),s=this.hasAttribute("sq-nonconvexcollider"),i=this.hasAttribute("sq-slippery"),n=this.hasAttribute("sq-climbable")||this.hasAttribute("sq-grabbable");this.gltf=new G(this.getAssetSrc(e),this.hasAttribute("sq-generatemipmaps"),t,s,i,n,!0),this.gltf.On("loaded",(()=>{this.gltfLoaded=!0,this.colorOverrides.length&&(this.colorOverrides.forEach((t=>{window.setChildColor(this.gameObject.unityId,t.path,t.color)})),this.colorOverrides=[])})),yield this.gameObject.AddComponent(this.gltf)}break;case"sq-overridecolor":this.colorOverrides.push({path:e.path,color:{r:e.color.x,g:e.color.y,b:e.color.z}}),this.gltf&&this.gltfLoaded&&window.setChildColor(this.gameObject.unityId,e.path,{r:e.color.x,g:e.color.y,b:e.color.z});break;case"sq-billboard":this.billboard||(this.billboard=new M(0,!1,!0,!1),yield this.gameObject.AddComponent(this.billboard));break;case"sq-clickurl":this.addEventListener("click",(()=>{this.gameObject.scene.OpenPage(e.url)}));break;case"sq-deeplink":this.addEventListener("click",(()=>{this.gameObject.scene.DeepLink(e.url,"")}));break;case"sq-interactable":this.gameObject.SetLayer(5);break;case"sq-syncloop":{let t;t=setInterval((()=>{if(this.gameObject){if(e.interval&&!this.hasRun){let t=(new Date).getTime(),s=t/1e3-Math.floor(t/(1e3*e.interval))*e.interval;s>e.interval-1&&!this.readyToTrigger&&(this.readyToTrigger=!0),s<1&&this.readyToTrigger&&(this.readyToTrigger=!1,this.emit(e.eventName,null,!1),e.runOnce&&(this.hasRun=!0))}}else clearInterval(t)}),50)}break;case"sq-lefthand":yield g(this,"unityReady"),yield g(this,"transform"),yield this.transform.Q([h.localEulerAngles]),yield new Promise((t=>setTimeout(t,200))),this.handleAttachements(e.whoToShow,ei.LEFT_HAND);break;case"sq-righthand":yield g(this,"unityReady"),yield g(this,"transform"),yield this.transform.Q([h.localEulerAngles]),yield new Promise((t=>setTimeout(t,200))),this.handleAttachements(e.whoToShow,ei.RIGHT_HAND);break;case"sq-head":yield g(this,"unityReady"),yield g(this,"transform"),yield this.transform.Q([h.localEulerAngles]),yield new Promise((t=>setTimeout(t,200))),this.handleAttachements(e.whoToShow,ei.HEAD);break;case"sq-cockpit":console.warn("sq-cockpit is no longer supported!");break;case"sq-body":yield g(this,"unityReady"),yield g(this,"transform"),yield this.transform.Q([h.localEulerAngles]),yield new Promise((t=>setTimeout(t,200))),this.handleAttachements(e.whoToShow,ei.BODY);break;case"visible":this.gameObject.SetActive(e);break;case"sq-trackpose":di.legacyPoseEnabled=!0;let n=null;const r=this.gameObject.scene;n=t=>{try{if(this.transform){if(this.hasLoaded)switch(e.type){case"lefthand":this.transform.localPosition=new R(di.userinputs.lefthand.position.x,di.userinputs.lefthand.position.y,-di.userinputs.lefthand.position.z),$s()?this.transform.localRotation=new B(di.userinputs.lefthand.rotation.x,di.userinputs.lefthand.rotation.y,di.userinputs.lefthand.rotation.z,di.userinputs.lefthand.rotation.w):this.transform.localEulerAngles=new R(-di.userinputs.lefthand.rotation.x*P,-di.userinputs.lefthand.rotation.y*P,di.userinputs.lefthand.rotation.z*P);break;case"righthand":this.transform.localPosition=new R(di.userinputs.righthand.position.x,di.userinputs.righthand.position.y,-di.userinputs.righthand.position.z),$s()?this.transform.localRotation=new B(di.userinputs.righthand.rotation.x,di.userinputs.righthand.rotation.y,di.userinputs.righthand.rotation.z,di.userinputs.righthand.rotation.w):this.transform.localEulerAngles=new R(-di.userinputs.righthand.rotation.x*P,-di.userinputs.righthand.rotation.y*P,di.userinputs.righthand.rotation.z*P);break;case"head":this.transform.localPosition=new R(di.userinputs.head.position.x,di.userinputs.head.position.y,-di.userinputs.head.position.z),$s()?this.transform.localRotation=new B(di.userinputs.head.rotation.x,di.userinputs.head.rotation.y,di.userinputs.head.rotation.z,di.userinputs.head.rotation.w):this.transform.localEulerAngles=new R(-di.userinputs.head.rotation.x*P,-di.userinputs.head.rotation.y*P,di.userinputs.head.rotation.z*P);break;case"cockpit":this.transform.localPosition=new R(di.userinputs.cockpit.position.x,di.userinputs.cockpit.position.y,-di.userinputs.cockpit.position.z),$s()?this.transform.localRotation=new B(di.userinputs.cockpit.rotation.x,di.userinputs.cockpit.rotation.y,di.userinputs.cockpit.rotation.z,di.userinputs.cockpit.rotation.w):this.transform.localEulerAngles=new R(-di.userinputs.cockpit.rotation.x*P,-di.userinputs.cockpit.rotation.y*P,di.userinputs.cockpit.rotation.z*P)}this.gameObject||r.Off("legacy-user-pose",n)}}catch(t){console.error(t)}},r.On("legacy-user-pose",n);break;case"sq-slippery":case"sq-sticky":if(yield new Promise((t=>setTimeout(t))),!this.physicMaterial){var s="sq-sticky"===t?15:e.friction;this.physicMaterial=new $(s,s),yield this.gameObject.AddComponent(this.physicMaterial)}this.rigidBody||"sq-sticky"!==t||(this.rigidBody=new et(1,0,.05,!0,!0,new R,ti.Discrete,!1,!1,!1,!1,!1,!1,new R,new R),yield this.gameObject.AddComponent(this.rigidBody));break;case"sq-climbable":case"sq-grabbable":this.gameObject.SetLayer(20);break;case"sq-gravityfield":this.gameObject.On("trigger-enter",(t=>{t.detail.user&&"__BA_PlayerHead"===t.detail.tag&&t.detail.user.uid===window.user.id&&window.gravity(e.gravity)})),this.gameObject.On("trigger-exit",(t=>{t.detail.user&&"__BA_PlayerHead"===t.detail.tag&&t.detail.user.uid===window.user.id&&window.gravity({x:0,y:-9.8,z:0})})),this.collider||(yield g(di,"user"),this.collider=new L(!0),yield this.gameObject.AddComponent(this.collider),yield this.gameObject.AddComponent(new U));break;case"sq-timedilationfield":this.gameObject.On("trigger-enter",(t=>{t.detail.user&&"__BA_PlayerHead"===t.detail.tag&&t.detail.user.uid===window.user.id&&window.timeScale(e.scale)})),this.gameObject.On("trigger-exit",(t=>{t.detail.user&&"__BA_PlayerHead"===t.detail.tag&&t.detail.user.uid===window.user.id&&window.timeScale(1)})),this.collider||(yield g(di,"user"),this.collider=new L(!0),yield this.gameObject.AddComponent(this.collider),yield this.gameObject.AddComponent(new U));break;case"sq-speedfield":this.gameObject.On("trigger-enter",(t=>{t.detail.user&&"__BA_PlayerHead"===t.detail.tag&&t.detail.user.uid===window.user.id&&window.playerSpeed(!0)})),this.gameObject.On("trigger-exit",(t=>{t.detail.user&&"__BA_PlayerHead"===t.detail.tag&&t.detail.user.uid===window.user.id&&window.playerSpeed(!1)})),this.collider||(yield g(di,"user"),this.collider=new L(!0),yield this.gameObject.AddComponent(this.collider),yield this.gameObject.AddComponent(new U));break;case"sq-browser":yield g(this,"unityReady"),this.browser?e.url&&(this.browser.url=e.url):(this.browser=new O(e.url,e.mipMaps,e.pixelsPerUnit,1024,576,JSON.stringify({actions:e.afterLoadActions})),yield this.gameObject.AddComponent(this.browser));break;case"sq-assetbundle":this.assetbundle||(this.assetbundle=new A(e.desktop,null,null,e.android,null,null,!0,!0),yield this.gameObject.AddComponent(this.assetbundle));break;case"sq-kitbundle":this.kitbundle||(this.kitbundle=new A(e.desktop,null,null,e.android,null,null,!1),yield this.gameObject.AddComponent(this.kitbundle));break;case"sq-kititem":this.kititem||(this.kititem=new W(e.item),yield this.gameObject.AddComponent(this.kititem));break;case"sq-boxcollider":this.collider||(this.collider=new L(this.hasAttribute("sq-triggercollider"),e.center,e.size),yield this.gameObject.AddComponent(this.collider),yield this.gameObject.AddComponent(new U));break;case"sq-spherecollider":this.collider||(this.collider=new nt(this.hasAttribute("sq-triggercollider"),e.radius),yield this.gameObject.AddComponent(this.collider),yield this.gameObject.AddComponent(new U));break;case"sq-capsulecollider":this.collider||(this.collider=new D(this.hasAttribute("sq-triggercollider"),e.radius,e.height),yield this.gameObject.AddComponent(this.collider),yield this.gameObject.AddComponent(new U));break;case"sq-mirror":this.mirror||(this.mirror=new Z,yield this.gameObject.AddComponent(this.mirror));break;case"sq-smoothposition":yield g(this,"unityReady"),this.transform.lerpPosition=!0;break;case"sq-smoothrotation":yield g(this,"unityReady"),this.transform.lerpRotation=!0;break;case"sq-rigidbody":if(!this.rigidBody){let t=ti.Discrete;switch(e.collisionDetectionMode){case"discrete":t=ti.Discrete;break;case"continuous":t=ti.Continuous;break;case"continuousdynamic":t=ti.ContinuousDynamic;break;case"continuousspeculative":t=ti.ContinuousSpeculative}this.rigidBody=new et(e.mass,e.drag,e.angularDrag,e.isKinematic,e.useGravity,e.centerOfMass,t,e.freezePosX,e.freezePosY,e.freezePosZ,e.freezeRotX,e.freezeRotY,e.freezeRotZ,e.velocity,e.angularVelocity),yield this.gameObject.AddComponent(this.rigidBody)}}}))}parseAttributeValue(t,e){let s;this.components[t]={data:ge(e)},"sq-browser"===t&&(this.components[t].runActions=t=>{var e;return null===(e=this.browser)||void 0===e?void 0:e.RunActions(JSON.stringify({actions:t}))});try{if("geometry"===t){const e=this.components[t].data.primitive;e&&(fi(e,"segmentsWidth",!0),fi(e,"segmentsHeight",!0),fi(e,"thetaLength",!0),fi(e,"radiusTop",!0))}const i=ae(ee[t].schema,t);s=oe(ee[t].schema)?ue(e,i):le(this.components[t].data,ee[t].schema,!1,t)}catch(s){console.warn(s,t,e)}return s}handleAttachements(t,s){return si(this,void 0,void 0,(function*(){if("everyone"===t)ai.objs.push({position:s,object:this.gameObject}),this.gameObject.SetActive(!1),Object.values(te.GetInstance().users).forEach((t=>si(this,void 0,void 0,(function*(){ui(this.gameObject,t.uid,s)}))));else if("everyoneelse"===t)hi.objs.push({position:s,object:this.gameObject}),this.gameObject.SetActive(!1),Object.values(te.GetInstance().users).forEach((t=>si(this,void 0,void 0,(function*(){t.isLocal||ui(this.gameObject,t.uid,s)}))));else if("onlyme"===t)li.objs.push({position:s,object:this.gameObject}),this.gameObject.SetActive(!1),ui(this.gameObject,window.user.id,s);else{var i=yield this.gameObject.GetComponent(e.Transform);yield i.Q([h.localEulerAngles]),i.localEulerAngles=new R(i.localEulerAngles.x,i.localEulerAngles.y+270,i.localEulerAngles.z),yield i.Q([h.localEulerAngles]),te.GetInstance().LegacyAttachObject(this.gameObject,t,s)}}))}parseAttributes(t,e,s){return si(this,void 0,void 0,(function*(){if(t=t.split("__")[0],!ee[t])return;let e=this.parseAttributeValue(t,s);return this.processAttributes(t,e,s),e}))}invertCoordinates(t,e){var s="eulerAngles"===t||"localEulerAngles"===t;return("position"===t||"localPosition"===t)&&"z"===e||s&&"x"===e||s&&"y"===e?-1:1}animateIt(t,e,s,i){const n={};"string"==typeof s&&(n[s]=this.transform[e][s]*this.invertCoordinates(e,s));const r={targets:n,duration:t.dur||0,delay:t.delay||0,easing:t.easing||"linear",elasticity:t.elasticity||0,loop:t.loop||!1,direction:t.dir||"normal",autoplay:t.autoplay||!0,round:t.round||1e7,change:t=>{"string"==typeof s&&(this.transform[e][s]=t.animatables[0].target[s]*this.invertCoordinates(e,s)),i()}};"string"==typeof s&&(r[s]=t.from||0===t.from?[t.from,t.to]:[this.transform[e][s]*this.invertCoordinates(e,s),t.to]),t.startEvents&&t.startEvents.length?t.startEvents.forEach((t=>{this.addEventListener(t,(()=>{ws(r)}))})):ws(r)}attributeChangedCallback(t,e,s){var i=t.split("__");t=i[0],this.parseAttributes(t,e,s).then((e=>{"object"==typeof e&&i[1]&&(e._event="_"+i[1]),ee[t]&&ee[t].update&&ee[t].update.bind({el:this,sceneEl:this.sceneEl,data:e})()}))}setupMutationObserver(){const t=this;new MutationObserver((function(e){return si(this,void 0,void 0,(function*(){let s;for(s=0;s<e.length;s++)if("attributes"===e[s].type){const i=e[s].attributeName,n=window.HTMLElement.prototype.getAttribute.call(t,i),r=e[s].oldValue;t.attributeChangedCallback(i,r,n)}}))})).observe(this,{attributes:!0,attributeOldValue:!0})}getChildren(){return Array.prototype.slice.call(this.children,0)}setObjectActiveInitially(t){return si(this,void 0,void 0,(function*(){yield g(this,"unityReady"),this.gameObject.SetActive(t)}))}setAttribute(t,e,s){"object"!=typeof e?(s&&(e=e+": "+s),"visible"===t&&this.setObjectActiveInitially(!!e&&"false"!==e),window.HTMLElement.prototype.setAttribute.call(this,t,e)):this.attributeChangedCallback(t,null,e)}getAttribute(t){var e,s;return"visible"===t?"false"!==window.HTMLElement.prototype.getAttribute.call(this,t)&&null!==(s=null===(e=this.gameObject)||void 0===e?void 0:e.active)&&void 0!==s&&s:window.HTMLElement.prototype.getAttribute.call(this,t)}emit(t,e,s,i){let n=this.evtData;void 0===s&&(s=!0),n.bubbles=!!s,n.detail=e,i&&(n=Object.assign(i,n)),this.dispatchEvent(new CustomEvent(t,n))}}const gi={registerComponent(t,e){e.schema=e.schema||{},ee[t]=e},utils:{styleParser:d},scenes:[]};window.addEventListener("DOMContentLoaded",(()=>{window.AFRAME.scenes=Array.from(document.querySelectorAll("a-scene"))}));const mi=(t,e)=>{Object.keys(e).forEach((t=>{gi.registerComponent(t,{schema:e[t]})})),gi.registerComponent(t,{schema:e})};gi.registerComponent("gltf-model",{schema:{type:"model"}}),gi.registerComponent("position",{schema:{type:"vec3",default:{x:0,y:0,z:0}}}),gi.registerComponent("scale",{schema:{type:"vec3",default:{x:1,y:1,z:1}}}),gi.registerComponent("rotation",{schema:{type:"vec3",default:{x:0,y:0,z:0}}}),gi.registerComponent("rotation",{schema:{type:"vec3",default:{x:0,y:0,z:0}}}),gi.registerComponent("visible",{schema:{type:"bool",default:!0}}),gi.registerComponent("vr-mode-ui",{schema:{}}),mi("sound",{autoplay:{default:!1},loop:{default:!1},src:{type:"audio"},volume:{default:1}});const yi={primitive:{type:"string",default:""},depth:{type:"number",default:1,min:0},height:{type:"number",default:1,min:0},width:{type:"number",default:1,min:0},segmentsHeight:{type:"int",default:1,min:1},segmentsWidth:{type:"int",default:1,min:1},segmentsDepth:{type:"int",default:1,min:1},radius:{type:"number",default:1,min:0},segments:{type:"int",default:32,min:3},thetaStart:{type:"number",default:0},openEnded:{type:"bool",default:!1},radiusBottom:{type:"number",default:1,min:0},radiusTop:{type:"number",default:.01,min:0},segmentsRadial:{type:"int",default:36,min:3},radiusInner:{type:"number",default:.8,min:0},radiusOuter:{type:"number",default:1.2,min:0},segmentsPhi:{type:"int",default:10,min:1},segmentsTheta:{type:"int",default:32,min:3},phiLength:{type:"number",default:360},phiStart:{type:"number",default:0,min:0},arc:{type:"number",default:360},radiusTubular:{type:"number",default:.2,min:0},segmentsTubular:{type:"int",default:32,min:3},thetaLength:{default:180,min:0},p:{type:"number",default:2,min:1},q:{type:"number",default:3,min:1}};function bi(t,e,s){t?ee.geometry.schema[e].default=s:ee[e].schema.default=s}function fi(t,e,s=!1){yi[e]&&("sphere"===t?"segmentsWidth"===e?bi(s,e,32):"segmentsHeight"===e&&bi(s,e,16):"segmentsWidth"!==e&&"segmentsHeight"!==e||bi(s,e,1),"ring"!==t&&"cone"!==t&&"circle"!==t&&"cylinder"!==t||"thetaLength"!==e?"thetaLength"===e&&bi(s,e,180):bi(s,e,360),"cylinder"===t&&"radiusTop"===e?bi(s,e,1):"cone"===t&&"radiusTop"===e&&bi(s,e,.01))}mi("geometry",yi),mi("material",{color:{type:"color",default:"#FFF"},opacity:{type:"number",default:1,min:0},transparent:{type:"bool",default:!1},src:{type:"asset",default:""}}),mi("link",{href:{type:"asset",default:""},src:{type:"asset",default:""},title:{type:"string",default:""}}),mi("animation",{autoplay:{default:!0},delay:{default:0},dir:{default:""},dur:{default:1e3},easing:{default:"easeInQuad"},elasticity:{default:400},enabled:{default:!0},from:{default:""},loop:{default:0,parse:function(t){return!0===t||"true"===t||!1!==t&&"false"!==t&&parseInt(t,10)}},property:{default:""},startEvents:{type:"array"},pauseEvents:{type:"array"},resumeEvents:{type:"array"},round:{default:!1},to:{default:""},type:{default:""},isRawProperty:{default:!1}}),mi("text",{align:{type:"string",default:"left"},baseline:{type:"string",default:"center"},color:{type:"string",default:"#FFF"},value:{type:"string",default:""}}),["climbable","collider","invertedcollider","triggercollider","nonconvexcollider","sticky","clickable","interactable","grabbable","billboard","generatemipmaps"].forEach((t=>{gi.registerComponent("sq-"+t,{schema:{recursive:{type:"bool",default:!1}}})})),gi.registerComponent("sq-deeplink",{schema:{url:{type:"string",default:""}}}),gi.registerComponent("sq-playavatar",{schema:{tracking:{type:"string",default:""},audio:{type:"string",default:""},avatar:{type:"string",default:""}}}),gi.registerComponent("sq-slippery",{schema:{friction:{type:"number",default:0},recursive:{type:"bool",default:!1}}}),["hidenametags","hideavatars","mirror","hidedefaulttextures","smoothposition","smoothrotation","disableteleport","enablespiderman"].forEach((t=>{gi.registerComponent("sq-"+t,{schema:{enabled:{type:"bool",default:!1}}})})),["lefthand","righthand","head","body","cockpit"].forEach((t=>{gi.registerComponent("sq-"+t,{schema:{whoToShow:{type:"string",default:"everyone"}}})})),gi.registerComponent("sq-movingplatform",{schema:{end:{type:"vec3",default:{x:0,y:0,z:0}},speed:{type:"number",default:5},delay:{type:"number",default:5},timeToMaxSpeed:{type:"number",default:2},maxIterations:{type:"number",default:-1}}}),gi.registerComponent("sq-parametric",{schema:{stacks:{type:"number",default:10},slices:{type:"number",default:10},type:{type:"string",default:"klein"},inverted:{type:"bool",default:!1}}}),gi.registerComponent("sq-livestream",{schema:{type:{type:"string",default:"youtube"},url:{type:"string",default:""},muted:{type:"bool",default:!1},volume:{type:"number",default:.5},allowPause:{type:"bool",default:!1}}}),gi.registerComponent("sq-boxcollider",{schema:{center:{type:"vec3",default:{x:0,y:0,z:0}},size:{type:"vec3",default:{x:1,y:1,z:1}}}}),gi.registerComponent("sq-spherecollider",{schema:{center:{type:"vec3",default:{x:0,y:0,z:0}},radius:{type:"number",default:.5}}}),gi.registerComponent("sq-capsulecollider",{schema:{center:{type:"vec3",default:{x:0,y:0,z:0}},radius:{type:"number",default:.5},height:{type:"number",default:1},direction:{type:"string",default:"y"}}}),gi.registerComponent("sq-raycaster",{schema:{startEvent:{type:"string",default:"click"},continuous:{type:"bool",default:!1},distance:{type:"number",default:100}}}),gi.registerComponent("sq-destructable",{schema:{randomSeed:{type:"number",default:0},fractureType:{type:"string",default:"shatter"},numFracturePieces:{type:"number",default:10},numInterations:{type:"number",default:1},numGenerations:{type:"number",default:1},evenlySizedPieces:{type:"bool",default:!1},forceThreshold:{type:"number",default:10},forceRolloffRadius:{type:"number",default:1}}}),gi.registerComponent("sq-rigidbody",{schema:{angularDrag:{type:"number",default:.05},collisionDetectionMode:{type:"string",default:"discrete"},angularVelocity:{type:"vec3",default:{x:0,y:0,z:0}},centerOfMass:{type:"vec3",default:{x:0,y:0,z:0}},drag:{type:"number",default:0},isKinematic:{type:"bool",default:!1},useGravity:{type:"bool",default:!0},mass:{type:"number",default:1},toChild:{type:"bool",default:!1},velocity:{type:"vec3",default:{x:0,y:0,z:0}},freezePosX:{type:"bool",default:!1},freezePosY:{type:"bool",default:!1},freezePosZ:{type:"bool",default:!1},freezeRotX:{type:"bool",default:!1},freezeRotY:{type:"bool",default:!1},freezeRotZ:{type:"bool",default:!1}}}),gi.registerComponent("sq-particlesystem",{schema:{duration:{type:"number",default:5},startColor:{type:"string",default:"#ffffff"},startDelay:{type:"number",default:0},startDelayMultiplier:{type:"number",default:1},startLifetime:{type:"number",default:5},startLifetimeMultiplier:{type:"number",default:1},startSize:{type:"number",default:1},startSpeed:{type:"number",default:5},startRotation:{type:"number",default:0},simulationSpace:{type:"string",default:"local"},particleTexture:{type:"string",default:"https://cdn.sidequestvr.com/file/297264/new-project-1.png"},emitterVelocity:{type:"vec3",default:{x:0,y:0,z:0}},emitterVelocityMode:{type:"string",default:"rigid-body"},maxParticles:{type:"number",default:1e3},flipRotation:{type:"number",default:0},scalingMode:{type:"string",default:"local"},loop:{type:"bool",default:!0},playOnAwake:{type:"bool",default:!0},prewarm:{type:"bool",default:!1}}}),gi.registerComponent("sq-clippingplane",{schema:{near:{type:"number",default:.02},far:{type:"number",default:1500}}}),gi.registerComponent("sq-maxoccupancy",{schema:{number:{type:"number",default:20}}}),gi.registerComponent("sq-spawnpoint",{schema:{position:{type:"vec4",default:{x:0,y:0,z:0,w:0}}}}),gi.registerComponent("sq-refreshrate",{schema:{rate:{type:"number",default:90}}}),gi.registerComponent("sq-devtoolsenabled",{schema:{enabled:{type:"bool",default:!0}}}),gi.registerComponent("sq-portalsenabled",{schema:{enabled:{type:"bool",default:!0}}}),gi.registerComponent("sq-guestsallowed",{schema:{enabled:{type:"bool",default:!0}}}),gi.registerComponent("sq-friendpositionjoinallowed",{schema:{enabled:{type:"bool",default:!0}}}),gi.registerComponent("sq-clickurl",{schema:{url:{type:"string",default:"https://sidequestvr.com"}}}),gi.registerComponent("sq-overridecolor",{multiple:!0,schema:{path:{type:"string",default:""},color:{type:"vec3",default:{x:1,y:1,z:1}}}}),gi.registerComponent("sq-trackpose",{schema:{type:{type:"string",default:"lefthand"}}}),gi.registerComponent("sq-streetview",{schema:{panoId:{type:"string",default:"EusXB0g8G1DOvaPV56X51g"}},update:function(t){const e=this.el.object3D;e&&(e.userData.streetView=this.data.panoId)}}),gi.registerComponent("sq-customhome",{schema:{customHome:{type:"string",default:"https://cdn.sidequestvr.com/file/167567/canyon_environment.apk"}}}),gi.registerComponent("sq-assetbundle",{schema:{android:{type:"string",default:""},androidShaders:{type:"string",default:""},desktop:{type:"string",default:""},desktopShaders:{type:"string",default:""}}}),gi.registerComponent("sq-questhome",{schema:{url:{type:"string",default:"https://cdn.sidequestvr.com/file/167567/canyon_environment.apk"}}}),gi.registerComponent("sq-syncloop",{schema:{interval:{type:"number",default:0},runOnce:{type:"bool",default:!1},eventName:{type:"string",default:"startAnimation"},remote:{type:"string",default:""}}}),gi.registerComponent("sq-timedilationfield",{schema:{scale:{type:"number",default:1}}}),gi.registerComponent("sq-gravityfield",{schema:{gravity:{type:"vec3",default:{x:0,y:-9.8,z:0}}}}),gi.registerComponent("sq-kitbundle",{schema:{android:{type:"string",default:""},desktop:{type:"string",default:""}}}),gi.registerComponent("sq-custommaterial",{schema:{materialName:{type:"string",default:null},shaderName:{type:"string",default:null},shaderParamNames:{type:"array",default:null},shaderParamValues:{type:"array",default:null}}}),gi.registerComponent("sq-kititem",{schema:{item:{type:"string",default:""}}}),gi.registerComponent("sq-browser",{schema:{url:{type:"asset",default:""},remote:{type:"boolean",default:!0},mode:{type:"string",default:"local"},pixelsPerUnit:{type:"number",default:1200},mipMaps:{type:"number",default:4},afterLoadActions:{default:null,parse:function(t){var e;if(Array.isArray(t))return t;if(!t||!(null===(e=null==t?void 0:t.trim())||void 0===e?void 0:e.length))return[];try{return JSON.parse(t)}catch(e){console.error("Invalid browser input: ",t),console.error(e)}}}}}),gi.registerComponent("sq-browser-interaction",{schema:{url:{type:"asset",default:""}}}),Object.defineProperty(window,"AframeInjection",{value:new class extends p{waitFor(t,e){return Xs(this,void 0,void 0,(function*(){return g(t,e)}))}},writable:!1}),Object.defineProperty(window,"isBanter",{value:!0,writable:!1}),Object.defineProperty(window,"AFRAME",{value:gi,writable:!1});const _i=(t,e,s=!0,i="")=>{const n={};return e.forEach((e=>{const r=ye(e);if((s||yi[r])&&ee[r]){fi(i,r);var o=ae(ee[r].schema,r),a=t.getAttribute(e),h=ge(a);oe(ee[r].schema)?n[r]=ue(a,o):n[r]=le(h,o,!0,r)}})),n},vi=(t,e,s)=>me(Object.assign({primitive:e},_i(t,s,!1,e))),Si=(t,e)=>t.hasAttribute(e)?";"+t.getAttribute(e):"";var ki,Ai,wi,Ei;customElements.define("a-node",pi),customElements.define("a-entity",class extends pi{}),customElements.define("a-scene",class extends pi{}),customElements.define("a-link",class extends pi{constructor(){super(),this.addEventListener("nodeready",(()=>{this.setAttribute("link",me(_i(this,["href","title","src"]))+Si(this,"link"))}))}}),customElements.define("a-text",class extends pi{constructor(){super(),this.addEventListener("nodeready",(()=>{this.setAttribute("text",me(_i(this,["value","color","align","baseline"]))+Si(this,"text"))}))}}),customElements.define("a-image",class extends pi{constructor(){super(),this.addEventListener("nodeready",(()=>{this.setAttribute("geometry",vi(this,"plane",["width","height","segments-width","segments-height"])+Si(this,"geometry"))}))}}),customElements.define("a-plane",class extends pi{constructor(){super(),this.addEventListener("nodeready",(()=>{this.setAttribute("geometry",vi(this,"plane",["width","height","segments-width","segments-height"])+Si(this,"geometry"))}))}}),customElements.define("a-box",class extends pi{constructor(){super(),this.addEventListener("nodeready",(()=>{this.setAttribute("geometry",vi(this,"box",["width","height","depth","segments-width","segments-height","segments-depth"])+Si(this,"geometry"))}))}}),customElements.define("a-sphere",class extends pi{constructor(){super(),this.addEventListener("nodeready",(()=>{this.setAttribute("geometry",vi(this,"sphere",["radius","segments-width","segments-height","phi-start","phi-length","theta-start","theta-length"])+Si(this,"geometry"))}))}}),customElements.define("a-sky",class extends pi{constructor(){super(),this.addEventListener("nodeready",(()=>{this.setAttribute("radius","500"),this.setAttribute("geometry",vi(this,"sphere",["radius","segments-width","segments-height","phi-start","phi-length","theta-start","theta-length"])+Si(this,"geometry")),this.setAttribute("side","back")}))}}),customElements.define("a-cylinder",class extends pi{constructor(){super(),this.addEventListener("unityready",(()=>{this.hasAttribute("radius")&&!this.hasAttribute("radius-bottom")&&this.setAttribute("radius-bottom",this.getAttribute("radius")),this.hasAttribute("radius")&&!this.hasAttribute("radius-top")&&this.setAttribute("radius-top",this.getAttribute("radius")),this.setAttribute("geometry",vi(this,"cylinder",["radius-top","radius-bottom","height","segments-radial","segments-height","open-ended","theta-start","theta-length","radius"])+Si(this,"geometry"))}))}}),customElements.define("a-cone",class extends pi{constructor(){super(),this.addEventListener("nodeready",(()=>{this.setAttribute("geometry",vi(this,"cone",["radius","height","segments-radial","segments-height","open-ended","theta-start","theta-length"])+Si(this,"geometry"))}))}}),customElements.define("a-ring",class extends pi{constructor(){super(),this.addEventListener("nodeready",(()=>{this.setAttribute("geometry",vi(this,"ring",["radius-inner","radius-outer","segments-theta","segments-phi","theta-start","theta-length"])+Si(this,"geometry"))}))}}),customElements.define("a-circle",class extends pi{constructor(){super(),this.addEventListener("nodeready",(()=>{this.setAttribute("geometry",vi(this,"circle",["radius","segments","theta-start","theta-length"])+Si(this,"geometry"))}))}}),customElements.define("a-torus",class extends pi{constructor(){super(),this.addEventListener("nodeready",(()=>{this.setAttribute("geometry",vi(this,"torus",["tube","segments-radial","segments-tubular","arc"])+Si(this,"geometry"))}))}}),customElements.define("a-sound",class extends pi{constructor(){super(),this.addEventListener("nodeready",(()=>{this.setAttribute("sound",me(_i(this,["src","loop","volume","autoplay"]))+Si(this,"sound"))}))}}),function(t){t[t.TRIGGER=0]="TRIGGER",t[t.GRIP=1]="GRIP",t[t.PRIMARY=2]="PRIMARY",t[t.SECONDARY=3]="SECONDARY"}(ki||(ki={})),function(t){t.Checked="checked",t.Elasticity="elasticity",t.Enabled="enabled",t.Horizontalscrolling="horizontalScrolling",t.Maxvalue="maxValue",t.Minvalue="minValue",t.Name="name",t.Scrolldecelerationrate="scrollDecelerationRate",t.Scrollposition="scrollPosition",t.Text="text",t.Tooltip="tooltip",t.Value="value",t.Verticalscrolling="verticalScrolling",t.Visible="visible"}(Ai||(Ai={})),(Ei=wi||(wi={}))[Ei.Click=0]="Click",Ei[Ei.DoubleClick=1]="DoubleClick",Ei[Ei.MouseDown=10]="MouseDown",Ei[Ei.MouseUp=11]="MouseUp",Ei[Ei.MouseEnter=12]="MouseEnter",Ei[Ei.MouseLeave=13]="MouseLeave",Ei[Ei.MouseMove=14]="MouseMove",Ei[Ei.MouseOver=15]="MouseOver",Ei[Ei.MouseOut=16]="MouseOut",Ei[Ei.Wheel=17]="Wheel",Ei[Ei.ContextMenu=18]="ContextMenu",Ei[Ei.TouchStart=20]="TouchStart",Ei[Ei.TouchEnd=21]="TouchEnd",Ei[Ei.TouchMove=22]="TouchMove",Ei[Ei.TouchCancel=23]="TouchCancel",Ei[Ei.KeyDown=30]="KeyDown",Ei[Ei.KeyUp=31]="KeyUp",Ei[Ei.Focus=40]="Focus",Ei[Ei.Blur=41]="Blur",Ei[Ei.FocusIn=42]="FocusIn",Ei[Ei.FocusOut=43]="FocusOut",Ei[Ei.Change=50]="Change",Ei[Ei.Input=51]="Input",Ei[Ei.Submit=52]="Submit",Ei[Ei.DragStart=60]="DragStart",Ei[Ei.Drag=61]="Drag",Ei[Ei.DragEnd=62]="DragEnd",Ei[Ei.DragEnter=63]="DragEnter",Ei[Ei.DragLeave=64]="DragLeave",Ei[Ei.DragOver=65]="DragOver",Ei[Ei.Drop=66]="Drop",Ei[Ei.GeometryChange=70]="GeometryChange",Ei[Ei.AttachToPanel=71]="AttachToPanel",Ei[Ei.DetachFromPanel=72]="DetachFromPanel",Ei[Ei.CustomEvent=100]="CustomEvent";const Ri={[wi.Click]:"click",[wi.DoubleClick]:"dblclick",[wi.MouseDown]:"mousedown",[wi.MouseUp]:"mouseup",[wi.MouseEnter]:"mouseenter",[wi.MouseLeave]:"mouseleave",[wi.MouseMove]:"mousemove",[wi.MouseOver]:"mouseover",[wi.MouseOut]:"mouseout",[wi.Wheel]:"wheel",[wi.ContextMenu]:"contextmenu",[wi.TouchStart]:"touchstart",[wi.TouchEnd]:"touchend",[wi.TouchMove]:"touchmove",[wi.TouchCancel]:"touchcancel",[wi.KeyDown]:"keydown",[wi.KeyUp]:"keyup",[wi.Focus]:"focus",[wi.Blur]:"blur",[wi.FocusIn]:"focusin",[wi.FocusOut]:"focusout",[wi.Change]:"change",[wi.Input]:"input",[wi.Submit]:"submit",[wi.DragStart]:"dragstart",[wi.Drag]:"drag",[wi.DragEnd]:"dragend",[wi.DragEnter]:"dragenter",[wi.DragLeave]:"dragleave",[wi.DragOver]:"dragover",[wi.Drop]:"drop",[wi.GeometryChange]:"geometrychange",[wi.AttachToPanel]:"attachtopanel",[wi.DetachFromPanel]:"detachfrompanel",[wi.CustomEvent]:"custom"};var Ci;Object.entries(Ri).reduce(((t,[e,s])=>(t[s]=parseInt(e),t)),{}),function(t){t[t.AlignContent=0]="AlignContent",t[t.AlignItems=1]="AlignItems",t[t.AlignSelf=2]="AlignSelf",t[t.FlexBasis=3]="FlexBasis",t[t.FlexDirection=4]="FlexDirection",t[t.FlexGrow=5]="FlexGrow",t[t.FlexShrink=6]="FlexShrink",t[t.FlexWrap=7]="FlexWrap",t[t.JustifyContent=8]="JustifyContent",t[t.Width=10]="Width",t[t.Height=11]="Height",t[t.MinWidth=12]="MinWidth",t[t.MinHeight=13]="MinHeight",t[t.MaxWidth=14]="MaxWidth",t[t.MaxHeight=15]="MaxHeight",t[t.Position=20]="Position",t[t.Left=21]="Left",t[t.Top=22]="Top",t[t.Right=23]="Right",t[t.Bottom=24]="Bottom",t[t.Margin=30]="Margin",t[t.MarginTop=31]="MarginTop",t[t.MarginRight=32]="MarginRight",t[t.MarginBottom=33]="MarginBottom",t[t.MarginLeft=34]="MarginLeft",t[t.Padding=40]="Padding",t[t.PaddingTop=41]="PaddingTop",t[t.PaddingRight=42]="PaddingRight",t[t.PaddingBottom=43]="PaddingBottom",t[t.PaddingLeft=44]="PaddingLeft",t[t.BorderWidth=50]="BorderWidth",t[t.BorderTopWidth=51]="BorderTopWidth",t[t.BorderRightWidth=52]="BorderRightWidth",t[t.BorderBottomWidth=53]="BorderBottomWidth",t[t.BorderLeftWidth=54]="BorderLeftWidth",t[t.BorderRadius=55]="BorderRadius",t[t.BorderTopLeftRadius=56]="BorderTopLeftRadius",t[t.BorderTopRightRadius=57]="BorderTopRightRadius",t[t.BorderBottomLeftRadius=58]="BorderBottomLeftRadius",t[t.BorderBottomRightRadius=59]="BorderBottomRightRadius",t[t.BorderColor=60]="BorderColor",t[t.BorderTopColor=61]="BorderTopColor",t[t.BorderRightColor=62]="BorderRightColor",t[t.BorderBottomColor=63]="BorderBottomColor",t[t.BorderLeftColor=64]="BorderLeftColor",t[t.BackgroundColor=70]="BackgroundColor",t[t.BackgroundImage=71]="BackgroundImage",t[t.BackgroundSize=72]="BackgroundSize",t[t.BackgroundRepeat=73]="BackgroundRepeat",t[t.BackgroundPosition=74]="BackgroundPosition",t[t.Color=80]="Color",t[t.Opacity=81]="Opacity",t[t.FontSize=90]="FontSize",t[t.FontStyle=91]="FontStyle",t[t.FontWeight=92]="FontWeight",t[t.LineHeight=93]="LineHeight",t[t.TextAlign=94]="TextAlign",t[t.TextOverflow=95]="TextOverflow",t[t.TextShadow=96]="TextShadow",t[t.WhiteSpace=97]="WhiteSpace",t[t.WordWrap=98]="WordWrap",t[t.LetterSpacing=99]="LetterSpacing",t[t.UnityFontDefinition=100]="UnityFontDefinition",t[t.UnityFont=101]="UnityFont",t[t.UnityTextAlign=102]="UnityTextAlign",t[t.UnityTextOutlineColor=103]="UnityTextOutlineColor",t[t.UnityTextOutlineWidth=104]="UnityTextOutlineWidth",t[t.Display=110]="Display",t[t.Visibility=111]="Visibility",t[t.Overflow=112]="Overflow",t[t.Rotate=120]="Rotate",t[t.Scale=121]="Scale",t[t.Translate=122]="Translate",t[t.TransformOrigin=123]="TransformOrigin",t[t.Cursor=130]="Cursor",t[t.UnitySliceLeft=140]="UnitySliceLeft",t[t.UnitySliceRight=141]="UnitySliceRight",t[t.UnitySliceTop=142]="UnitySliceTop",t[t.UnitySliceBottom=143]="UnitySliceBottom",t[t.UnityBackgroundScaleMode=144]="UnityBackgroundScaleMode",t[t.UnityBackgroundImageTintColor=145]="UnityBackgroundImageTintColor",t[t.TransitionProperty=150]="TransitionProperty",t[t.TransitionDuration=151]="TransitionDuration",t[t.TransitionTimingFunction=152]="TransitionTimingFunction",t[t.TransitionDelay=153]="TransitionDelay"}(Ci||(Ci={}));const Ti={[Ci.AlignContent]:"align-content",[Ci.AlignItems]:"align-items",[Ci.AlignSelf]:"align-self",[Ci.FlexBasis]:"flex-basis",[Ci.FlexDirection]:"flex-direction",[Ci.FlexGrow]:"flex-grow",[Ci.FlexShrink]:"flex-shrink",[Ci.FlexWrap]:"flex-wrap",[Ci.JustifyContent]:"justify-content",[Ci.Width]:"width",[Ci.Height]:"height",[Ci.MinWidth]:"min-width",[Ci.MinHeight]:"min-height",[Ci.MaxWidth]:"max-width",[Ci.MaxHeight]:"max-height",[Ci.Position]:"position",[Ci.Left]:"left",[Ci.Top]:"top",[Ci.Right]:"right",[Ci.Bottom]:"bottom",[Ci.Margin]:"margin",[Ci.MarginTop]:"margin-top",[Ci.MarginRight]:"margin-right",[Ci.MarginBottom]:"margin-bottom",[Ci.MarginLeft]:"margin-left",[Ci.Padding]:"padding",[Ci.PaddingTop]:"padding-top",[Ci.PaddingRight]:"padding-right",[Ci.PaddingBottom]:"padding-bottom",[Ci.PaddingLeft]:"padding-left",[Ci.BorderWidth]:"border-width",[Ci.BorderTopWidth]:"border-top-width",[Ci.BorderRightWidth]:"border-right-width",[Ci.BorderBottomWidth]:"border-bottom-width",[Ci.BorderLeftWidth]:"border-left-width",[Ci.BorderRadius]:"border-radius",[Ci.BorderTopLeftRadius]:"border-top-left-radius",[Ci.BorderTopRightRadius]:"border-top-right-radius",[Ci.BorderBottomLeftRadius]:"border-bottom-left-radius",[Ci.BorderBottomRightRadius]:"border-bottom-right-radius",[Ci.BorderColor]:"border-color",[Ci.BorderTopColor]:"border-top-color",[Ci.BorderRightColor]:"border-right-color",[Ci.BorderBottomColor]:"border-bottom-color",[Ci.BorderLeftColor]:"border-left-color",[Ci.BackgroundColor]:"background-color",[Ci.BackgroundImage]:"background-image",[Ci.BackgroundSize]:"background-size",[Ci.BackgroundRepeat]:"background-repeat",[Ci.BackgroundPosition]:"background-position",[Ci.Color]:"color",[Ci.Opacity]:"opacity",[Ci.FontSize]:"font-size",[Ci.FontStyle]:"font-style",[Ci.FontWeight]:"font-weight",[Ci.LineHeight]:"line-height",[Ci.TextAlign]:"text-align",[Ci.TextOverflow]:"text-overflow",[Ci.TextShadow]:"text-shadow",[Ci.WhiteSpace]:"white-space",[Ci.WordWrap]:"word-wrap",[Ci.LetterSpacing]:"letter-spacing",[Ci.UnityFontDefinition]:"-unity-font-definition",[Ci.UnityFont]:"-unity-font",[Ci.UnityTextAlign]:"-unity-text-align",[Ci.UnityTextOutlineColor]:"-unity-text-outline-color",[Ci.UnityTextOutlineWidth]:"-unity-text-outline-width",[Ci.Display]:"display",[Ci.Visibility]:"visibility",[Ci.Overflow]:"overflow",[Ci.Rotate]:"rotate",[Ci.Scale]:"scale",[Ci.Translate]:"translate",[Ci.TransformOrigin]:"transform-origin",[Ci.Cursor]:"cursor",[Ci.UnitySliceLeft]:"-unity-slice-left",[Ci.UnitySliceRight]:"-unity-slice-right",[Ci.UnitySliceTop]:"-unity-slice-top",[Ci.UnitySliceBottom]:"-unity-slice-bottom",[Ci.UnityBackgroundScaleMode]:"-unity-background-scale-mode",[Ci.UnityBackgroundImageTintColor]:"-unity-background-image-tint-color",[Ci.TransitionProperty]:"transition-property",[Ci.TransitionDuration]:"transition-duration",[Ci.TransitionTimingFunction]:"transition-timing-function",[Ci.TransitionDelay]:"transition-delay"};Object.entries(Ti).reduce(((t,[e,s])=>(t[s]=parseInt(e),t)),{});class Pi{static parseLength(t){if("number"==typeof t)return{value:t,unit:"px"};if("string"==typeof t){if(["auto","initial","inherit","none","max-content","min-content","fit-content"].includes(t))return{value:0,unit:t};const e=t.match(this.lengthPattern);if(e)return{value:parseFloat(e[1]),unit:e[2]||"px"}}return{value:0,unit:"px"}}static toUnityLength(t){const e=this.parseLength(t);return"auto"===e.unit||"initial"===e.unit||"inherit"===e.unit?e.unit:`${e.value}${e.unit}`}static isValidLength(t){return"number"==typeof t||"string"==typeof t&&(!!["auto","initial","inherit","none","max-content","min-content","fit-content"].includes(t)||this.lengthPattern.test(t))}}Pi.lengthPattern=/^(-?\d*\.?\d+)(px|%|em|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc)?$/;class Bi{static isValidColor(t){return"string"==typeof t&&(!!["transparent","initial","inherit","currentColor"].includes(t)||this.hexPattern.test(t)||this.rgbPattern.test(t)||this.hslPattern.test(t)||this.isNamedColor(t))}static isNamedColor(t){return["red","green","blue","white","black","yellow","cyan","magenta","orange","purple","pink","brown","gray","grey","silver","gold"].includes(t.toLowerCase())}}Bi.hexPattern=/^#([0-9a-fA-F]{3}|[0-9a-fA-F]{6})$/,Bi.rgbPattern=/^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*([\d.]+))?\s*\)$/,Bi.hslPattern=/^hsla?\(\s*(\d+)\s*,\s*(\d+)%\s*,\s*(\d+)%\s*(?:,\s*([\d.]+))?\s*\)$/;var Ii,xi=function(t,e,s,i){return new(s||(s=Promise))((function(n,r){function o(t){try{h(i.next(t))}catch(t){r(t)}}function a(t){try{h(i.throw(t))}catch(t){r(t)}}function h(t){var e;t.done?n(t.value):(e=t.value,e instanceof s?e:new s((function(t){t(e)}))).then(o,a)}h((i=i.apply(t,e||[])).next())}))};class Mi{get tagName(){return this.constructor.name}constructor(t,e){this._parent=null,this._children=[],this._eventListeners=new Map,this._properties=new Map,this._styles=new Map,this._enabled=!0,this._visible=!0,this._initialized=!1,this._attributes=new Map,this.id="ui_"+Mi.nextId++,this.type=t,this._service=te.GetInstance(),this.panel=e,this._service.getUIMessageHandler().registerElement(this),this.initialize()}Async(){var t;return xi(this,void 0,void 0,(function*(){return(null===(t=this.panel)||void 0===t?void 0:t.hasUnity)||(yield this._service.WaitForUnity(this.panel)),this}))}initialize(){var t;this._initialized||(this.sendMessage(kt.CREATE_UI_ELEMENT,[this.id,this.type.toString(),(null===(t=this._parent)||void 0===t?void 0:t.id)||"root"]),this._initialized=!0)}getPanelId(){return`panel_${this.panel.oid}_${this.panel.unityId}`}get parent(){return this._parent}get children(){return this._children}appendChild(t){t._parent!==this&&(t._parent&&t._parent.removeChild(t),this._children.push(t),t._parent=this,this.sendMessage(kt.ATTACH_UI_CHILD,[this.id,t.id,(this._children.length-1).toString()]))}removeChild(t){const e=this._children.indexOf(t);-1!==e&&(this._children.splice(e,1),t._parent=null,this.sendMessage(kt.DETACH_UI_CHILD,[this.id,t.id]))}insertBefore(t,e){if(t._parent===this){const e=this._children.indexOf(t);this._children.splice(e,1)}else t._parent&&t._parent.removeChild(t);const s=e?this._children.indexOf(e):this._children.length;-1===s?this._children.push(t):this._children.splice(s,0,t),t._parent=this,this.sendMessage(kt.ATTACH_UI_CHILD,[this.id,t.id,s.toString()])}get enabled(){return this._enabled}set enabled(t){this._enabled!==t&&(this._enabled=t,this.setProperty(Ai.Enabled,t))}get visible(){return this._visible}set visible(t){this._visible!==t&&(this._visible=t,this.setProperty(Ai.Visible,t))}setProperty(t,e){var s,i;this._properties.set(t,e),null!==(i=null===(s=this.panel)||void 0===s?void 0:s.hasUnity)&&void 0!==i&&i?this.sendMessage(kt.SET_UI_PROPERTY,[this.id,t.toString(),this.serializeValue(e)]):console.warn(`[UIElement] Property ${t} set before panel initialization. Call await element.Async() first.`)}getProperty(t){return this._properties.get(t)}get textContent(){return this.getProperty(Ai.Text)||""}set textContent(t){this.setProperty(Ai.Text,t)}get classList(){return{add:t=>this.setAttribute("class",t),remove:t=>this.removeAttribute("class"),contains:t=>!1}}setStyle(t,e){if(this.isLengthProperty(t)){if(!Pi.isValidLength(e))return void console.warn(`[UIElement] Invalid length value for ${t}: ${e}`);e=Pi.toUnityLength(e)}!this.isColorProperty(t)||Bi.isValidColor(e)?(this._styles.set(t,e),this._initialized?this.sendMessage(kt.SET_UI_STYLE,[this.id,t,this.serializeValue(e)]):console.warn(`[UIElement] Style ${t} set before initialization. Call await element.Async() first.`)):console.warn(`[UIElement] Invalid color value for ${t}: ${e}`)}isLengthProperty(t){return["width","height","min-width","min-height","max-width","max-height","margin","margin-top","margin-right","margin-bottom","margin-left","padding","padding-top","padding-right","padding-bottom","padding-left","border-width","border-top-width","border-right-width","border-bottom-width","border-left-width","border-radius","border-top-left-radius","border-top-right-radius","border-bottom-left-radius","border-bottom-right-radius","left","top","right","bottom","font-size","line-height","letter-spacing","-unity-text-outline-width"].includes(t)}isColorProperty(t){return["color","background-color","border-color","border-top-color","border-right-color","border-bottom-color","border-left-color","-unity-text-outline-color","-unity-background-image-tint-color"].includes(t)}setStyles(t){for(const[e,s]of Object.entries(t))if(void 0!==s){const t=this.camelToKebab(e);this.setStyle(t,s)}}get style(){return new Ni(this)}camelToKebab(t){return t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}getStyle(t){return this._styles.get(t)}setAttribute(t,e){this._attributes.set(t,e),this.sendMessage(kt.SET_UI_PROPERTY,[this.id,t,e])}getAttribute(t){return this._attributes.get(t)||null}removeAttribute(t){this._attributes.delete(t),this.sendMessage(kt.SET_UI_PROPERTY,[this.id,t,""])}callMethod(t,e){if(!this._initialized)return void console.warn(`[UIElement] Method ${t} called before initialization. Call await element.Async() first.`);const s=e?e.map((t=>this.serializeValue(t))):[];this.sendMessage(kt.CALL_UI_METHOD,[this.id,t,...s])}addEventListener(t,e,s){this._eventListeners.has(t)||(this._eventListeners.set(t,[]),this.sendMessage(kt.REGISTER_UI_EVENT,[this.id,t])),this._eventListeners.get(t).push({type:t,handler:e,options:s})}onClick(t){this.addEventListener(Ri[wi.Click],t)}onMouseDown(t){this.addEventListener(Ri[wi.MouseDown],t)}onMouseUp(t){this.addEventListener(Ri[wi.MouseUp],t)}onMouseEnter(t){this.addEventListener(Ri[wi.MouseEnter],t)}onMouseLeave(t){this.addEventListener(Ri[wi.MouseLeave],t)}onMouseMove(t){this.addEventListener(Ri[wi.MouseMove],t)}onKeyDown(t){this.addEventListener(Ri[wi.KeyDown],t)}onKeyUp(t){this.addEventListener(Ri[wi.KeyUp],t)}onFocus(t){this.addEventListener(Ri[wi.Focus],t)}onBlur(t){this.addEventListener(Ri[wi.Blur],t)}onChange(t){this.addEventListener(Ri[wi.Change],t)}onWheel(t){this.addEventListener(Ri[wi.Wheel],t)}removeEventListener(t,e){const s=this._eventListeners.get(t);if(!s)return;const i=s.findIndex((t=>t.handler===e));-1!==i&&s.splice(i,1),0===s.length&&(this._eventListeners.delete(t),this.sendMessage(kt.UNREGISTER_UI_EVENT,[this.id,t]))}dispatchEvent(t){const e=this._eventListeners.get(t.type);if(!e)return!0;t.currentTarget=this;for(const s of e)if(s.handler(t),t.propagationStopped)break;return!t.defaultPrevented}querySelector(t){if(t.startsWith("#")){const e=t.substring(1);return this.findById(e)}if(t.startsWith(".")){const e=t.substring(1);return this.findByClass(e)}return this.findByType(t)}querySelectorAll(t){const e=[];if(t.startsWith(".")){const s=t.substring(1);this.findAllByClass(s,e)}else this.findAllByType(t,e);return e}findById(t){if(this.id===t)return this;for(const e of this._children){const s=e.findById(t);if(s)return s}return null}findByClass(t){return null}findByType(t){if(this.constructor.name===t)return this;for(const e of this._children){const s=e.findByType(t);if(s)return s}return null}findAllByClass(t,e){}findAllByType(t,e){this.constructor.name===t&&e.push(this);for(const s of this._children)s.findAllByType(t,e)}focus(){this.sendMessage(kt.SET_UI_FOCUS,[this.id])}blur(){this.sendMessage(kt.CLEAR_UI_FOCUS,[this.id])}destroy(){this._parent&&this._parent.removeChild(this);const t=[...this._children];for(const e of t)e.destroy();this._eventListeners.clear(),this._service.getUIMessageHandler().unregisterElement(this.id),this.sendMessage(kt.DESTROY_UI_ELEMENT,[this.id])}serializeValue(t){return null==t?"":"boolean"==typeof t?t?"1":"0":"object"==typeof t?JSON.stringify(t):t.toString()}deserializeValue(t,e){if(!t)return null;switch(e){case"boolean":return"1"===t;case"number":return Number(t);case"object":return JSON.parse(t);default:return t}}sendMessage(t,e){return xi(this,void 0,void 0,(function*(){const s=this.getPanelId();yield this.Async();const i=`${s}${u.PRIMARY}${t}${u.PRIMARY}${e.join(u.SECONDARY)}`;this._service.Emit(i)}))}serialize(){return""}deserialize(t){}}Mi.nextId=1;class Ni{constructor(t){this.element=t}get alignContent(){return this.element.getStyle("align-content")}set alignContent(t){this.element.setStyle("align-content",t)}get alignItems(){return this.element.getStyle("align-items")}set alignItems(t){this.element.setStyle("align-items",t)}get alignSelf(){return this.element.getStyle("align-self")}set alignSelf(t){this.element.setStyle("align-self",t)}get flexBasis(){return this.element.getStyle("flex-basis")}set flexBasis(t){this.element.setStyle("flex-basis",t)}get flexDirection(){return this.element.getStyle("flex-direction")}set flexDirection(t){this.element.setStyle("flex-direction",t)}get flexGrow(){return this.element.getStyle("flex-grow")}set flexGrow(t){this.element.setStyle("flex-grow",t)}get flexShrink(){return this.element.getStyle("flex-shrink")}set flexShrink(t){this.element.setStyle("flex-shrink",t)}get flexWrap(){return this.element.getStyle("flex-wrap")}set flexWrap(t){this.element.setStyle("flex-wrap",t)}get justifyContent(){return this.element.getStyle("justify-content")}set justifyContent(t){this.element.setStyle("justify-content",t)}get width(){return this.element.getStyle("width")}set width(t){this.element.setStyle("width",t)}get height(){return this.element.getStyle("height")}set height(t){this.element.setStyle("height",t)}get minWidth(){return this.element.getStyle("min-width")}set minWidth(t){this.element.setStyle("min-width",t)}get minHeight(){return this.element.getStyle("min-height")}set minHeight(t){this.element.setStyle("min-height",t)}get maxWidth(){return this.element.getStyle("max-width")}set maxWidth(t){this.element.setStyle("max-width",t)}get maxHeight(){return this.element.getStyle("max-height")}set maxHeight(t){this.element.setStyle("max-height",t)}get position(){return this.element.getStyle("position")}set position(t){this.element.setStyle("position",t)}get left(){return this.element.getStyle("left")}set left(t){this.element.setStyle("left",t)}get top(){return this.element.getStyle("top")}set top(t){this.element.setStyle("top",t)}get right(){return this.element.getStyle("right")}set right(t){this.element.setStyle("right",t)}get bottom(){return this.element.getStyle("bottom")}set bottom(t){this.element.setStyle("bottom",t)}get margin(){return this.element.getStyle("margin")}set margin(t){this.element.setStyle("margin",t)}get marginTop(){return this.element.getStyle("margin-top")}set marginTop(t){this.element.setStyle("margin-top",t)}get marginRight(){return this.element.getStyle("margin-right")}set marginRight(t){this.element.setStyle("margin-right",t)}get marginBottom(){return this.element.getStyle("margin-bottom")}set marginBottom(t){this.element.setStyle("margin-bottom",t)}get marginLeft(){return this.element.getStyle("margin-left")}set marginLeft(t){this.element.setStyle("margin-left",t)}get padding(){return this.element.getStyle("padding")}set padding(t){this.element.setStyle("padding",t)}get paddingTop(){return this.element.getStyle("padding-top")}set paddingTop(t){this.element.setStyle("padding-top",t)}get paddingRight(){return this.element.getStyle("padding-right")}set paddingRight(t){this.element.setStyle("padding-right",t)}get paddingBottom(){return this.element.getStyle("padding-bottom")}set paddingBottom(t){this.element.setStyle("padding-bottom",t)}get paddingLeft(){return this.element.getStyle("padding-left")}set paddingLeft(t){this.element.setStyle("padding-left",t)}get borderWidth(){return this.element.getStyle("border-width")}set borderWidth(t){this.element.setStyle("border-width",t)}get borderRadius(){return this.element.getStyle("border-radius")}set borderRadius(t){this.element.setStyle("border-radius",t)}get borderColor(){return this.element.getStyle("border-color")}set borderColor(t){this.element.setStyle("border-color",t)}get backgroundColor(){return this.element.getStyle("background-color")}set backgroundColor(t){this.element.setStyle("background-color",t)}get backgroundImage(){return this.element.getStyle("background-image")}set backgroundImage(t){this.element.setStyle("background-image",t)}setBackgroundImageUrl(t){if(t&&""!==t.trim()){try{new URL(t)}catch(e){return void console.warn(`[UIStyleHelper] Invalid URL for background image: ${t}`)}this.backgroundImage=`url("${t}")`}else this.backgroundImage="none"}clearBackgroundImage(){this.backgroundImage="none"}get color(){return this.element.getStyle("color")}set color(t){this.element.setStyle("color",t)}get opacity(){return this.element.getStyle("opacity")}set opacity(t){this.element.setStyle("opacity",t)}get fontSize(){return this.element.getStyle("font-size")}set fontSize(t){this.element.setStyle("font-size",t)}get fontStyle(){return this.element.getStyle("font-style")}set fontStyle(t){this.element.setStyle("font-style",t)}get fontWeight(){return this.element.getStyle("font-weight")}set fontWeight(t){this.element.setStyle("font-weight",t)}get textAlign(){return this.element.getStyle("text-align")}set textAlign(t){this.element.setStyle("text-align",t)}get textOverflow(){return this.element.getStyle("text-overflow")}set textOverflow(t){this.element.setStyle("text-overflow",t)}get whiteSpace(){return this.element.getStyle("white-space")}set whiteSpace(t){this.element.setStyle("white-space",t)}get display(){return this.element.getStyle("display")}set display(t){this.element.setStyle("display",t)}get visibility(){return this.element.getStyle("visibility")}set visibility(t){this.element.setStyle("visibility",t)}get overflow(){return this.element.getStyle("overflow")}set overflow(t){this.element.setStyle("overflow",t)}}!function(t){t[t.VisualElement=0]="VisualElement",t[t.ScrollView=1]="ScrollView",t[t.ListView=2]="ListView",t[t.Button=10]="Button",t[t.Label=11]="Label",t[t.TextField=12]="TextField",t[t.Toggle=13]="Toggle",t[t.Slider=14]="Slider",t[t.DropdownField=15]="DropdownField",t[t.RadioButton=16]="RadioButton",t[t.RadioButtonGroup=17]="RadioButtonGroup",t[t.Box=20]="Box",t[t.GroupBox=21]="GroupBox",t[t.Foldout=22]="Foldout",t[t.TabView=23]="TabView",t[t.SplitView=24]="SplitView",t[t.TwoPaneSplitView=25]="TwoPaneSplitView",t[t.FlexContainer=30]="FlexContainer",t[t.GridContainer=31]="GridContainer",t[t.StackContainer=32]="StackContainer",t[t.ColorField=40]="ColorField",t[t.Vector2Field=41]="Vector2Field",t[t.Vector3Field=42]="Vector3Field",t[t.Vector4Field=43]="Vector4Field",t[t.RectField=44]="RectField",t[t.BoundsField=45]="BoundsField",t[t.UIPanel=100]="UIPanel",t[t.UICard=101]="UICard",t[t.UIDialog=102]="UIDialog",t[t.UIToast=103]="UIToast",t[t.UIMenu=104]="UIMenu",t[t.UIToolbar=105]="UIToolbar",t[t.UIButton=106]="UIButton"}(Ii||(Ii={}));class Li extends Mi{get text(){return this._text}set text(t){this._text!==t&&(this._text=t,this.setProperty(Ai.Text,t))}get tooltipText(){return this._tooltipText}set tooltipText(t){this._tooltipText!==t&&(this._tooltipText=t,this.setProperty(Ai.Tooltip,t))}get elementName(){return this._elementName}set elementName(t){this._elementName!==t&&(this._elementName=t,this.setProperty(Ai.Name,t))}constructor(t,e){super(Ii.Button,t),e&&e.appendChild(this)}hasClass(t){const e=[t];return this.callMethod("hasClass",e),!1}focus(){this.callMethod("focus")}blur(){this.callMethod("blur")}serialize(){const t=[];return t.push(Ai.Text+u.TERTIARY+this._text),t.push(Ai.Tooltip+u.TERTIARY+this._tooltipText),t.push(Ai.Name+u.TERTIARY+this._elementName),t.join(u.SECONDARY)}deserialize(t){const e=t.split(u.SECONDARY);for(const t of e){const[e,s]=t.split(u.TERTIARY);switch(e){case Ai.Text.toString():this._text=s;break;case Ai.Tooltip.toString():this._tooltipText=s;break;case Ai.Name.toString():this._elementName=s}}}}class Oi extends Mi{get tooltipText(){return this._tooltipText}set tooltipText(t){this._tooltipText!==t&&(this._tooltipText=t,this.setProperty(Ai.Tooltip,t))}get elementName(){return this._elementName}set elementName(t){this._elementName!==t&&(this._elementName=t,this.setProperty(Ai.Name,t))}constructor(t,e){super(Ii.VisualElement,t),e&&e.appendChild(this)}hasClass(t){const e=[t];return this.callMethod("hasClass",e),!1}focus(){this.callMethod("focus")}blur(){this.callMethod("blur")}serialize(){const t=[];return t.push(Ai.Tooltip+u.TERTIARY+this._tooltipText),t.push(Ai.Name+u.TERTIARY+this._elementName),t.join(u.SECONDARY)}deserialize(t){const e=t.split(u.SECONDARY);for(const t of e){const[e,s]=t.split(u.TERTIARY);switch(e){case Ai.Tooltip.toString():this._tooltipText=s;break;case Ai.Name.toString():this._elementName=s}}}}class Di extends Mi{get text(){return this._text}set text(t){this._text!==t&&(this._text=t,this.setProperty(Ai.Text,t))}get tooltipText(){return this._tooltipText}set tooltipText(t){this._tooltipText!==t&&(this._tooltipText=t,this.setProperty(Ai.Tooltip,t))}get elementName(){return this._elementName}set elementName(t){this._elementName!==t&&(this._elementName=t,this.setProperty(Ai.Name,t))}constructor(t,e){super(Ii.Label,t),e&&e.appendChild(this)}hasClass(t){const e=[t];return this.callMethod("hasClass",e),!1}focus(){this.callMethod("focus")}blur(){this.callMethod("blur")}serialize(){const t=[];return t.push(Ai.Text+u.TERTIARY+this._text),t.push(Ai.Tooltip+u.TERTIARY+this._tooltipText),t.push(Ai.Name+u.TERTIARY+this._elementName),t.join(u.SECONDARY)}deserialize(t){const e=t.split(u.SECONDARY);for(const t of e){const[e,s]=t.split(u.TERTIARY);switch(e){case Ai.Text.toString():this._text=s;break;case Ai.Tooltip.toString():this._tooltipText=s;break;case Ai.Name.toString():this._elementName=s}}}}class Yi extends Mi{get scrollPosition(){return this._scrollPosition}set scrollPosition(t){this._scrollPosition!==t&&(this._scrollPosition=t,this.setProperty(Ai.Scrollposition,t))}get horizontalScrolling(){return this._horizontalScrolling}set horizontalScrolling(t){this._horizontalScrolling!==t&&(this._horizontalScrolling=t,this.setProperty(Ai.Horizontalscrolling,t))}get verticalScrolling(){return this._verticalScrolling}set verticalScrolling(t){this._verticalScrolling!==t&&(this._verticalScrolling=t,this.setProperty(Ai.Verticalscrolling,t))}get scrollDecelerationRate(){return this._scrollDecelerationRate}set scrollDecelerationRate(t){this._scrollDecelerationRate!==t&&(this._scrollDecelerationRate=t,this.setProperty(Ai.Scrolldecelerationrate,t))}get elasticity(){return this._elasticity}set elasticity(t){this._elasticity!==t&&(this._elasticity=t,this.setProperty(Ai.Elasticity,t))}get tooltipText(){return this._tooltipText}set tooltipText(t){this._tooltipText!==t&&(this._tooltipText=t,this.setProperty(Ai.Tooltip,t))}get elementName(){return this._elementName}set elementName(t){this._elementName!==t&&(this._elementName=t,this.setProperty(Ai.Name,t))}constructor(t,e){super(Ii.ScrollView,t),e&&e.appendChild(this)}hasClass(t){const e=[t];return this.callMethod("hasClass",e),!1}focus(){this.callMethod("focus")}blur(){this.callMethod("blur")}serialize(){const t=[];return t.push(Ai.Scrollposition+u.TERTIARY+this._scrollPosition),t.push(Ai.Horizontalscrolling+u.TERTIARY+this._horizontalScrolling),t.push(Ai.Verticalscrolling+u.TERTIARY+this._verticalScrolling),t.push(Ai.Scrolldecelerationrate+u.TERTIARY+this._scrollDecelerationRate),t.push(Ai.Elasticity+u.TERTIARY+this._elasticity),t.push(Ai.Tooltip+u.TERTIARY+this._tooltipText),t.push(Ai.Name+u.TERTIARY+this._elementName),t.join(u.SECONDARY)}deserialize(t){const e=t.split(u.SECONDARY);for(const t of e){const[e,s]=t.split(u.TERTIARY);switch(e){case Ai.Scrollposition.toString():this._scrollPosition=new E,this._scrollPosition.Deserialize(s);break;case Ai.Horizontalscrolling.toString():this._horizontalScrolling="1"===s;break;case Ai.Verticalscrolling.toString():this._verticalScrolling="1"===s;break;case Ai.Scrolldecelerationrate.toString():this._scrollDecelerationRate=Number(s);break;case Ai.Elasticity.toString():this._elasticity=Number(s);break;case Ai.Tooltip.toString():this._tooltipText=s;break;case Ai.Name.toString():this._elementName=s}}}}class Ui extends Mi{get lowValue(){return this._lowValue}set lowValue(t){this._lowValue!==t&&(this._lowValue=t,this.setProperty(Ai.Minvalue,t))}get highValue(){return this._highValue}set highValue(t){this._highValue!==t&&(this._highValue=t,this.setProperty(Ai.Maxvalue,t))}get value(){return this._value}set value(t){this._value!==t&&(this._value=t,this.setProperty(Ai.Value,t))}get tooltipText(){return this._tooltipText}set tooltipText(t){this._tooltipText!==t&&(this._tooltipText=t,this.setProperty(Ai.Tooltip,t))}get elementName(){return this._elementName}set elementName(t){this._elementName!==t&&(this._elementName=t,this.setProperty(Ai.Name,t))}constructor(t,e){super(Ii.Slider,t),e&&e.appendChild(this)}setValue(t){const e=[t];this.callMethod("setValue",e)}setRange(t,e){const s=[t,e];this.callMethod("setRange",s)}reset(){this.callMethod("reset")}hasClass(t){const e=[t];return this.callMethod("hasClass",e),!1}focus(){this.callMethod("focus")}blur(){this.callMethod("blur")}serialize(){const t=[];return t.push(Ai.Minvalue+u.TERTIARY+this._lowValue),t.push(Ai.Maxvalue+u.TERTIARY+this._highValue),t.push(Ai.Value+u.TERTIARY+this._value),t.push(Ai.Tooltip+u.TERTIARY+this._tooltipText),t.push(Ai.Name+u.TERTIARY+this._elementName),t.join(u.SECONDARY)}deserialize(t){const e=t.split(u.SECONDARY);for(const t of e){const[e,s]=t.split(u.TERTIARY);switch(e){case Ai.Minvalue.toString():this._lowValue=Number(s);break;case Ai.Maxvalue.toString():this._highValue=Number(s);break;case Ai.Value.toString():this._value=Number(s);break;case Ai.Tooltip.toString():this._tooltipText=s;break;case Ai.Name.toString():this._elementName=s}}}}class ji extends Mi{get value(){return this._value}set value(t){this._value!==t&&(this._value=t,this.setProperty(Ai.Checked,t))}get tooltipText(){return this._tooltipText}set tooltipText(t){this._tooltipText!==t&&(this._tooltipText=t,this.setProperty(Ai.Tooltip,t))}get elementName(){return this._elementName}set elementName(t){this._elementName!==t&&(this._elementName=t,this.setProperty(Ai.Name,t))}constructor(t,e){super(Ii.Toggle,t),e&&e.appendChild(this)}hasClass(t){const e=[t];return this.callMethod("hasClass",e),!1}focus(){this.callMethod("focus")}blur(){this.callMethod("blur")}serialize(){const t=[];return t.push(Ai.Checked+u.TERTIARY+this._value),t.push(Ai.Tooltip+u.TERTIARY+this._tooltipText),t.push(Ai.Name+u.TERTIARY+this._elementName),t.join(u.SECONDARY)}deserialize(t){const e=t.split(u.SECONDARY);for(const t of e){const[e,s]=t.split(u.TERTIARY);switch(e){case Ai.Checked.toString():this._value="1"===s;break;case Ai.Tooltip.toString():this._tooltipText=s;break;case Ai.Name.toString():this._elementName=s}}}}function Ji(t,e){switch(t){case Ii.Button:return new Li(e);case Ii.VisualElement:return new Oi(e);case Ii.Label:return new Di(e);case Ii.ScrollView:return new Yi(e);case Ii.Slider:return new Ui(e);case Ii.Toggle:return new ji(e);default:throw new Error(`Unknown UI element type: ${t}`)}}class Fi extends ct{constructor(t=new E(512,512),e=!1){super(t,e)}createButton(t){return new Li(this,t)}createLabel(t,e){const s=new Di(this,e);return void 0!==t&&(s.text=t),s}createElement(t,e){const s=new Di(this,e);return void 0!==t&&(s.text=t),s}createToggle(t){return new ji(this,t)}createSlider(t=0,e=100,s){const i=new Ui(this,s);return i.setRange(t,e),i}createScrollView(t){return new Yi(this,t)}createVisualElement(t){return new Oi(this,t)}createButtonWithText(t,e,s){const i=this.createButton(s);return i.text=t,e&&(i.tooltipText=e),i}createToggleWithLabel(t,e=!1,s){const i=this.createVisualElement(s),n=this.createToggle(i),r=this.createLabel(t,i);return n.value=e,{toggle:n,label:r}}createSliderWithLabel(t,e=0,s=100,i=50,n){const r=this.createVisualElement(n),o=this.createLabel(`${t}: ${i}`,r),a=this.createSlider(e,s,r);return a.setValue(i),{slider:a,label:o}}createVerticalContainer(t){const e=this.createVisualElement(t);return e.elementName=`vertical-container-${Date.now()}`,e}createHorizontalContainer(t){const e=this.createVisualElement(t);return e.elementName=`horizontal-container-${Date.now()}`,e}createCard(t,e){const s=this.createVisualElement(e);s.elementName=`card-${Date.now()}`;const i=this.createLabel(t,s);return i.elementName=`card-title-${Date.now()}`,{container:s,titleLabel:i}}}const zi=!0})(),BS=i})();