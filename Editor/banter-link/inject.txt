var BS;(()=>{var e={72:()=>{!function(){if(document.registerElement=()=>{},void 0===window.Reflect||void 0===window.customElements||window.customElements.polyfillWrapFlushCallback)return;const e=HTMLElement;window.HTMLElement=function(){return Reflect.construct(e,[],this.constructor)},HTMLElement.prototype=e.prototype,HTMLElement.prototype.constructor=HTMLElement,Object.setPrototypeOf(HTMLElement,e)}()},217:(e,t,s)=>{"use strict";s.r(t),s.d(t,{isValidDefaultCoordinate:()=>A,isValidDefaultValue:()=>f,propertyTypes:()=>l,registerPropertyType:()=>d,setComponentProperty:()=>k}),console.warn.bind(console);var i=["x","y","z","w"],r=/\s+/g;function n(e){var t;return"object"!=typeof e?e:(t=e.x+" "+e.y,null!=e.z&&(t+=" "+e.z),null!=e.w&&(t+=" "+e.w),t)}function o(e){return null!=e&&e.constructor===String?parseFloat(e.toString()):e}const a=console.error.bind(console),c=console.warn.bind(console);var l={},u=/[,> .[\]:]/,h=/\url\((.+)\)/;function d(e,t,s,i){"type"in l?a("Property type "+e+" is already registered."):l[e]={default:t,parse:s||m,stringify:i||g}}function p(e){var t,s;return"string"!=typeof e?e:(s=e.match(h))?s[1]:"#"===e.charAt(0)?(t=document.getElementById(e.substring(1)))?"CANVAS"===t.tagName||"VIDEO"===t.tagName||"IMG"===t.tagName?t:t.getAttribute("src"):void c('"'+e+'" asset not found.'):e}function m(e){return e}function g(e){return null===e?"null":e.toString()}function y(e){return parseInt(e,10)}function b(e){return function(e,t){var s,n,a,c,l,u,h,d,p;if(e&&e instanceof Object)return u=void 0===e.x?t&&t.x:e.x,h=void 0===e.y?t&&t.y:e.y,d=void 0===e.z?t&&t.z:e.z,p=void 0===e.w?t&&t.w:e.w,null!=u&&(e.x=o(u)),null!=h&&(e.y=o(h)),null!=d&&(e.z=o(d)),null!=p&&(e.w=o(p)),e;if(null==e)return"object"==typeof t?Object.assign({},t):t;for(s=e.trim().split(r),l={},c=0;c<i.length;c++)if(a=i[c],s[c])l[a]=parseFloat(s[c]);else{if(void 0===(n=t&&t[a]))continue;l[a]=o(n)}return l}(e,this.default)}function f(e,t){return("audio"!==e||"string"==typeof t)&&!("array"===e&&!Array.isArray(t))&&("asset"!==e||"string"==typeof t)&&("boolean"!==e||"boolean"==typeof t)&&("color"!==e||"string"==typeof t)&&("int"!==e||"number"==typeof t)&&("number"!==e||"number"==typeof t)&&("map"!==e||"string"==typeof t)&&("model"!==e||"string"==typeof t)&&("selector"!==e||"string"==typeof t||null===t)&&("selectorAll"!==e||"string"==typeof t||null===t)&&("src"!==e||"string"==typeof t)&&("string"!==e||"string"==typeof t)&&("time"!==e||"number"==typeof t)&&("vec2"===e?A(t,2):"vec3"===e?A(t,3):"vec4"!==e||A(t,4))}function A(e,t){if(null===e)return!0;if("object"!=typeof e)return!1;if(Object.keys(e).length!==t)return!1;var s=e.x,i=e.y,r=e.z,n=e.w;return!("number"!=typeof s||"number"!=typeof i||t>2&&"number"!=typeof r||t>3&&"number"!=typeof n)}d("audio","",p),d("array",[],(function(e){return Array.isArray(e)?e:e&&"string"==typeof e?e.split(",").map((function(e){return e.trim()})):[]}),(function(e){return e.join(", ")})),d("asset","",p),d("boolean",!1,(function(e){return"false"!==e&&!1!==e})),d("color","#FFF",m,g),d("int",0,y),d("number",0,(function(e){return parseFloat(e)})),d("map","",p),d("model","",p),d("selector",null,(function(e){return e?"string"!=typeof e?e:"#"!==e[0]||u.test(e)?document.querySelector(e):document.getElementById(e.substring(1)):null}),(function(e){return e.getAttribute?"#"+e.getAttribute("id"):g(e)})),d("selectorAll",null,(function(e){return e?"string"!=typeof e?e:Array.prototype.slice.call(document.querySelectorAll(e),0):null}),(function(e){return e instanceof Array?e.map((function(e){return"#"+e.getAttribute("id")})).join(", "):g(e)})),d("src","",(function(e){return c("`src` property type is deprecated. Use `asset` instead."),p(e)})),d("string","",m,g),d("time",0,y),d("vec2",{x:0,y:0},b,n),d("vec3",{x:0,y:0,z:0},b,n),d("vec4",{x:0,y:0,z:0,w:1},b,n);const v=(_={},function(e,t){return t in _||(_[t]={}),e in _[t]||(_[t][e]=e.split(t)),_[t][e]});var _;const k=function(e,t,s,i){var r;i=i||".",-1===t.indexOf(i)?e.setAttribute(t,s):(r=function(e,t){var s=v(e,t=t||".");return 1===s.length?s[0]:s}(t,i)).constructor===String?e.setAttribute(r,s):e.setAttribute(r[0],r[1],s)}}},t={};function s(i){var r=t[i];if(void 0!==r)return r.exports;var n=t[i]={exports:{}};return e[i](n,n.exports,s),n.exports}s.d=(e,t)=>{for(var i in t)s.o(t,i)&&!s.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),s.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var i={};(()=>{"use strict";s.r(i),s.d(i,{AFRAME:()=>Ms,BanterAssetBundle:()=>k,BanterAudioSource:()=>S,BanterBillboard:()=>w,BanterBrowser:()=>P,BanterColliderEvents:()=>M,BanterGLTF:()=>N,BanterGeometry:()=>x,BanterInvertedMesh:()=>L,BanterKitItem:()=>I,BanterMaterial:()=>D,BanterMirror:()=>j,BanterPhysicMaterial:()=>z,BanterPortal:()=>F,BanterRigidbody:()=>G,BanterScene:()=>ke,BanterStreetView:()=>q,BanterText:()=>V,BanterVideoPlayer:()=>X,BoxCollider:()=>B,ButtonType:()=>e,CapsuleCollider:()=>T,Color:()=>ms,Component:()=>_,ComponentQuery:()=>ce,ComponentType:()=>t,ConfigurableJoint:()=>O,ConfigurableJointMotion:()=>c,CreateGameObject:()=>se,ForceMode:()=>r,GameObject:()=>te,GeometryType:()=>Fe,GetComponentType:()=>Q,HandSide:()=>n,IS_DEV:()=>Ys,KeyCode:()=>o,LegacyAttachmentPosition:()=>Ss,LoadSceneBundles:()=>_e,MeshCollider:()=>Y,ParametricGeometryType:()=>Ge,PropertyName:()=>a,Quaternion:()=>K,SceneSettings:()=>ue,SphereCollider:()=>U,Transform:()=>Z,Vector2:()=>R,Vector3:()=>C,Vector4:()=>J});var e,t,r,n,o,a,c,l,u,h={};s.r(h),s.d(h,{parseStyle:()=>Ie,stringify:()=>Je,toCamelCase:()=>De,transformKeysToCamelCase:()=>Ye}),function(e){e[e.TRIGGER=0]="TRIGGER",e[e.GRIP=1]="GRIP",e[e.PRIMARY=2]="PRIMARY",e[e.SECONDARY=3]="SECONDARY"}(e||(e={})),function(e){e[e.BanterAssetBundle=0]="BanterAssetBundle",e[e.BanterAudioSource=1]="BanterAudioSource",e[e.BanterBillboard=2]="BanterBillboard",e[e.BoxCollider=3]="BoxCollider",e[e.BanterBrowser=4]="BanterBrowser",e[e.CapsuleCollider=5]="CapsuleCollider",e[e.BanterColliderEvents=6]="BanterColliderEvents",e[e.ConfigurableJoint=7]="ConfigurableJoint",e[e.BanterGeometry=8]="BanterGeometry",e[e.BanterGLTF=9]="BanterGLTF",e[e.BanterInvertedMesh=10]="BanterInvertedMesh",e[e.BanterKitItem=11]="BanterKitItem",e[e.BanterMaterial=12]="BanterMaterial",e[e.MeshCollider=13]="MeshCollider",e[e.BanterMirror=14]="BanterMirror",e[e.BanterPhysicMaterial=15]="BanterPhysicMaterial",e[e.BanterPortal=16]="BanterPortal",e[e.BanterRigidbody=17]="BanterRigidbody",e[e.SphereCollider=18]="SphereCollider",e[e.BanterStreetView=19]="BanterStreetView",e[e.BanterText=20]="BanterText",e[e.Transform=21]="Transform",e[e.BanterVideoPlayer=22]="BanterVideoPlayer"}(t||(t={})),function(e){e[e.Force=0]="Force",e[e.Impulse=1]="Impulse",e[e.VelocityChange=2]="VelocityChange",e[e.Acceleration=3]="Acceleration"}(r||(r={})),function(e){e[e.LEFT=0]="LEFT",e[e.RIGHT=1]="RIGHT"}(n||(n={})),function(e){e[e.None=0]="None",e[e.Backspace=1]="Backspace",e[e.Tab=2]="Tab",e[e.Clear=3]="Clear",e[e.Return=4]="Return",e[e.Pause=5]="Pause",e[e.Escape=6]="Escape",e[e.Space=7]="Space",e[e.Exclaim=8]="Exclaim",e[e.DoubleQuote=9]="DoubleQuote",e[e.Hash=10]="Hash",e[e.Dollar=11]="Dollar",e[e.Percent=12]="Percent",e[e.Ampersand=13]="Ampersand",e[e.Quote=14]="Quote",e[e.LeftParen=15]="LeftParen",e[e.RightParen=16]="RightParen",e[e.Asterisk=17]="Asterisk",e[e.Plus=18]="Plus",e[e.Comma=19]="Comma",e[e.Minus=20]="Minus",e[e.Period=21]="Period",e[e.Slash=22]="Slash",e[e.Alpha0=23]="Alpha0",e[e.Alpha1=24]="Alpha1",e[e.Alpha2=25]="Alpha2",e[e.Alpha3=26]="Alpha3",e[e.Alpha4=27]="Alpha4",e[e.Alpha5=28]="Alpha5",e[e.Alpha6=29]="Alpha6",e[e.Alpha7=30]="Alpha7",e[e.Alpha8=31]="Alpha8",e[e.Alpha9=32]="Alpha9",e[e.Colon=33]="Colon",e[e.Semicolon=34]="Semicolon",e[e.Less=35]="Less",e[e.Equals=36]="Equals",e[e.Greater=37]="Greater",e[e.Question=38]="Question",e[e.At=39]="At",e[e.LeftBracket=40]="LeftBracket",e[e.Backslash=41]="Backslash",e[e.RightBracket=42]="RightBracket",e[e.Caret=43]="Caret",e[e.Underscore=44]="Underscore",e[e.BackQuote=45]="BackQuote",e[e.A=46]="A",e[e.B=47]="B",e[e.C=48]="C",e[e.D=49]="D",e[e.E=50]="E",e[e.F=51]="F",e[e.G=52]="G",e[e.H=53]="H",e[e.I=54]="I",e[e.J=55]="J",e[e.K=56]="K",e[e.L=57]="L",e[e.M=58]="M",e[e.N=59]="N",e[e.O=60]="O",e[e.P=61]="P",e[e.Q=62]="Q",e[e.R=63]="R",e[e.S=64]="S",e[e.T=65]="T",e[e.U=66]="U",e[e.V=67]="V",e[e.W=68]="W",e[e.X=69]="X",e[e.Y=70]="Y",e[e.Z=71]="Z",e[e.LeftCurlyBracket=72]="LeftCurlyBracket",e[e.Pipe=73]="Pipe",e[e.RightCurlyBracket=74]="RightCurlyBracket",e[e.Tilde=75]="Tilde",e[e.Delete=76]="Delete",e[e.Keypad0=77]="Keypad0",e[e.Keypad1=78]="Keypad1",e[e.Keypad2=79]="Keypad2",e[e.Keypad3=80]="Keypad3",e[e.Keypad4=81]="Keypad4",e[e.Keypad5=82]="Keypad5",e[e.Keypad6=83]="Keypad6",e[e.Keypad7=84]="Keypad7",e[e.Keypad8=85]="Keypad8",e[e.Keypad9=86]="Keypad9",e[e.KeypadPeriod=87]="KeypadPeriod",e[e.KeypadDivide=88]="KeypadDivide",e[e.KeypadMultiply=89]="KeypadMultiply",e[e.KeypadMinus=90]="KeypadMinus",e[e.KeypadPlus=91]="KeypadPlus",e[e.KeypadEnter=92]="KeypadEnter",e[e.KeypadEquals=93]="KeypadEquals",e[e.UpArrow=94]="UpArrow",e[e.DownArrow=95]="DownArrow",e[e.RightArrow=96]="RightArrow",e[e.LeftArrow=97]="LeftArrow",e[e.Insert=98]="Insert",e[e.Home=99]="Home",e[e.End=100]="End",e[e.PageUp=101]="PageUp",e[e.PageDown=102]="PageDown",e[e.F1=103]="F1",e[e.F2=104]="F2",e[e.F3=105]="F3",e[e.F4=106]="F4",e[e.F5=107]="F5",e[e.F6=108]="F6",e[e.F7=109]="F7",e[e.F8=110]="F8",e[e.F9=111]="F9",e[e.F10=112]="F10",e[e.F11=113]="F11",e[e.F12=114]="F12",e[e.F13=115]="F13",e[e.F14=116]="F14",e[e.F15=117]="F15",e[e.Numlock=118]="Numlock",e[e.CapsLock=119]="CapsLock",e[e.ScrollLock=120]="ScrollLock",e[e.RightShift=121]="RightShift",e[e.LeftShift=122]="LeftShift",e[e.RightControl=123]="RightControl",e[e.LeftControl=124]="LeftControl",e[e.RightAlt=125]="RightAlt",e[e.LeftAlt=126]="LeftAlt",e[e.RightMeta=127]="RightMeta",e[e.LeftApple=128]="LeftApple",e[e.LeftWindows=129]="LeftWindows",e[e.RightWindows=130]="RightWindows",e[e.AltGr=131]="AltGr",e[e.Help=132]="Help",e[e.Print=133]="Print",e[e.SysReq=134]="SysReq",e[e.Break=135]="Break",e[e.Menu=136]="Menu",e[e.Mouse0=137]="Mouse0",e[e.Mouse1=138]="Mouse1",e[e.Mouse2=139]="Mouse2",e[e.Mouse3=140]="Mouse3",e[e.Mouse4=141]="Mouse4",e[e.Mouse5=142]="Mouse5",e[e.Mouse6=143]="Mouse6",e[e.JoystickButton0=144]="JoystickButton0",e[e.JoystickButton1=145]="JoystickButton1",e[e.JoystickButton2=146]="JoystickButton2",e[e.JoystickButton3=147]="JoystickButton3",e[e.JoystickButton4=148]="JoystickButton4",e[e.JoystickButton5=149]="JoystickButton5",e[e.JoystickButton6=150]="JoystickButton6",e[e.JoystickButton7=151]="JoystickButton7",e[e.JoystickButton8=152]="JoystickButton8",e[e.JoystickButton9=153]="JoystickButton9",e[e.JoystickButton10=154]="JoystickButton10",e[e.JoystickButton11=155]="JoystickButton11",e[e.JoystickButton12=156]="JoystickButton12",e[e.JoystickButton13=157]="JoystickButton13",e[e.JoystickButton14=158]="JoystickButton14",e[e.JoystickButton15=159]="JoystickButton15",e[e.JoystickButton16=160]="JoystickButton16",e[e.JoystickButton17=161]="JoystickButton17",e[e.JoystickButton18=162]="JoystickButton18",e[e.JoystickButton19=163]="JoystickButton19",e[e.Joystick1Button0=164]="Joystick1Button0",e[e.Joystick1Button1=165]="Joystick1Button1",e[e.Joystick1Button2=166]="Joystick1Button2",e[e.Joystick1Button3=167]="Joystick1Button3",e[e.Joystick1Button4=168]="Joystick1Button4",e[e.Joystick1Button5=169]="Joystick1Button5",e[e.Joystick1Button6=170]="Joystick1Button6",e[e.Joystick1Button7=171]="Joystick1Button7",e[e.Joystick1Button8=172]="Joystick1Button8",e[e.Joystick1Button9=173]="Joystick1Button9",e[e.Joystick1Button10=174]="Joystick1Button10",e[e.Joystick1Button11=175]="Joystick1Button11",e[e.Joystick1Button12=176]="Joystick1Button12",e[e.Joystick1Button13=177]="Joystick1Button13",e[e.Joystick1Button14=178]="Joystick1Button14",e[e.Joystick1Button15=179]="Joystick1Button15",e[e.Joystick1Button16=180]="Joystick1Button16",e[e.Joystick1Button17=181]="Joystick1Button17",e[e.Joystick1Button18=182]="Joystick1Button18",e[e.Joystick1Button19=183]="Joystick1Button19",e[e.Joystick2Button0=184]="Joystick2Button0",e[e.Joystick2Button1=185]="Joystick2Button1",e[e.Joystick2Button2=186]="Joystick2Button2",e[e.Joystick2Button3=187]="Joystick2Button3",e[e.Joystick2Button4=188]="Joystick2Button4",e[e.Joystick2Button5=189]="Joystick2Button5",e[e.Joystick2Button6=190]="Joystick2Button6",e[e.Joystick2Button7=191]="Joystick2Button7",e[e.Joystick2Button8=192]="Joystick2Button8",e[e.Joystick2Button9=193]="Joystick2Button9",e[e.Joystick2Button10=194]="Joystick2Button10",e[e.Joystick2Button11=195]="Joystick2Button11",e[e.Joystick2Button12=196]="Joystick2Button12",e[e.Joystick2Button13=197]="Joystick2Button13",e[e.Joystick2Button14=198]="Joystick2Button14",e[e.Joystick2Button15=199]="Joystick2Button15",e[e.Joystick2Button16=200]="Joystick2Button16",e[e.Joystick2Button17=201]="Joystick2Button17",e[e.Joystick2Button18=202]="Joystick2Button18",e[e.Joystick2Button19=203]="Joystick2Button19",e[e.Joystick3Button0=204]="Joystick3Button0",e[e.Joystick3Button1=205]="Joystick3Button1",e[e.Joystick3Button2=206]="Joystick3Button2",e[e.Joystick3Button3=207]="Joystick3Button3",e[e.Joystick3Button4=208]="Joystick3Button4",e[e.Joystick3Button5=209]="Joystick3Button5",e[e.Joystick3Button6=210]="Joystick3Button6",e[e.Joystick3Button7=211]="Joystick3Button7",e[e.Joystick3Button8=212]="Joystick3Button8",e[e.Joystick3Button9=213]="Joystick3Button9",e[e.Joystick3Button10=214]="Joystick3Button10",e[e.Joystick3Button11=215]="Joystick3Button11",e[e.Joystick3Button12=216]="Joystick3Button12",e[e.Joystick3Button13=217]="Joystick3Button13",e[e.Joystick3Button14=218]="Joystick3Button14",e[e.Joystick3Button15=219]="Joystick3Button15",e[e.Joystick3Button16=220]="Joystick3Button16",e[e.Joystick3Button17=221]="Joystick3Button17",e[e.Joystick3Button18=222]="Joystick3Button18",e[e.Joystick3Button19=223]="Joystick3Button19",e[e.Joystick4Button0=224]="Joystick4Button0",e[e.Joystick4Button1=225]="Joystick4Button1",e[e.Joystick4Button2=226]="Joystick4Button2",e[e.Joystick4Button3=227]="Joystick4Button3",e[e.Joystick4Button4=228]="Joystick4Button4",e[e.Joystick4Button5=229]="Joystick4Button5",e[e.Joystick4Button6=230]="Joystick4Button6",e[e.Joystick4Button7=231]="Joystick4Button7",e[e.Joystick4Button8=232]="Joystick4Button8",e[e.Joystick4Button9=233]="Joystick4Button9",e[e.Joystick4Button10=234]="Joystick4Button10",e[e.Joystick4Button11=235]="Joystick4Button11",e[e.Joystick4Button12=236]="Joystick4Button12",e[e.Joystick4Button13=237]="Joystick4Button13",e[e.Joystick4Button14=238]="Joystick4Button14",e[e.Joystick4Button15=239]="Joystick4Button15",e[e.Joystick4Button16=240]="Joystick4Button16",e[e.Joystick4Button17=241]="Joystick4Button17",e[e.Joystick4Button18=242]="Joystick4Button18",e[e.Joystick4Button19=243]="Joystick4Button19",e[e.Joystick5Button0=244]="Joystick5Button0",e[e.Joystick5Button1=245]="Joystick5Button1",e[e.Joystick5Button2=246]="Joystick5Button2",e[e.Joystick5Button3=247]="Joystick5Button3",e[e.Joystick5Button4=248]="Joystick5Button4",e[e.Joystick5Button5=249]="Joystick5Button5",e[e.Joystick5Button6=250]="Joystick5Button6",e[e.Joystick5Button7=251]="Joystick5Button7",e[e.Joystick5Button8=252]="Joystick5Button8",e[e.Joystick5Button9=253]="Joystick5Button9",e[e.Joystick5Button10=254]="Joystick5Button10",e[e.Joystick5Button11=255]="Joystick5Button11",e[e.Joystick5Button12=256]="Joystick5Button12",e[e.Joystick5Button13=257]="Joystick5Button13",e[e.Joystick5Button14=258]="Joystick5Button14",e[e.Joystick5Button15=259]="Joystick5Button15",e[e.Joystick5Button16=260]="Joystick5Button16",e[e.Joystick5Button17=261]="Joystick5Button17",e[e.Joystick5Button18=262]="Joystick5Button18",e[e.Joystick5Button19=263]="Joystick5Button19",e[e.Joystick6Button0=264]="Joystick6Button0",e[e.Joystick6Button1=265]="Joystick6Button1",e[e.Joystick6Button2=266]="Joystick6Button2",e[e.Joystick6Button3=267]="Joystick6Button3",e[e.Joystick6Button4=268]="Joystick6Button4",e[e.Joystick6Button5=269]="Joystick6Button5",e[e.Joystick6Button6=270]="Joystick6Button6",e[e.Joystick6Button7=271]="Joystick6Button7",e[e.Joystick6Button8=272]="Joystick6Button8",e[e.Joystick6Button9=273]="Joystick6Button9",e[e.Joystick6Button10=274]="Joystick6Button10",e[e.Joystick6Button11=275]="Joystick6Button11",e[e.Joystick6Button12=276]="Joystick6Button12",e[e.Joystick6Button13=277]="Joystick6Button13",e[e.Joystick6Button14=278]="Joystick6Button14",e[e.Joystick6Button15=279]="Joystick6Button15",e[e.Joystick6Button16=280]="Joystick6Button16",e[e.Joystick6Button17=281]="Joystick6Button17",e[e.Joystick6Button18=282]="Joystick6Button18",e[e.Joystick6Button19=283]="Joystick6Button19",e[e.Joystick7Button0=284]="Joystick7Button0",e[e.Joystick7Button1=285]="Joystick7Button1",e[e.Joystick7Button2=286]="Joystick7Button2",e[e.Joystick7Button3=287]="Joystick7Button3",e[e.Joystick7Button4=288]="Joystick7Button4",e[e.Joystick7Button5=289]="Joystick7Button5",e[e.Joystick7Button6=290]="Joystick7Button6",e[e.Joystick7Button7=291]="Joystick7Button7",e[e.Joystick7Button8=292]="Joystick7Button8",e[e.Joystick7Button9=293]="Joystick7Button9",e[e.Joystick7Button10=294]="Joystick7Button10",e[e.Joystick7Button11=295]="Joystick7Button11",e[e.Joystick7Button12=296]="Joystick7Button12",e[e.Joystick7Button13=297]="Joystick7Button13",e[e.Joystick7Button14=298]="Joystick7Button14",e[e.Joystick7Button15=299]="Joystick7Button15",e[e.Joystick7Button16=300]="Joystick7Button16",e[e.Joystick7Button17=301]="Joystick7Button17",e[e.Joystick7Button18=302]="Joystick7Button18",e[e.Joystick7Button19=303]="Joystick7Button19",e[e.Joystick8Button0=304]="Joystick8Button0",e[e.Joystick8Button1=305]="Joystick8Button1",e[e.Joystick8Button2=306]="Joystick8Button2",e[e.Joystick8Button3=307]="Joystick8Button3",e[e.Joystick8Button4=308]="Joystick8Button4",e[e.Joystick8Button5=309]="Joystick8Button5",e[e.Joystick8Button6=310]="Joystick8Button6",e[e.Joystick8Button7=311]="Joystick8Button7",e[e.Joystick8Button8=312]="Joystick8Button8",e[e.Joystick8Button9=313]="Joystick8Button9",e[e.Joystick8Button10=314]="Joystick8Button10",e[e.Joystick8Button11=315]="Joystick8Button11",e[e.Joystick8Button12=316]="Joystick8Button12",e[e.Joystick8Button13=317]="Joystick8Button13",e[e.Joystick8Button14=318]="Joystick8Button14",e[e.Joystick8Button15=319]="Joystick8Button15",e[e.Joystick8Button16=320]="Joystick8Button16",e[e.Joystick8Button17=321]="Joystick8Button17",e[e.Joystick8Button18=322]="Joystick8Button18",e[e.Joystick8Button19=323]="Joystick8Button19"}(o||(o={})),function(e){e[e.hasUnity=0]="hasUnity",e[e.windowsUrl=1]="windowsUrl",e[e.osxUrl=2]="osxUrl",e[e.linuxUrl=3]="linuxUrl",e[e.androidUrl=4]="androidUrl",e[e.iosUrl=5]="iosUrl",e[e.vosUrl=6]="vosUrl",e[e.isScene=7]="isScene",e[e.legacyShaderFix=8]="legacyShaderFix",e[e.volume=9]="volume",e[e.pitch=10]="pitch",e[e.mute=11]="mute",e[e.loop=12]="loop",e[e.bypassEffects=13]="bypassEffects",e[e.bypassListenerEffects=14]="bypassListenerEffects",e[e.bypassReverbZones=15]="bypassReverbZones",e[e.playOnAwake=16]="playOnAwake",e[e.spatialBlend=17]="spatialBlend",e[e.smoothing=18]="smoothing",e[e.enableXAxis=19]="enableXAxis",e[e.enableYAxis=20]="enableYAxis",e[e.enableZAxis=21]="enableZAxis",e[e.isTrigger=22]="isTrigger",e[e.center=23]="center",e[e.size=24]="size",e[e.url=25]="url",e[e.mipMaps=26]="mipMaps",e[e.pixelsPerUnit=27]="pixelsPerUnit",e[e.pageWidth=28]="pageWidth",e[e.pageHeight=29]="pageHeight",e[e.actions=30]="actions",e[e.radius=31]="radius",e[e.height=32]="height",e[e.targetPosition=33]="targetPosition",e[e.autoConfigureConnectedAnchor=34]="autoConfigureConnectedAnchor",e[e.xMotion=35]="xMotion",e[e.yMotion=36]="yMotion",e[e.zMotion=37]="zMotion",e[e.geometryType=38]="geometryType",e[e.parametricType=39]="parametricType",e[e.width=40]="width",e[e.depth=41]="depth",e[e.widthSegments=42]="widthSegments",e[e.heightSegments=43]="heightSegments",e[e.depthSegments=44]="depthSegments",e[e.segments=45]="segments",e[e.thetaStart=46]="thetaStart",e[e.thetaLength=47]="thetaLength",e[e.phiStart=48]="phiStart",e[e.phiLength=49]="phiLength",e[e.radialSegments=50]="radialSegments",e[e.openEnded=51]="openEnded",e[e.radiusTop=52]="radiusTop",e[e.radiusBottom=53]="radiusBottom",e[e.innerRadius=54]="innerRadius",e[e.outerRadius=55]="outerRadius",e[e.thetaSegments=56]="thetaSegments",e[e.phiSegments=57]="phiSegments",e[e.tube=58]="tube",e[e.tubularSegments=59]="tubularSegments",e[e.arc=60]="arc",e[e.p=61]="p",e[e.q=62]="q",e[e.stacks=63]="stacks",e[e.slices=64]="slices",e[e.detail=65]="detail",e[e.parametricPoints=66]="parametricPoints",e[e.generateMipMaps=67]="generateMipMaps",e[e.addColliders=68]="addColliders",e[e.nonConvexColliders=69]="nonConvexColliders",e[e.slippery=70]="slippery",e[e.climbable=71]="climbable",e[e.legacyRotate=72]="legacyRotate",e[e.path=73]="path",e[e.shaderName=74]="shaderName",e[e.texture=75]="texture",e[e.color=76]="color",e[e.side=77]="side",e[e.convex=78]="convex",e[e.dynamicFriction=79]="dynamicFriction",e[e.staticFriction=80]="staticFriction",e[e.instance=81]="instance",e[e.mass=82]="mass",e[e.drag=83]="drag",e[e.angularDrag=84]="angularDrag",e[e.isKinematic=85]="isKinematic",e[e.useGravity=86]="useGravity",e[e.centerOfMass=87]="centerOfMass",e[e.collisionDetectionMode=88]="collisionDetectionMode",e[e.freezePositionX=89]="freezePositionX",e[e.freezePositionY=90]="freezePositionY",e[e.freezePositionZ=91]="freezePositionZ",e[e.freezeRotationX=92]="freezeRotationX",e[e.freezeRotationY=93]="freezeRotationY",e[e.freezeRotationZ=94]="freezeRotationZ",e[e.velocity=95]="velocity",e[e.angularVelocity=96]="angularVelocity",e[e.panoId=97]="panoId",e[e.text=98]="text",e[e.horizontalAlignment=99]="horizontalAlignment",e[e.verticalAlignment=100]="verticalAlignment",e[e.fontSize=101]="fontSize",e[e.richText=102]="richText",e[e.enableWordWrapping=103]="enableWordWrapping",e[e.rectTransformSizeDelta=104]="rectTransformSizeDelta",e[e.lerpPosition=105]="lerpPosition",e[e.lerpRotation=106]="lerpRotation",e[e.position=107]="position",e[e.localPosition=108]="localPosition",e[e.rotation=109]="rotation",e[e.localRotation=110]="localRotation",e[e.localScale=111]="localScale",e[e.eulerAngles=112]="eulerAngles",e[e.localEulerAngles=113]="localEulerAngles",e[e.up=114]="up",e[e.forward=115]="forward",e[e.right=116]="right",e[e.skipOnDrop=117]="skipOnDrop",e[e.waitForFirstFrame=118]="waitForFirstFrame",e[e.isPlaying=119]="isPlaying",e[e.isLooping=120]="isLooping",e[e.isPrepared=121]="isPrepared",e[e.time=122]="time"}(a||(a={})),function(e){e[e.Locked=0]="Locked",e[e.Limited=1]="Limited",e[e.Free=2]="Free"}(c||(c={})),function(e){e.REQUEST_ID="!i!",e.UPDATE="!u!",e.DOM_READY="!dr!",e.LOAD_FAILED="!lf!",e.ONLOAD="!ol!",e.RELOAD="!r!",e.SCENE_READY="!sr!",e.SCENE_START="!sst!",e.SCENE_SETTINGS="!ss!",e.NOTHING_20S="!no20s!",e.NOTHING="!no!",e.OBJECT_ADDED="!oa!",e.COMPONENT_ADDED="!ca!",e.OBJECT_UPDATE_REQUEST="!our!",e.QUERY_COMPONENTS="!qc!",e.WATCH_PROPERTIES="!wp!",e.SET_PARENT="!sp!",e.COMPONENT_REMOVED="!cr!",e.SET_ACTIVE="!sa!",e.OBJECT_REMOVED="!or!",e.COMPONENT_UPDATED="!cu!",e.INSTANTIATE="!inst!",e.WAIT_FOR_END_OF_FRAME="!weof!",e.CALL_METHOD="!cm!",e.METHOD_RETURN="!mr!",e.RAYCAST="!rc!",e.SET_PUBLIC_SPACE_PROPS="!spsp!",e.SET_PROTECTED_SPACE_PROPS="!sprsp!",e.SET_USER_PROPS="!sup!",e.TELEPORT="!t!",e.ATTACH="!at!",e.DETACH="!dt!",e.LOAD_URL="!lu!",e.TOGGLE_DEV_TOOLS="!tdt!",e.HIDE_DEV_TOOLS="!hdt!",e.ENABLE_LEGACY="!el!",e.SET_LAYER="!sl!",e.OPEN_PAGE="!op!",e.START_TTS="!stts!",e.STOP_TTS="!otts!",e.GRAVITY="!gv!",e.TIME_SCALE="!ts!",e.PLAYER_SPEED="!ps!",e.DEEP_LINK="!dl!",e.ONE_SHOT="!ons!",e.SEND_MENU_BROWSER_MESSAGE="!smbm!",e.INJECT_JS="!ijs!",e.INJECT_JS_CALLBACK="!ijc!",e.YT_INFO="!yti!",e.EVENT="!e!",e.LOADED="l!",e.UNITY_LOADED="ulo!",e.CLICKED="c!",e.GRABBED="g!",e.RELEASED="r!",e.BUTTON_PRESSED="bp!",e.BUTTON_RELEASED="br!",e.KEY="k!",e.ONE_SHOT_RECIEVED="on!",e.COLLISION_ENTER="ce!",e.COLLISION_EXIT="cx!",e.COLLISION_STAY="cs!",e.TRIGGER_ENTER="te!",e.TRIGGER_EXIT="tx!",e.TRIGGER_STAY="ts!",e.USER_JOINED="uj!",e.USER_LEFT="ul!",e.USER_STATE_CHANGED="upc!",e.SPACE_STATE_CHANGED="spc!",e.AFRAME_TRIGGER="at!",e.MENU_BROWSER_MESSAGE="mbm!",e.BROWSER_MESSAGE="bm!",e.SEND_TRANSCRIPTION="st!",e.BANTER_VERSION="bv!",e.SEND_USER="su!",e.FULL_SPACE_STATE="fss!",e.VOICE_STARTED="vs!",e.LEGACY="!le",e.LEGACY_SEND_TO_AFRAME="sta!",e.LEGACY_SET_CHILD_COLOR="scc!",e.LEGACY_LOCK_PLAYER="lp!",e.LEGACY_UNLOCK_PLAYER="up!",e.LEGACY_SIT_PLAYER="sp!",e.LEGACY_UNSIT_PLAYER="usp!",e.LEGACY_GORILLA_PLAYER="gp!",e.LEGACY_UNGORILLA_PLAYER="ugp!",e.LEGACY_ENABLE_CONTROLLER_EXTRAS="ece!",e.LEGACY_ENABLE_QUATERNION_POSE="eqp!",e.LEGACY_SET_VIDEO_URL="svu!",e.LEGACY_SET_REFRESH_RATE="srr!",e.LEGACY_SEND_AFRAME_EVENT="sae!",e.LEGACY_PLAY_AVATAR="pa!",e.LEGACY_REQUEST_OWNERSHIP="ro!",e.LEGACY_RESET_NETWORK_OBJECT="rno!",e.LEGACY_DO_I_OWN="dio!",e.LEGACY_ATTACH_OBJECT="ao!"}(l||(l={})),function(e){e.PRIMARY="|",e.SECONDARY="~~",e.TERTIARY="~:~",e.REQUEST_ID=":"}(u||(u={}));class d{createDelegate(){this.listeners||(this.listeners=new Map)}On(e,t){this.addEventListener.call(this,e,t)}Off(e,t){this.removeEventListener.call(this,e,t)}addEventListener(e,t){this.createDelegate();var s=this.listeners.get(e);s||(s=new Set,this.listeners.set(e,s)),s.add(t)}dispatchEvent(e){this.createDelegate();var t=this.listeners.get(e.type);if(t)for(const s of t)s(e);return!0}removeEventListener(e,t){this.createDelegate();var s=this.listeners.get(e);s&&(s.delete(t),0===s.size&&this.listeners.delete(e))}removeAllEventListeners(){this.createDelegate(),this.listeners||this.listeners.clear()}}function p(e,t,s){if(e[t])return void(s&&s());const i=(e,t,s)=>{e[t]?s():setTimeout((()=>i(e,t,s)),100)};return s?i(e,t,s):new Promise((s=>i(e,t,s)))}function m(t,s=""){let i="LeftTrigger";switch(t.detail.side){case n.LEFT:switch(t.detail.button){case e.TRIGGER:i="LeftTrigger"+s;break;case e.GRIP:i="LeftGrip"+s;break;case e.PRIMARY:i="LeftPrimary"+s;break;case e.SECONDARY:i="LeftSecondary"+s}break;case n.RIGHT:switch(t.detail.button){case e.TRIGGER:i="RightTrigger"+s;break;case e.GRIP:i="RightGrip"+s;break;case e.PRIMARY:i="RightPrimary"+s;break;case e.SECONDARY:i="RightSecondary"+s}}return i}for(var g,y=[],b=0;b<256;b++)y[b]=(b+256).toString(16).substring(1);function f(){(!g||b+16>4096)&&(4096,g=crypto.getRandomValues(new Uint8Array(4096)),b=0);for(var e,t=0,s="";t<16;t++)e=g[b+t],s+=6==t?y[15&e|64]:8==t?y[63&e|128]:y[e],1&t&&t>1&&t<11&&(s+="-");return b+=16,s}var A=function(e,t,s,i){return new(s||(s=Promise))((function(r,n){function o(e){try{c(i.next(e))}catch(e){n(e)}}function a(e){try{c(i.throw(e))}catch(e){n(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(o,a)}c((i=i.apply(e,t||[])).next())}))};const v=["reqId","linkId","active","parent","oid","type"];class _ extends d{constructor(){super(),this.id=f(),this.scene=ke.getInstance()}Clone(e){e&&Object.keys(e).filter((e=>!v.includes(e))).forEach((t=>{this[t]=e[t]}))}Q(e){return A(this,void 0,void 0,(function*(){yield this.Async();const t=(new ce).Add(this,e);return this.scene.QueryComponents(t)}))}SetProperties(e){return A(this,void 0,void 0,(function*(){yield this.Async();const t=(new ce).Add(this,e);return this.scene.SetComponents(t)}))}Deserialise(e){}Serialise(e){}WatchProperties(e){const t=new le;t.id=this.id,t.properties=e,this.scene.WatchProperties(t)}Destroy(e=!1){this.scene.RemoveComponent(this,e)}Async(){return A(this,void 0,void 0,(function*(){return yield this.scene.WaitForUnity(this),this}))}}class k extends _{get windowsUrl(){return this._windowsUrl}set windowsUrl(e){this._windowsUrl=e,this.service.SetComponents((new ce).Add(this,[a.windowsUrl]))}get osxUrl(){return this._osxUrl}set osxUrl(e){this._osxUrl=e,this.service.SetComponents((new ce).Add(this,[a.osxUrl]))}get linuxUrl(){return this._linuxUrl}set linuxUrl(e){this._linuxUrl=e,this.service.SetComponents((new ce).Add(this,[a.linuxUrl]))}get androidUrl(){return this._androidUrl}set androidUrl(e){this._androidUrl=e,this.service.SetComponents((new ce).Add(this,[a.androidUrl]))}get iosUrl(){return this._iosUrl}set iosUrl(e){this._iosUrl=e,this.service.SetComponents((new ce).Add(this,[a.iosUrl]))}get vosUrl(){return this._vosUrl}set vosUrl(e){this._vosUrl=e,this.service.SetComponents((new ce).Add(this,[a.vosUrl]))}get isScene(){return this._isScene}set isScene(e){this._isScene=e,this.service.SetComponents((new ce).Add(this,[a.isScene]))}get legacyShaderFix(){return this._legacyShaderFix}set legacyShaderFix(e){this._legacyShaderFix=e,this.service.SetComponents((new ce).Add(this,[a.legacyShaderFix]))}constructor(e=new String,s=new String,i=new String,r=new String,n=new String,o=new String,a=!1,c=!1){super(),this.service=ke.getInstance(),this.type=t.BanterAssetBundle,this._windowsUrl=e,this._osxUrl=s,this._linuxUrl=i,this._androidUrl=r,this._iosUrl=n,this._vosUrl=o,this._isScene=a,this._legacyShaderFix=c}Serialise(e){const t=[];for(let s=0;s<e.length;s++)switch(e[s]){case a.windowsUrl:t.push(e[s]+"~~3~~"+this._windowsUrl);break;case a.osxUrl:t.push(e[s]+"~~3~~"+this._osxUrl);break;case a.linuxUrl:t.push(e[s]+"~~3~~"+this._linuxUrl);break;case a.androidUrl:t.push(e[s]+"~~3~~"+this._androidUrl);break;case a.iosUrl:t.push(e[s]+"~~3~~"+this._iosUrl);break;case a.vosUrl:t.push(e[s]+"~~3~~"+this._vosUrl);break;case a.isScene:t.push(e[s]+"~~0~~"+(this._isScene?1:0));break;case a.legacyShaderFix:t.push(e[s]+"~~0~~"+(this._legacyShaderFix?1:0))}return t.join(u.PRIMARY)}Deserialise(e){const t=e.split(u.PRIMARY);for(let e=0;e<t.length;e++){const s=t[e].split(u.SECONDARY);switch(Number(s[0])){case a.windowsUrl:this._windowsUrl=s[2];break;case a.osxUrl:this._osxUrl=s[2];break;case a.linuxUrl:this._linuxUrl=s[2];break;case a.androidUrl:this._androidUrl=s[2];break;case a.iosUrl:this._iosUrl=s[2];break;case a.vosUrl:this._vosUrl=s[2];break;case a.isScene:this._isScene=1==Number(s[2]);break;case a.legacyShaderFix:this._legacyShaderFix=1==Number(s[2])}}}}class S extends _{get volume(){return this._volume}set volume(e){this._volume=e,this.service.SetComponents((new ce).Add(this,[a.volume]))}get pitch(){return this._pitch}set pitch(e){this._pitch=e,this.service.SetComponents((new ce).Add(this,[a.pitch]))}get mute(){return this._mute}set mute(e){this._mute=e,this.service.SetComponents((new ce).Add(this,[a.mute]))}get loop(){return this._loop}set loop(e){this._loop=e,this.service.SetComponents((new ce).Add(this,[a.loop]))}get bypassEffects(){return this._bypassEffects}set bypassEffects(e){this._bypassEffects=e,this.service.SetComponents((new ce).Add(this,[a.bypassEffects]))}get bypassListenerEffects(){return this._bypassListenerEffects}set bypassListenerEffects(e){this._bypassListenerEffects=e,this.service.SetComponents((new ce).Add(this,[a.bypassListenerEffects]))}get bypassReverbZones(){return this._bypassReverbZones}set bypassReverbZones(e){this._bypassReverbZones=e,this.service.SetComponents((new ce).Add(this,[a.bypassReverbZones]))}get playOnAwake(){return this._playOnAwake}set playOnAwake(e){this._playOnAwake=e,this.service.SetComponents((new ce).Add(this,[a.playOnAwake]))}get spatialBlend(){return this._spatialBlend}set spatialBlend(e){this._spatialBlend=e,this.service.SetComponents((new ce).Add(this,[a.spatialBlend]))}constructor(e=1,s=1,i=!1,r=!1,n=!1,o=!1,a=!1,c=!0,l=0){super(),this.service=ke.getInstance(),this.type=t.BanterAudioSource,this._volume=e,this._pitch=s,this._mute=i,this._loop=r,this._bypassEffects=n,this._bypassListenerEffects=o,this._bypassReverbZones=a,this._playOnAwake=c,this._spatialBlend=l}PlayOneShot(e){this.service.CallMethod(this,"PlayOneShot",["1~:~"+e])}PlayOneShotFromUrl(e){this.service.CallMethod(this,"PlayOneShotFromUrl",["3~:~"+e])}Play(){this.service.CallMethod(this,"Play",[])}Serialise(e){const t=[];for(let s=0;s<e.length;s++)switch(e[s]){case a.volume:t.push(e[s]+"~~2~~"+this._volume);break;case a.pitch:t.push(e[s]+"~~2~~"+this._pitch);break;case a.mute:t.push(e[s]+"~~0~~"+(this._mute?1:0));break;case a.loop:t.push(e[s]+"~~0~~"+(this._loop?1:0));break;case a.bypassEffects:t.push(e[s]+"~~0~~"+(this._bypassEffects?1:0));break;case a.bypassListenerEffects:t.push(e[s]+"~~0~~"+(this._bypassListenerEffects?1:0));break;case a.bypassReverbZones:t.push(e[s]+"~~0~~"+(this._bypassReverbZones?1:0));break;case a.playOnAwake:t.push(e[s]+"~~0~~"+(this._playOnAwake?1:0));break;case a.spatialBlend:t.push(e[s]+"~~2~~"+this._spatialBlend)}return t.join(u.PRIMARY)}Deserialise(e){const t=e.split(u.PRIMARY);for(let e=0;e<t.length;e++){const s=t[e].split(u.SECONDARY);switch(Number(s[0])){case a.volume:this._volume=Number(s[2]);break;case a.pitch:this._pitch=Number(s[2]);break;case a.mute:this._mute=1==Number(s[2]);break;case a.loop:this._loop=1==Number(s[2]);break;case a.bypassEffects:this._bypassEffects=1==Number(s[2]);break;case a.bypassListenerEffects:this._bypassListenerEffects=1==Number(s[2]);break;case a.bypassReverbZones:this._bypassReverbZones=1==Number(s[2]);break;case a.playOnAwake:this._playOnAwake=1==Number(s[2]);break;case a.spatialBlend:this._spatialBlend=Number(s[2])}}}}class w extends _{get smoothing(){return this._smoothing}set smoothing(e){this._smoothing=e,this.service.SetComponents((new ce).Add(this,[a.smoothing]))}get enableXAxis(){return this._enableXAxis}set enableXAxis(e){this._enableXAxis=e,this.service.SetComponents((new ce).Add(this,[a.enableXAxis]))}get enableYAxis(){return this._enableYAxis}set enableYAxis(e){this._enableYAxis=e,this.service.SetComponents((new ce).Add(this,[a.enableYAxis]))}get enableZAxis(){return this._enableZAxis}set enableZAxis(e){this._enableZAxis=e,this.service.SetComponents((new ce).Add(this,[a.enableZAxis]))}constructor(e=0,s=!0,i=!0,r=!0){super(),this.service=ke.getInstance(),this.type=t.BanterBillboard,this._smoothing=e,this._enableXAxis=s,this._enableYAxis=i,this._enableZAxis=r}Serialise(e){const t=[];for(let s=0;s<e.length;s++)switch(e[s]){case a.smoothing:t.push(e[s]+"~~2~~"+this._smoothing);break;case a.enableXAxis:t.push(e[s]+"~~0~~"+(this._enableXAxis?1:0));break;case a.enableYAxis:t.push(e[s]+"~~0~~"+(this._enableYAxis?1:0));break;case a.enableZAxis:t.push(e[s]+"~~0~~"+(this._enableZAxis?1:0))}return t.join(u.PRIMARY)}Deserialise(e){const t=e.split(u.PRIMARY);for(let e=0;e<t.length;e++){const s=t[e].split(u.SECONDARY);switch(Number(s[0])){case a.smoothing:this._smoothing=Number(s[2]);break;case a.enableXAxis:this._enableXAxis=1==Number(s[2]);break;case a.enableYAxis:this._enableYAxis=1==Number(s[2]);break;case a.enableZAxis:this._enableZAxis=1==Number(s[2])}}}}var E;!function(e){e[e.Bool=0]="Bool",e[e.Int=1]="Int",e[e.Float=2]="Float",e[e.String=3]="String",e[e.Vector2=4]="Vector2",e[e.Vector3=5]="Vector3",e[e.Vector4=6]="Vector4",e[e.Quaternion=7]="Quaternion",e[e.NotSupported=8]="NotSupported"}(E||(E={}));class R{constructor(e=0,t=0){this.x=e,this.y=t}Set(e,t){return this.x=e,this.y=t,this}Add(e){return this.x+=e.x,this.y+=e.y,this}MultiplyVectors(e){return this.x*=e.x,this.y*=e.y,this}Multiply(e){return this.x*=e,this.y*=e,this}Serialize(){return E.Vector2+u.TERTIARY+this.x+u.TERTIARY+this.y}Deserialize(e){const t=e.split(u.TERTIARY);this.x=Number(t[0]),this.y=Number(t[1])}}class C extends R{constructor(e=0,t=0,s=0){super(e,t),this.z=s}Set(e,t,s){return super.Set(e,t),this.z=s,this}Add(e){return super.Add(e),this.z+=e.z,this}MultiplyVectors(e){return super.MultiplyVectors(e),this.z*=e.z,this}Multiply(e){return super.Multiply(e),this.z*=e,this}Divide(e){return this.Multiply(1/e)}Length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}Normalize(){return this.Divide(this.Length()||1)}Cross(e){return this.CrossVectors(this,e)}CrossVectors(e,t){const s=e.x,i=e.y,r=e.z,n=t.x,o=t.y,a=t.z;return this.x=i*a-r*o,this.y=r*n-s*a,this.z=s*o-i*n,this}ApplyQuaternion(e){const t=this.x,s=this.y,i=this.z,r=e.x,n=e.y,o=e.z,a=e.w,c=2*(n*i-o*s),l=2*(o*t-r*i),u=2*(r*s-n*t);return this.x=t+a*c+n*u-o*l,this.y=s+a*l+o*c-r*u,this.z=i+a*u+r*l-n*c,this}Serialize(){return E.Vector3+u.TERTIARY+this.x+u.TERTIARY+this.y+u.TERTIARY+this.z}Deserialize(e){const t=e.split(u.TERTIARY);this.x=Number(t[0]),this.y=Number(t[1]),this.z=Number(t[2])}}class B extends _{get isTrigger(){return this._isTrigger}set isTrigger(e){this._isTrigger=e,this.service.SetComponents((new ce).Add(this,[a.isTrigger]))}get center(){return this._center}set center(e){this._center=e,this.service.SetComponents((new ce).Add(this,[a.center]))}get size(){return this._size}set size(e){this._size=e,this.service.SetComponents((new ce).Add(this,[a.size]))}constructor(e=!1,s=new C(0,0,0),i=new C(1,1,1)){super(),this.service=ke.getInstance(),this.type=t.BoxCollider,this._isTrigger=e,this._center=s,this._size=i}Serialise(e){const t=[];for(let s=0;s<e.length;s++)switch(e[s]){case a.isTrigger:t.push(e[s]+"~~0~~"+(this._isTrigger?1:0));break;case a.center:t.push(e[s]+"~~5~~"+this._center.x+"~~"+this._center.y+"~~"+this._center.z);break;case a.size:t.push(e[s]+"~~5~~"+this._size.x+"~~"+this._size.y+"~~"+this._size.z)}return t.join(u.PRIMARY)}Deserialise(e){const t=e.split(u.PRIMARY);for(let e=0;e<t.length;e++){const s=t[e].split(u.SECONDARY);switch(Number(s[0])){case a.isTrigger:this._isTrigger=1==Number(s[2]);break;case a.center:this._center=new C(Number(s[2]),Number(s[3]),Number(s[4]));break;case a.size:this._size=new C(Number(s[2]),Number(s[3]),Number(s[4]))}}}}class P extends _{get url(){return this._url}set url(e){this._url=e,this.service.SetComponents((new ce).Add(this,[a.url]))}get mipMaps(){return this._mipMaps}set mipMaps(e){this._mipMaps=e,this.service.SetComponents((new ce).Add(this,[a.mipMaps]))}get pixelsPerUnit(){return this._pixelsPerUnit}set pixelsPerUnit(e){this._pixelsPerUnit=e,this.service.SetComponents((new ce).Add(this,[a.pixelsPerUnit]))}get pageWidth(){return this._pageWidth}set pageWidth(e){this._pageWidth=e,this.service.SetComponents((new ce).Add(this,[a.pageWidth]))}get pageHeight(){return this._pageHeight}set pageHeight(e){this._pageHeight=e,this.service.SetComponents((new ce).Add(this,[a.pageHeight]))}get actions(){return this._actions}set actions(e){this._actions=e,this.service.SetComponents((new ce).Add(this,[a.actions]))}constructor(e=new String,s=4,i=1200,r=1024,n=576,o=new String){super(),this.service=ke.getInstance(),this.type=t.BanterBrowser,this._url=e,this._mipMaps=s,this._pixelsPerUnit=i,this._pageWidth=r,this._pageHeight=n,this._actions=o}ToggleInteraction(e){this.service.CallMethod(this,"ToggleInteraction",["0~:~"+(e?1:0)])}ToggleKeyboard(e){this.service.CallMethod(this,"ToggleKeyboard",["0~:~"+(e?1:0)])}RunActions(e){this.service.CallMethod(this,"RunActions",["3~:~"+e])}Serialise(e){const t=[];for(let s=0;s<e.length;s++)switch(e[s]){case a.url:t.push(e[s]+"~~3~~"+this._url);break;case a.mipMaps:t.push(e[s]+"~~1~~"+this._mipMaps);break;case a.pixelsPerUnit:t.push(e[s]+"~~2~~"+this._pixelsPerUnit);break;case a.pageWidth:t.push(e[s]+"~~2~~"+this._pageWidth);break;case a.pageHeight:t.push(e[s]+"~~2~~"+this._pageHeight);break;case a.actions:t.push(e[s]+"~~3~~"+this._actions)}return t.join(u.PRIMARY)}Deserialise(e){const t=e.split(u.PRIMARY);for(let e=0;e<t.length;e++){const s=t[e].split(u.SECONDARY);switch(Number(s[0])){case a.url:this._url=s[2];break;case a.mipMaps:this._mipMaps=Number(s[2]);break;case a.pixelsPerUnit:this._pixelsPerUnit=Number(s[2]);break;case a.pageWidth:this._pageWidth=Number(s[2]);break;case a.pageHeight:this._pageHeight=Number(s[2]);break;case a.actions:this._actions=s[2]}}}}class T extends _{get isTrigger(){return this._isTrigger}set isTrigger(e){this._isTrigger=e,this.service.SetComponents((new ce).Add(this,[a.isTrigger]))}get radius(){return this._radius}set radius(e){this._radius=e,this.service.SetComponents((new ce).Add(this,[a.radius]))}get height(){return this._height}set height(e){this._height=e,this.service.SetComponents((new ce).Add(this,[a.height]))}constructor(e=!1,s=.5,i=2){super(),this.service=ke.getInstance(),this.type=t.CapsuleCollider,this._isTrigger=e,this._radius=s,this._height=i}Serialise(e){const t=[];for(let s=0;s<e.length;s++)switch(e[s]){case a.isTrigger:t.push(e[s]+"~~0~~"+(this._isTrigger?1:0));break;case a.radius:t.push(e[s]+"~~2~~"+this._radius);break;case a.height:t.push(e[s]+"~~2~~"+this._height)}return t.join(u.PRIMARY)}Deserialise(e){const t=e.split(u.PRIMARY);for(let e=0;e<t.length;e++){const s=t[e].split(u.SECONDARY);switch(Number(s[0])){case a.isTrigger:this._isTrigger=1==Number(s[2]);break;case a.radius:this._radius=Number(s[2]);break;case a.height:this._height=Number(s[2])}}}}class M extends _{constructor(){super(),this.service=ke.getInstance(),this.type=t.BanterColliderEvents}Serialise(e){for(let t=0;t<e.length;t++)e[t];return[].join(u.PRIMARY)}Deserialise(e){const t=e.split(u.PRIMARY);for(let e=0;e<t.length;e++){const s=t[e].split(u.SECONDARY);Number(s[0])}}}class O extends _{get targetPosition(){return this._targetPosition}set targetPosition(e){this._targetPosition=e,this.service.SetComponents((new ce).Add(this,[a.targetPosition]))}get autoConfigureConnectedAnchor(){return this._autoConfigureConnectedAnchor}set autoConfigureConnectedAnchor(e){this._autoConfigureConnectedAnchor=e,this.service.SetComponents((new ce).Add(this,[a.autoConfigureConnectedAnchor]))}get xMotion(){return this._xMotion}set xMotion(e){this._xMotion=e,this.service.SetComponents((new ce).Add(this,[a.xMotion]))}get yMotion(){return this._yMotion}set yMotion(e){this._yMotion=e,this.service.SetComponents((new ce).Add(this,[a.yMotion]))}get zMotion(){return this._zMotion}set zMotion(e){this._zMotion=e,this.service.SetComponents((new ce).Add(this,[a.zMotion]))}constructor(e=new C(0,0,0),s=!1,i=0,r=0,n=0){super(),this.service=ke.getInstance(),this.type=t.ConfigurableJoint,this._targetPosition=e,this._autoConfigureConnectedAnchor=s,this._xMotion=i,this._yMotion=r,this._zMotion=n}Serialise(e){const t=[];for(let s=0;s<e.length;s++)switch(e[s]){case a.targetPosition:t.push(e[s]+"~~5~~"+this._targetPosition.x+"~~"+this._targetPosition.y+"~~"+this._targetPosition.z);break;case a.autoConfigureConnectedAnchor:t.push(e[s]+"~~0~~"+(this._autoConfigureConnectedAnchor?1:0));break;case a.xMotion:t.push(e[s]+"~~1~~"+this._xMotion);break;case a.yMotion:t.push(e[s]+"~~1~~"+this._yMotion);break;case a.zMotion:t.push(e[s]+"~~1~~"+this._zMotion)}return t.join(u.PRIMARY)}Deserialise(e){const t=e.split(u.PRIMARY);for(let e=0;e<t.length;e++){const s=t[e].split(u.SECONDARY);switch(Number(s[0])){case a.targetPosition:this._targetPosition=new C(Number(s[2]),Number(s[3]),Number(s[4]));break;case a.autoConfigureConnectedAnchor:this._autoConfigureConnectedAnchor=1==Number(s[2]);break;case a.xMotion:this._xMotion=Number(s[2]);break;case a.yMotion:this._yMotion=Number(s[2]);break;case a.zMotion:this._zMotion=Number(s[2])}}}}class x extends _{get geometryType(){return this._geometryType}set geometryType(e){this._geometryType=e,this.service.SetComponents((new ce).Add(this,[a.geometryType]))}get parametricType(){return this._parametricType}set parametricType(e){this._parametricType=e,this.service.SetComponents((new ce).Add(this,[a.parametricType]))}get width(){return this._width}set width(e){this._width=e,this.service.SetComponents((new ce).Add(this,[a.width]))}get height(){return this._height}set height(e){this._height=e,this.service.SetComponents((new ce).Add(this,[a.height]))}get depth(){return this._depth}set depth(e){this._depth=e,this.service.SetComponents((new ce).Add(this,[a.depth]))}get widthSegments(){return this._widthSegments}set widthSegments(e){this._widthSegments=e,this.service.SetComponents((new ce).Add(this,[a.widthSegments]))}get heightSegments(){return this._heightSegments}set heightSegments(e){this._heightSegments=e,this.service.SetComponents((new ce).Add(this,[a.heightSegments]))}get depthSegments(){return this._depthSegments}set depthSegments(e){this._depthSegments=e,this.service.SetComponents((new ce).Add(this,[a.depthSegments]))}get radius(){return this._radius}set radius(e){this._radius=e,this.service.SetComponents((new ce).Add(this,[a.radius]))}get segments(){return this._segments}set segments(e){this._segments=e,this.service.SetComponents((new ce).Add(this,[a.segments]))}get thetaStart(){return this._thetaStart}set thetaStart(e){this._thetaStart=e,this.service.SetComponents((new ce).Add(this,[a.thetaStart]))}get thetaLength(){return this._thetaLength}set thetaLength(e){this._thetaLength=e,this.service.SetComponents((new ce).Add(this,[a.thetaLength]))}get phiStart(){return this._phiStart}set phiStart(e){this._phiStart=e,this.service.SetComponents((new ce).Add(this,[a.phiStart]))}get phiLength(){return this._phiLength}set phiLength(e){this._phiLength=e,this.service.SetComponents((new ce).Add(this,[a.phiLength]))}get radialSegments(){return this._radialSegments}set radialSegments(e){this._radialSegments=e,this.service.SetComponents((new ce).Add(this,[a.radialSegments]))}get openEnded(){return this._openEnded}set openEnded(e){this._openEnded=e,this.service.SetComponents((new ce).Add(this,[a.openEnded]))}get radiusTop(){return this._radiusTop}set radiusTop(e){this._radiusTop=e,this.service.SetComponents((new ce).Add(this,[a.radiusTop]))}get radiusBottom(){return this._radiusBottom}set radiusBottom(e){this._radiusBottom=e,this.service.SetComponents((new ce).Add(this,[a.radiusBottom]))}get innerRadius(){return this._innerRadius}set innerRadius(e){this._innerRadius=e,this.service.SetComponents((new ce).Add(this,[a.innerRadius]))}get outerRadius(){return this._outerRadius}set outerRadius(e){this._outerRadius=e,this.service.SetComponents((new ce).Add(this,[a.outerRadius]))}get thetaSegments(){return this._thetaSegments}set thetaSegments(e){this._thetaSegments=e,this.service.SetComponents((new ce).Add(this,[a.thetaSegments]))}get phiSegments(){return this._phiSegments}set phiSegments(e){this._phiSegments=e,this.service.SetComponents((new ce).Add(this,[a.phiSegments]))}get tube(){return this._tube}set tube(e){this._tube=e,this.service.SetComponents((new ce).Add(this,[a.tube]))}get tubularSegments(){return this._tubularSegments}set tubularSegments(e){this._tubularSegments=e,this.service.SetComponents((new ce).Add(this,[a.tubularSegments]))}get arc(){return this._arc}set arc(e){this._arc=e,this.service.SetComponents((new ce).Add(this,[a.arc]))}get p(){return this._p}set p(e){this._p=e,this.service.SetComponents((new ce).Add(this,[a.p]))}get q(){return this._q}set q(e){this._q=e,this.service.SetComponents((new ce).Add(this,[a.q]))}get stacks(){return this._stacks}set stacks(e){this._stacks=e,this.service.SetComponents((new ce).Add(this,[a.stacks]))}get slices(){return this._slices}set slices(e){this._slices=e,this.service.SetComponents((new ce).Add(this,[a.slices]))}get detail(){return this._detail}set detail(e){this._detail=e,this.service.SetComponents((new ce).Add(this,[a.detail]))}get parametricPoints(){return this._parametricPoints}set parametricPoints(e){this._parametricPoints=e,this.service.SetComponents((new ce).Add(this,[a.parametricPoints]))}constructor(e=0,s=0,i=1,r=1,n=1,o=1,a=1,c=1,l=1,u=24,h=0,d=6.283185,p=0,m=6.283185,g=8,y=!1,b=1,f=1,A=.3,v=1,_=24,k=8,S=.4,w=16,E=6.283185,R=2,C=3,B=5,P=5,T=0,M=new String){super(),this.service=ke.getInstance(),this.type=t.BanterGeometry,this._geometryType=e,this._parametricType=s,this._width=i,this._height=r,this._depth=n,this._widthSegments=o,this._heightSegments=a,this._depthSegments=c,this._radius=l,this._segments=u,this._thetaStart=h,this._thetaLength=d,this._phiStart=p,this._phiLength=m,this._radialSegments=g,this._openEnded=y,this._radiusTop=b,this._radiusBottom=f,this._innerRadius=A,this._outerRadius=v,this._thetaSegments=_,this._phiSegments=k,this._tube=S,this._tubularSegments=w,this._arc=E,this._p=R,this._q=C,this._stacks=B,this._slices=P,this._detail=T,this._parametricPoints=M}Serialise(e){const t=[];for(let s=0;s<e.length;s++)switch(e[s]){case a.geometryType:t.push(e[s]+"~~1~~"+this._geometryType);break;case a.parametricType:t.push(e[s]+"~~1~~"+this._parametricType);break;case a.width:t.push(e[s]+"~~2~~"+this._width);break;case a.height:t.push(e[s]+"~~2~~"+this._height);break;case a.depth:t.push(e[s]+"~~2~~"+this._depth);break;case a.widthSegments:t.push(e[s]+"~~1~~"+this._widthSegments);break;case a.heightSegments:t.push(e[s]+"~~1~~"+this._heightSegments);break;case a.depthSegments:t.push(e[s]+"~~1~~"+this._depthSegments);break;case a.radius:t.push(e[s]+"~~2~~"+this._radius);break;case a.segments:t.push(e[s]+"~~1~~"+this._segments);break;case a.thetaStart:t.push(e[s]+"~~2~~"+this._thetaStart);break;case a.thetaLength:t.push(e[s]+"~~2~~"+this._thetaLength);break;case a.phiStart:t.push(e[s]+"~~2~~"+this._phiStart);break;case a.phiLength:t.push(e[s]+"~~2~~"+this._phiLength);break;case a.radialSegments:t.push(e[s]+"~~1~~"+this._radialSegments);break;case a.openEnded:t.push(e[s]+"~~0~~"+(this._openEnded?1:0));break;case a.radiusTop:t.push(e[s]+"~~2~~"+this._radiusTop);break;case a.radiusBottom:t.push(e[s]+"~~2~~"+this._radiusBottom);break;case a.innerRadius:t.push(e[s]+"~~2~~"+this._innerRadius);break;case a.outerRadius:t.push(e[s]+"~~2~~"+this._outerRadius);break;case a.thetaSegments:t.push(e[s]+"~~1~~"+this._thetaSegments);break;case a.phiSegments:t.push(e[s]+"~~1~~"+this._phiSegments);break;case a.tube:t.push(e[s]+"~~2~~"+this._tube);break;case a.tubularSegments:t.push(e[s]+"~~1~~"+this._tubularSegments);break;case a.arc:t.push(e[s]+"~~2~~"+this._arc);break;case a.p:t.push(e[s]+"~~1~~"+this._p);break;case a.q:t.push(e[s]+"~~1~~"+this._q);break;case a.stacks:t.push(e[s]+"~~1~~"+this._stacks);break;case a.slices:t.push(e[s]+"~~1~~"+this._slices);break;case a.detail:t.push(e[s]+"~~2~~"+this._detail);break;case a.parametricPoints:t.push(e[s]+"~~3~~"+this._parametricPoints)}return t.join(u.PRIMARY)}Deserialise(e){const t=e.split(u.PRIMARY);for(let e=0;e<t.length;e++){const s=t[e].split(u.SECONDARY);switch(Number(s[0])){case a.geometryType:this._geometryType=Number(s[2]);break;case a.parametricType:this._parametricType=Number(s[2]);break;case a.width:this._width=Number(s[2]);break;case a.height:this._height=Number(s[2]);break;case a.depth:this._depth=Number(s[2]);break;case a.widthSegments:this._widthSegments=Number(s[2]);break;case a.heightSegments:this._heightSegments=Number(s[2]);break;case a.depthSegments:this._depthSegments=Number(s[2]);break;case a.radius:this._radius=Number(s[2]);break;case a.segments:this._segments=Number(s[2]);break;case a.thetaStart:this._thetaStart=Number(s[2]);break;case a.thetaLength:this._thetaLength=Number(s[2]);break;case a.phiStart:this._phiStart=Number(s[2]);break;case a.phiLength:this._phiLength=Number(s[2]);break;case a.radialSegments:this._radialSegments=Number(s[2]);break;case a.openEnded:this._openEnded=1==Number(s[2]);break;case a.radiusTop:this._radiusTop=Number(s[2]);break;case a.radiusBottom:this._radiusBottom=Number(s[2]);break;case a.innerRadius:this._innerRadius=Number(s[2]);break;case a.outerRadius:this._outerRadius=Number(s[2]);break;case a.thetaSegments:this._thetaSegments=Number(s[2]);break;case a.phiSegments:this._phiSegments=Number(s[2]);break;case a.tube:this._tube=Number(s[2]);break;case a.tubularSegments:this._tubularSegments=Number(s[2]);break;case a.arc:this._arc=Number(s[2]);break;case a.p:this._p=Number(s[2]);break;case a.q:this._q=Number(s[2]);break;case a.stacks:this._stacks=Number(s[2]);break;case a.slices:this._slices=Number(s[2]);break;case a.detail:this._detail=Number(s[2]);break;case a.parametricPoints:this._parametricPoints=s[2]}}}}class N extends _{get url(){return this._url}set url(e){this._url=e,this.service.SetComponents((new ce).Add(this,[a.url]))}get generateMipMaps(){return this._generateMipMaps}set generateMipMaps(e){this._generateMipMaps=e,this.service.SetComponents((new ce).Add(this,[a.generateMipMaps]))}get addColliders(){return this._addColliders}set addColliders(e){this._addColliders=e,this.service.SetComponents((new ce).Add(this,[a.addColliders]))}get nonConvexColliders(){return this._nonConvexColliders}set nonConvexColliders(e){this._nonConvexColliders=e,this.service.SetComponents((new ce).Add(this,[a.nonConvexColliders]))}get slippery(){return this._slippery}set slippery(e){this._slippery=e,this.service.SetComponents((new ce).Add(this,[a.slippery]))}get climbable(){return this._climbable}set climbable(e){this._climbable=e,this.service.SetComponents((new ce).Add(this,[a.climbable]))}get legacyRotate(){return this._legacyRotate}set legacyRotate(e){this._legacyRotate=e,this.service.SetComponents((new ce).Add(this,[a.legacyRotate]))}constructor(e=new String,s=!1,i=!1,r=!1,n=!1,o=!1,a=!1){super(),this.service=ke.getInstance(),this.type=t.BanterGLTF,this._url=e,this._generateMipMaps=s,this._addColliders=i,this._nonConvexColliders=r,this._slippery=n,this._climbable=o,this._legacyRotate=a}Serialise(e){const t=[];for(let s=0;s<e.length;s++)switch(e[s]){case a.url:t.push(e[s]+"~~3~~"+this._url);break;case a.generateMipMaps:t.push(e[s]+"~~0~~"+(this._generateMipMaps?1:0));break;case a.addColliders:t.push(e[s]+"~~0~~"+(this._addColliders?1:0));break;case a.nonConvexColliders:t.push(e[s]+"~~0~~"+(this._nonConvexColliders?1:0));break;case a.slippery:t.push(e[s]+"~~0~~"+(this._slippery?1:0));break;case a.climbable:t.push(e[s]+"~~0~~"+(this._climbable?1:0));break;case a.legacyRotate:t.push(e[s]+"~~0~~"+(this._legacyRotate?1:0))}return t.join(u.PRIMARY)}Deserialise(e){const t=e.split(u.PRIMARY);for(let e=0;e<t.length;e++){const s=t[e].split(u.SECONDARY);switch(Number(s[0])){case a.url:this._url=s[2];break;case a.generateMipMaps:this._generateMipMaps=1==Number(s[2]);break;case a.addColliders:this._addColliders=1==Number(s[2]);break;case a.nonConvexColliders:this._nonConvexColliders=1==Number(s[2]);break;case a.slippery:this._slippery=1==Number(s[2]);break;case a.climbable:this._climbable=1==Number(s[2]);break;case a.legacyRotate:this._legacyRotate=1==Number(s[2])}}}}class L extends _{constructor(){super(),this.service=ke.getInstance(),this.type=t.BanterInvertedMesh}Serialise(e){for(let t=0;t<e.length;t++)e[t];return[].join(u.PRIMARY)}Deserialise(e){const t=e.split(u.PRIMARY);for(let e=0;e<t.length;e++){const s=t[e].split(u.SECONDARY);Number(s[0])}}}class I extends _{get path(){return this._path}set path(e){this._path=e,this.service.SetComponents((new ce).Add(this,[a.path]))}constructor(e=new String){super(),this.service=ke.getInstance(),this.type=t.BanterKitItem,this._path=e}Serialise(e){const t=[];for(let s=0;s<e.length;s++)e[s]===a.path&&t.push(e[s]+"~~3~~"+this._path);return t.join(u.PRIMARY)}Deserialise(e){const t=e.split(u.PRIMARY);for(let e=0;e<t.length;e++){const s=t[e].split(u.SECONDARY);Number(s[0])===a.path&&(this._path=s[2])}}}class J extends C{constructor(e=0,t=0,s=0,i=1){super(e,t,s),this.w=i}Set(e,t,s,i){return super.Set(e,t),this.z=s,this.w=i,this}Add(e){return super.Add(e),this.w+=e.w,this}MultiplyVectors(e){return super.MultiplyVectors(e),this.w*=e.w,this}Multiply(e){return super.Multiply(e),this.w*=e,this}Serialize(){return E.Vector4+u.TERTIARY+this.x+u.TERTIARY+this.y+u.TERTIARY+this.z+u.TERTIARY+this.w}Deserialize(e){const t=e.split(u.TERTIARY);this.x=Number(t[0]),this.y=Number(t[1]),this.z=Number(t[2]),this.w=Number(t[3])}}class D extends _{get shaderName(){return this._shaderName}set shaderName(e){this._shaderName=e,this.service.SetComponents((new ce).Add(this,[a.shaderName]))}get texture(){return this._texture}set texture(e){this._texture=e,this.service.SetComponents((new ce).Add(this,[a.texture]))}get color(){return this._color}set color(e){this._color=e,this.service.SetComponents((new ce).Add(this,[a.color]))}get side(){return this._side}set side(e){this._side=e,this.service.SetComponents((new ce).Add(this,[a.side]))}get generateMipMaps(){return this._generateMipMaps}set generateMipMaps(e){this._generateMipMaps=e,this.service.SetComponents((new ce).Add(this,[a.generateMipMaps]))}constructor(e=new String,s=new String,i=new J,r=0,n=!1){super(),this.service=ke.getInstance(),this.type=t.BanterMaterial,this._shaderName=e,this._texture=s,this._color=i,this._side=r,this._generateMipMaps=n}Serialise(e){const t=[];for(let s=0;s<e.length;s++)switch(e[s]){case a.shaderName:t.push(e[s]+"~~3~~"+this._shaderName);break;case a.texture:t.push(e[s]+"~~3~~"+this._texture);break;case a.color:t.push(e[s]+"~~6~~"+this._color.x+"~~"+this._color.y+"~~"+this._color.z+"~~"+this._color.w);break;case a.side:t.push(e[s]+"~~1~~"+this._side);break;case a.generateMipMaps:t.push(e[s]+"~~0~~"+(this._generateMipMaps?1:0))}return t.join(u.PRIMARY)}Deserialise(e){const t=e.split(u.PRIMARY);for(let e=0;e<t.length;e++){const s=t[e].split(u.SECONDARY);switch(Number(s[0])){case a.shaderName:this._shaderName=s[2];break;case a.texture:this._texture=s[2];break;case a.color:this._color=new J(Number(s[2]),Number(s[3]),Number(s[4]),Number(s[5]));break;case a.side:this._side=Number(s[2]);break;case a.generateMipMaps:this._generateMipMaps=1==Number(s[2])}}}}class Y extends _{get convex(){return this._convex}set convex(e){this._convex=e,this.service.SetComponents((new ce).Add(this,[a.convex]))}get isTrigger(){return this._isTrigger}set isTrigger(e){this._isTrigger=e,this.service.SetComponents((new ce).Add(this,[a.isTrigger]))}constructor(e=!1,s=!1){super(),this.service=ke.getInstance(),this.type=t.MeshCollider,this._convex=e,this._isTrigger=s}Serialise(e){const t=[];for(let s=0;s<e.length;s++)switch(e[s]){case a.convex:t.push(e[s]+"~~0~~"+(this._convex?1:0));break;case a.isTrigger:t.push(e[s]+"~~0~~"+(this._isTrigger?1:0))}return t.join(u.PRIMARY)}Deserialise(e){const t=e.split(u.PRIMARY);for(let e=0;e<t.length;e++){const s=t[e].split(u.SECONDARY);switch(Number(s[0])){case a.convex:this._convex=1==Number(s[2]);break;case a.isTrigger:this._isTrigger=1==Number(s[2])}}}}class j extends _{constructor(){super(),this.service=ke.getInstance(),this.type=t.BanterMirror}Serialise(e){for(let t=0;t<e.length;t++)e[t];return[].join(u.PRIMARY)}Deserialise(e){const t=e.split(u.PRIMARY);for(let e=0;e<t.length;e++){const s=t[e].split(u.SECONDARY);Number(s[0])}}}class z extends _{get dynamicFriction(){return this._dynamicFriction}set dynamicFriction(e){this._dynamicFriction=e,this.service.SetComponents((new ce).Add(this,[a.dynamicFriction]))}get staticFriction(){return this._staticFriction}set staticFriction(e){this._staticFriction=e,this.service.SetComponents((new ce).Add(this,[a.staticFriction]))}constructor(e=1,s=1){super(),this.service=ke.getInstance(),this.type=t.BanterPhysicMaterial,this._dynamicFriction=e,this._staticFriction=s}Serialise(e){const t=[];for(let s=0;s<e.length;s++)switch(e[s]){case a.dynamicFriction:t.push(e[s]+"~~2~~"+this._dynamicFriction);break;case a.staticFriction:t.push(e[s]+"~~2~~"+this._staticFriction)}return t.join(u.PRIMARY)}Deserialise(e){const t=e.split(u.PRIMARY);for(let e=0;e<t.length;e++){const s=t[e].split(u.SECONDARY);switch(Number(s[0])){case a.dynamicFriction:this._dynamicFriction=Number(s[2]);break;case a.staticFriction:this._staticFriction=Number(s[2])}}}}class F extends _{get url(){return this._url}set url(e){this._url=e,this.service.SetComponents((new ce).Add(this,[a.url]))}get instance(){return this._instance}set instance(e){this._instance=e,this.service.SetComponents((new ce).Add(this,[a.instance]))}constructor(e=new String,s=new String){super(),this.service=ke.getInstance(),this.type=t.BanterPortal,this._url=e,this._instance=s}Serialise(e){const t=[];for(let s=0;s<e.length;s++)switch(e[s]){case a.url:t.push(e[s]+"~~3~~"+this._url);break;case a.instance:t.push(e[s]+"~~3~~"+this._instance)}return t.join(u.PRIMARY)}Deserialise(e){const t=e.split(u.PRIMARY);for(let e=0;e<t.length;e++){const s=t[e].split(u.SECONDARY);switch(Number(s[0])){case a.url:this._url=s[2];break;case a.instance:this._instance=s[2]}}}}class G extends _{get velocity(){return this._velocity}set velocity(e){this._velocity=e,this.service.SetComponents((new ce).Add(this,[a.velocity]))}get angularVelocity(){return this._angularVelocity}set angularVelocity(e){this._angularVelocity=e,this.service.SetComponents((new ce).Add(this,[a.angularVelocity]))}get mass(){return this._mass}set mass(e){this._mass=e,this.service.SetComponents((new ce).Add(this,[a.mass]))}get drag(){return this._drag}set drag(e){this._drag=e,this.service.SetComponents((new ce).Add(this,[a.drag]))}get angularDrag(){return this._angularDrag}set angularDrag(e){this._angularDrag=e,this.service.SetComponents((new ce).Add(this,[a.angularDrag]))}get isKinematic(){return this._isKinematic}set isKinematic(e){this._isKinematic=e,this.service.SetComponents((new ce).Add(this,[a.isKinematic]))}get useGravity(){return this._useGravity}set useGravity(e){this._useGravity=e,this.service.SetComponents((new ce).Add(this,[a.useGravity]))}get centerOfMass(){return this._centerOfMass}set centerOfMass(e){this._centerOfMass=e,this.service.SetComponents((new ce).Add(this,[a.centerOfMass]))}get collisionDetectionMode(){return this._collisionDetectionMode}set collisionDetectionMode(e){this._collisionDetectionMode=e,this.service.SetComponents((new ce).Add(this,[a.collisionDetectionMode]))}get freezePositionX(){return this._freezePositionX}set freezePositionX(e){this._freezePositionX=e,this.service.SetComponents((new ce).Add(this,[a.freezePositionX]))}get freezePositionY(){return this._freezePositionY}set freezePositionY(e){this._freezePositionY=e,this.service.SetComponents((new ce).Add(this,[a.freezePositionY]))}get freezePositionZ(){return this._freezePositionZ}set freezePositionZ(e){this._freezePositionZ=e,this.service.SetComponents((new ce).Add(this,[a.freezePositionZ]))}get freezeRotationX(){return this._freezeRotationX}set freezeRotationX(e){this._freezeRotationX=e,this.service.SetComponents((new ce).Add(this,[a.freezeRotationX]))}get freezeRotationY(){return this._freezeRotationY}set freezeRotationY(e){this._freezeRotationY=e,this.service.SetComponents((new ce).Add(this,[a.freezeRotationY]))}get freezeRotationZ(){return this._freezeRotationZ}set freezeRotationZ(e){this._freezeRotationZ=e,this.service.SetComponents((new ce).Add(this,[a.freezeRotationZ]))}constructor(e=1,s=0,i=.05,r=!1,n=!0,o=new C(0,0,0),a=0,c=!1,l=!1,u=!1,h=!1,d=!1,p=!1,m=new C(0,0,0),g=new C(0,0,0)){super(),this.service=ke.getInstance(),this.type=t.BanterRigidbody,this._velocity=m,this._angularVelocity=g,this._mass=e,this._drag=s,this._angularDrag=i,this._isKinematic=r,this._useGravity=n,this._centerOfMass=o,this._collisionDetectionMode=a,this._freezePositionX=c,this._freezePositionY=l,this._freezePositionZ=u,this._freezeRotationX=h,this._freezeRotationY=d,this._freezeRotationZ=p}AddForce(e,t){this.service.CallMethod(this,"AddForce",["5~:~"+e.x+"~:~"+e.y+"~:~"+e.z,"1~:~"+t])}MovePosition(e){this.service.CallMethod(this,"MovePosition",["5~:~"+e.x+"~:~"+e.y+"~:~"+e.z])}MoveRotation(e){this.service.CallMethod(this,"MoveRotation",["6~:~"+e.x+"~:~"+e.y+"~:~"+e.z+"~:~"+e.w])}AddForceValues(e,t,s,i){this.service.CallMethod(this,"AddForce",["2~:~"+e,"2~:~"+t,"2~:~"+s,"1~:~"+i])}Sleep(){this.service.CallMethod(this,"Sleep",[])}AddExplosionForce(e,t,s,i,r){this.service.CallMethod(this,"AddExplosionForce",["2~:~"+e,"5~:~"+t.x+"~:~"+t.y+"~:~"+t.z,"2~:~"+s,"2~:~"+i,"1~:~"+r])}Serialise(e){const t=[];for(let s=0;s<e.length;s++)switch(e[s]){case a.velocity:t.push(e[s]+"~~5~~"+this._velocity.x+"~~"+this._velocity.y+"~~"+this._velocity.z);break;case a.angularVelocity:t.push(e[s]+"~~5~~"+this._angularVelocity.x+"~~"+this._angularVelocity.y+"~~"+this._angularVelocity.z);break;case a.mass:t.push(e[s]+"~~2~~"+this._mass);break;case a.drag:t.push(e[s]+"~~2~~"+this._drag);break;case a.angularDrag:t.push(e[s]+"~~2~~"+this._angularDrag);break;case a.isKinematic:t.push(e[s]+"~~0~~"+(this._isKinematic?1:0));break;case a.useGravity:t.push(e[s]+"~~0~~"+(this._useGravity?1:0));break;case a.centerOfMass:t.push(e[s]+"~~5~~"+this._centerOfMass.x+"~~"+this._centerOfMass.y+"~~"+this._centerOfMass.z);break;case a.collisionDetectionMode:t.push(e[s]+"~~1~~"+this._collisionDetectionMode);break;case a.freezePositionX:t.push(e[s]+"~~0~~"+(this._freezePositionX?1:0));break;case a.freezePositionY:t.push(e[s]+"~~0~~"+(this._freezePositionY?1:0));break;case a.freezePositionZ:t.push(e[s]+"~~0~~"+(this._freezePositionZ?1:0));break;case a.freezeRotationX:t.push(e[s]+"~~0~~"+(this._freezeRotationX?1:0));break;case a.freezeRotationY:t.push(e[s]+"~~0~~"+(this._freezeRotationY?1:0));break;case a.freezeRotationZ:t.push(e[s]+"~~0~~"+(this._freezeRotationZ?1:0))}return t.join(u.PRIMARY)}Deserialise(e){const t=e.split(u.PRIMARY);for(let e=0;e<t.length;e++){const s=t[e].split(u.SECONDARY);switch(Number(s[0])){case a.velocity:this._velocity=new C(Number(s[2]),Number(s[3]),Number(s[4]));break;case a.angularVelocity:this._angularVelocity=new C(Number(s[2]),Number(s[3]),Number(s[4]));break;case a.mass:this._mass=Number(s[2]);break;case a.drag:this._drag=Number(s[2]);break;case a.angularDrag:this._angularDrag=Number(s[2]);break;case a.isKinematic:this._isKinematic=1==Number(s[2]);break;case a.useGravity:this._useGravity=1==Number(s[2]);break;case a.centerOfMass:this._centerOfMass=new C(Number(s[2]),Number(s[3]),Number(s[4]));break;case a.collisionDetectionMode:this._collisionDetectionMode=Number(s[2]);break;case a.freezePositionX:this._freezePositionX=1==Number(s[2]);break;case a.freezePositionY:this._freezePositionY=1==Number(s[2]);break;case a.freezePositionZ:this._freezePositionZ=1==Number(s[2]);break;case a.freezeRotationX:this._freezeRotationX=1==Number(s[2]);break;case a.freezeRotationY:this._freezeRotationY=1==Number(s[2]);break;case a.freezeRotationZ:this._freezeRotationZ=1==Number(s[2])}}}}class U extends _{get isTrigger(){return this._isTrigger}set isTrigger(e){this._isTrigger=e,this.service.SetComponents((new ce).Add(this,[a.isTrigger]))}get radius(){return this._radius}set radius(e){this._radius=e,this.service.SetComponents((new ce).Add(this,[a.radius]))}constructor(e=!1,s=.5){super(),this.service=ke.getInstance(),this.type=t.SphereCollider,this._isTrigger=e,this._radius=s}Serialise(e){const t=[];for(let s=0;s<e.length;s++)switch(e[s]){case a.isTrigger:t.push(e[s]+"~~0~~"+(this._isTrigger?1:0));break;case a.radius:t.push(e[s]+"~~2~~"+this._radius)}return t.join(u.PRIMARY)}Deserialise(e){const t=e.split(u.PRIMARY);for(let e=0;e<t.length;e++){const s=t[e].split(u.SECONDARY);switch(Number(s[0])){case a.isTrigger:this._isTrigger=1==Number(s[2]);break;case a.radius:this._radius=Number(s[2])}}}}class q extends _{get panoId(){return this._panoId}set panoId(e){this._panoId=e,this.service.SetComponents((new ce).Add(this,[a.panoId]))}constructor(e=new String){super(),this.service=ke.getInstance(),this.type=t.BanterStreetView,this._panoId=e}Serialise(e){const t=[];for(let s=0;s<e.length;s++)e[s]===a.panoId&&t.push(e[s]+"~~3~~"+this._panoId);return t.join(u.PRIMARY)}Deserialise(e){const t=e.split(u.PRIMARY);for(let e=0;e<t.length;e++){const s=t[e].split(u.SECONDARY);Number(s[0])===a.panoId&&(this._panoId=s[2])}}}class V extends _{get text(){return this._text}set text(e){this._text=e,this.service.SetComponents((new ce).Add(this,[a.text]))}get color(){return this._color}set color(e){this._color=e,this.service.SetComponents((new ce).Add(this,[a.color]))}get horizontalAlignment(){return this._horizontalAlignment}set horizontalAlignment(e){this._horizontalAlignment=e,this.service.SetComponents((new ce).Add(this,[a.horizontalAlignment]))}get verticalAlignment(){return this._verticalAlignment}set verticalAlignment(e){this._verticalAlignment=e,this.service.SetComponents((new ce).Add(this,[a.verticalAlignment]))}get fontSize(){return this._fontSize}set fontSize(e){this._fontSize=e,this.service.SetComponents((new ce).Add(this,[a.fontSize]))}get richText(){return this._richText}set richText(e){this._richText=e,this.service.SetComponents((new ce).Add(this,[a.richText]))}get enableWordWrapping(){return this._enableWordWrapping}set enableWordWrapping(e){this._enableWordWrapping=e,this.service.SetComponents((new ce).Add(this,[a.enableWordWrapping]))}get rectTransformSizeDelta(){return this._rectTransformSizeDelta}set rectTransformSizeDelta(e){this._rectTransformSizeDelta=e,this.service.SetComponents((new ce).Add(this,[a.rectTransformSizeDelta]))}constructor(e=new String,s=new J,i=0,r=0,n=2,o=!0,a=!0,c=new R(20,5)){super(),this.service=ke.getInstance(),this.type=t.BanterText,this._text=e,this._color=s,this._horizontalAlignment=i,this._verticalAlignment=r,this._fontSize=n,this._richText=o,this._enableWordWrapping=a,this._rectTransformSizeDelta=c}Serialise(e){const t=[];for(let s=0;s<e.length;s++)switch(e[s]){case a.text:t.push(e[s]+"~~3~~"+this._text);break;case a.color:t.push(e[s]+"~~6~~"+this._color.x+"~~"+this._color.y+"~~"+this._color.z+"~~"+this._color.w);break;case a.horizontalAlignment:t.push(e[s]+"~~1~~"+this._horizontalAlignment);break;case a.verticalAlignment:t.push(e[s]+"~~1~~"+this._verticalAlignment);break;case a.fontSize:t.push(e[s]+"~~2~~"+this._fontSize);break;case a.richText:t.push(e[s]+"~~0~~"+(this._richText?1:0));break;case a.enableWordWrapping:t.push(e[s]+"~~0~~"+(this._enableWordWrapping?1:0));break;case a.rectTransformSizeDelta:t.push(e[s]+"~~4~~"+this._rectTransformSizeDelta.x+"~~"+this._rectTransformSizeDelta.y)}return t.join(u.PRIMARY)}Deserialise(e){const t=e.split(u.PRIMARY);for(let e=0;e<t.length;e++){const s=t[e].split(u.SECONDARY);switch(Number(s[0])){case a.text:this._text=s[2];break;case a.color:this._color=new J(Number(s[2]),Number(s[3]),Number(s[4]),Number(s[5]));break;case a.horizontalAlignment:this._horizontalAlignment=Number(s[2]);break;case a.verticalAlignment:this._verticalAlignment=Number(s[2]);break;case a.fontSize:this._fontSize=Number(s[2]);break;case a.richText:this._richText=1==Number(s[2]);break;case a.enableWordWrapping:this._enableWordWrapping=1==Number(s[2]);break;case a.rectTransformSizeDelta:this._rectTransformSizeDelta=new R(Number(s[2]),Number(s[3]))}}}}const H=Math.PI/180,W=180/Math.PI;class K extends J{SetFromEuler(e){const t=e.x*H,s=e.y*H,i=e.z*H,r=e.order||"ZYX",n=Math.cos,o=Math.sin,a=n(t/2),c=n(s/2),l=n(i/2),u=o(t/2),h=o(s/2),d=o(i/2);switch(r){case"XYZ":this.x=u*c*l+a*h*d,this.y=a*h*l-u*c*d,this.z=a*c*d+u*h*l,this.w=a*c*l-u*h*d;break;case"YXZ":this.x=u*c*l+a*h*d,this.y=a*h*l-u*c*d,this.z=a*c*d-u*h*l,this.w=a*c*l+u*h*d;break;case"ZXY":this.x=u*c*l-a*h*d,this.y=a*h*l+u*c*d,this.z=a*c*d+u*h*l,this.w=a*c*l-u*h*d;break;case"ZYX":this.x=u*c*l-a*h*d,this.y=a*h*l+u*c*d,this.z=a*c*d-u*h*l,this.w=a*c*l+u*h*d;break;case"YZX":this.x=u*c*l+a*h*d,this.y=a*h*l+u*c*d,this.z=a*c*d-u*h*l,this.w=a*c*l-u*h*d;break;case"XZY":this.x=u*c*l-a*h*d,this.y=a*h*l-u*c*d,this.z=a*c*d+u*h*l,this.w=a*c*l+u*h*d;break;default:console.warn("Quaternion: .setFromEuler() encountered an unknown order: "+r)}return this}GetEuler(){const e=this.x,t=this.y,s=this.z,i=this.w,r=Math.atan2(2*(e*t+s*i),1-2*(t*t+s*s)),n=Math.asin(2*(e*s-i*t)),o=Math.atan2(2*(e*i+t*s),1-2*(s*s+i*i));return new C(r,n,o)}}class Z extends _{get position(){return this._position}set position(e){this._position=e,this.service.SetComponents((new ce).Add(this,[a.position]))}get localPosition(){return this._localPosition}set localPosition(e){this._localPosition=e,this.service.SetComponents((new ce).Add(this,[a.localPosition]))}get rotation(){return this._rotation}set rotation(e){this._rotation=e,this.service.SetComponents((new ce).Add(this,[a.rotation]))}get localRotation(){return this._localRotation}set localRotation(e){this._localRotation=e,this.service.SetComponents((new ce).Add(this,[a.localRotation]))}get localScale(){return this._localScale}set localScale(e){this._localScale=e,this.service.SetComponents((new ce).Add(this,[a.localScale]))}get eulerAngles(){return this._eulerAngles}set eulerAngles(e){this._eulerAngles=e,this.service.SetComponents((new ce).Add(this,[a.eulerAngles]))}get localEulerAngles(){return this._localEulerAngles}set localEulerAngles(e){this._localEulerAngles=e,this.service.SetComponents((new ce).Add(this,[a.localEulerAngles]))}get up(){return this._up}set up(e){this._up=e,this.service.SetComponents((new ce).Add(this,[a.up]))}get forward(){return this._forward}set forward(e){this._forward=e,this.service.SetComponents((new ce).Add(this,[a.forward]))}get right(){return this._right}set right(e){this._right=e,this.service.SetComponents((new ce).Add(this,[a.right]))}get lerpPosition(){return this._lerpPosition}set lerpPosition(e){this._lerpPosition=e,this.service.SetComponents((new ce).Add(this,[a.lerpPosition]))}get lerpRotation(){return this._lerpRotation}set lerpRotation(e){this._lerpRotation=e,this.service.SetComponents((new ce).Add(this,[a.lerpRotation]))}constructor(e=!1,s=!1,i=new C(0,0,0),r=new C(0,0,0),n=new K(0,0,0,1),o=new K(0,0,0,1),a=new C(1,1,1),c=new C(0,0,0),l=new C(0,0,0),u=new C(0,1,0),h=new C(0,0,1),d=new C(1,0,0)){super(),this.service=ke.getInstance(),this.type=t.Transform,this._position=i,this._localPosition=r,this._rotation=n,this._localRotation=o,this._localScale=a,this._eulerAngles=c,this._localEulerAngles=l,this._up=u,this._forward=h,this._right=d,this._lerpPosition=e,this._lerpRotation=s}Serialise(e){const t=[];for(let s=0;s<e.length;s++)switch(e[s]){case a.position:t.push(e[s]+"~~5~~"+this._position.x+"~~"+this._position.y+"~~"+this._position.z);break;case a.localPosition:t.push(e[s]+"~~5~~"+this._localPosition.x+"~~"+this._localPosition.y+"~~"+this._localPosition.z);break;case a.rotation:t.push(e[s]+"~~7~~"+this._rotation.x+"~~"+this._rotation.y+"~~"+this._rotation.z+"~~"+this._rotation.w);break;case a.localRotation:t.push(e[s]+"~~7~~"+this._localRotation.x+"~~"+this._localRotation.y+"~~"+this._localRotation.z+"~~"+this._localRotation.w);break;case a.localScale:t.push(e[s]+"~~5~~"+this._localScale.x+"~~"+this._localScale.y+"~~"+this._localScale.z);break;case a.eulerAngles:t.push(e[s]+"~~5~~"+this._eulerAngles.x+"~~"+this._eulerAngles.y+"~~"+this._eulerAngles.z);break;case a.localEulerAngles:t.push(e[s]+"~~5~~"+this._localEulerAngles.x+"~~"+this._localEulerAngles.y+"~~"+this._localEulerAngles.z);break;case a.up:t.push(e[s]+"~~5~~"+this._up.x+"~~"+this._up.y+"~~"+this._up.z);break;case a.forward:t.push(e[s]+"~~5~~"+this._forward.x+"~~"+this._forward.y+"~~"+this._forward.z);break;case a.right:t.push(e[s]+"~~5~~"+this._right.x+"~~"+this._right.y+"~~"+this._right.z);break;case a.lerpPosition:t.push(e[s]+"~~0~~"+(this._lerpPosition?1:0));break;case a.lerpRotation:t.push(e[s]+"~~0~~"+(this._lerpRotation?1:0))}return t.join(u.PRIMARY)}Deserialise(e){const t=e.split(u.PRIMARY);for(let e=0;e<t.length;e++){const s=t[e].split(u.SECONDARY);switch(Number(s[0])){case a.position:this._position=new C(Number(s[2]),Number(s[3]),Number(s[4]));break;case a.localPosition:this._localPosition=new C(Number(s[2]),Number(s[3]),Number(s[4]));break;case a.rotation:this._rotation=new K(Number(s[2]),Number(s[3]),Number(s[4]),Number(s[5]));break;case a.localRotation:this._localRotation=new K(Number(s[2]),Number(s[3]),Number(s[4]),Number(s[5]));break;case a.localScale:this._localScale=new C(Number(s[2]),Number(s[3]),Number(s[4]));break;case a.eulerAngles:this._eulerAngles=new C(Number(s[2]),Number(s[3]),Number(s[4]));break;case a.localEulerAngles:this._localEulerAngles=new C(Number(s[2]),Number(s[3]),Number(s[4]));break;case a.up:this._up=new C(Number(s[2]),Number(s[3]),Number(s[4]));break;case a.forward:this._forward=new C(Number(s[2]),Number(s[3]),Number(s[4]));break;case a.right:this._right=new C(Number(s[2]),Number(s[3]),Number(s[4]));break;case a.lerpPosition:this._lerpPosition=1==Number(s[2]);break;case a.lerpRotation:this._lerpRotation=1==Number(s[2])}}}}class X extends _{get time(){return this._time}set time(e){this._time=e,this.service.SetComponents((new ce).Add(this,[a.time]))}get url(){return this._url}set url(e){this._url=e,this.service.SetComponents((new ce).Add(this,[a.url]))}get volume(){return this._volume}set volume(e){this._volume=e,this.service.SetComponents((new ce).Add(this,[a.volume]))}get loop(){return this._loop}set loop(e){this._loop=e,this.service.SetComponents((new ce).Add(this,[a.loop]))}get playOnAwake(){return this._playOnAwake}set playOnAwake(e){this._playOnAwake=e,this.service.SetComponents((new ce).Add(this,[a.playOnAwake]))}get skipOnDrop(){return this._skipOnDrop}set skipOnDrop(e){this._skipOnDrop=e,this.service.SetComponents((new ce).Add(this,[a.skipOnDrop]))}get waitForFirstFrame(){return this._waitForFirstFrame}set waitForFirstFrame(e){this._waitForFirstFrame=e,this.service.SetComponents((new ce).Add(this,[a.waitForFirstFrame]))}get isPlaying(){return this._isPlaying}set isPlaying(e){this._isPlaying=e,this.service.SetComponents((new ce).Add(this,[a.isPlaying]))}get isLooping(){return this._isLooping}set isLooping(e){this._isLooping=e,this.service.SetComponents((new ce).Add(this,[a.isLooping]))}get isPrepared(){return this._isPrepared}set isPrepared(e){this._isPrepared=e,this.service.SetComponents((new ce).Add(this,[a.isPrepared]))}constructor(e=new String(1),s=.5,i=!1,r=!0,n=!0,o=!0,a=!1,c=!1,l=!1,u=0){super(),this.service=ke.getInstance(),this.type=t.BanterVideoPlayer,this._time=u,this._url=e,this._volume=s,this._loop=i,this._playOnAwake=r,this._skipOnDrop=n,this._waitForFirstFrame=o,this._isPlaying=a,this._isLooping=c,this._isPrepared=l}PlayToggle(){this.service.CallMethod(this,"PlayToggle",[])}MuteToggle(){this.service.CallMethod(this,"MuteToggle",[])}Stop(){this.service.CallMethod(this,"Stop",[])}Serialise(e){const t=[];for(let s=0;s<e.length;s++)switch(e[s]){case a.time:t.push(e[s]+"~~2~~"+this._time);break;case a.url:t.push(e[s]+"~~3~~"+this._url);break;case a.volume:t.push(e[s]+"~~2~~"+this._volume);break;case a.loop:t.push(e[s]+"~~0~~"+(this._loop?1:0));break;case a.playOnAwake:t.push(e[s]+"~~0~~"+(this._playOnAwake?1:0));break;case a.skipOnDrop:t.push(e[s]+"~~0~~"+(this._skipOnDrop?1:0));break;case a.waitForFirstFrame:t.push(e[s]+"~~0~~"+(this._waitForFirstFrame?1:0));break;case a.isPlaying:t.push(e[s]+"~~0~~"+(this._isPlaying?1:0));break;case a.isLooping:t.push(e[s]+"~~0~~"+(this._isLooping?1:0));break;case a.isPrepared:t.push(e[s]+"~~0~~"+(this._isPrepared?1:0))}return t.join(u.PRIMARY)}Deserialise(e){const t=e.split(u.PRIMARY);for(let e=0;e<t.length;e++){const s=t[e].split(u.SECONDARY);switch(Number(s[0])){case a.time:this._time=Number(s[2]);break;case a.url:this._url=s[2];break;case a.volume:this._volume=Number(s[2]);break;case a.loop:this._loop=1==Number(s[2]);break;case a.playOnAwake:this._playOnAwake=1==Number(s[2]);break;case a.skipOnDrop:this._skipOnDrop=1==Number(s[2]);break;case a.waitForFirstFrame:this._waitForFirstFrame=1==Number(s[2]);break;case a.isPlaying:this._isPlaying=1==Number(s[2]);break;case a.isLooping:this._isLooping=1==Number(s[2]);break;case a.isPrepared:this._isPrepared=1==Number(s[2])}}}}function Q(e){switch(e){case t.BanterAssetBundle:return k;case t.BanterAudioSource:return S;case t.BanterBillboard:return w;case t.BoxCollider:return B;case t.BanterBrowser:return P;case t.CapsuleCollider:return T;case t.BanterColliderEvents:return M;case t.ConfigurableJoint:return O;case t.BanterGeometry:return x;case t.BanterGLTF:return N;case t.BanterInvertedMesh:return L;case t.BanterKitItem:return I;case t.BanterMaterial:return D;case t.MeshCollider:return Y;case t.BanterMirror:return j;case t.BanterPhysicMaterial:return z;case t.BanterPortal:return F;case t.BanterRigidbody:return G;case t.SphereCollider:return U;case t.BanterStreetView:return q;case t.BanterText:return V;case t.Transform:return Z;case t.BanterVideoPlayer:return X}}var $;!function(e){e.FRAME="frame",e.FIRST_FRAME="first-frame",e.OBJECT_ADDED="object-added",e.OBJECT_REMOVED="object-removed",e.UNITY_LINKED="unity-linked",e.OBJECT_UPDATE="object-update",e.UPDATE_COMPONENT_TYPE="update-component-type",e.LOADED="loaded",e.UNITY_LOADED="unity-loaded",e.ONE_SHOT="one-shot"}($||($={}));var ee=function(e,t,s,i){return new(s||(s=Promise))((function(r,n){function o(e){try{c(i.next(e))}catch(e){n(e)}}function a(e){try{c(i.throw(e))}catch(e){n(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(o,a)}c((i=i.apply(e,t||[])).next())}))};class te extends d{constructor(e,t){super(),this.active=!0,this.components={},this.id=f(),this.hasUnity=!1,this.meta={},this.name=e||"New Game Object",this.scene=ke.getInstance(),t?(this.id=t,this.hasUnity=!0):this.scene.AddObject(this,!0)}Destroy(e=!1){return ee(this,void 0,void 0,(function*(){yield this.Async(),this.scene.RemoveObject(this,e)}))}Find(e){return ee(this,void 0,void 0,(function*(){return yield this.Async(),this.scene.FindByPath(this.path+"/"+e)}))}UpdatePath(){this.Traverse((e=>{e.parent&&this.scene.objects[e.parent]?e.path=this.scene.objects[e.parent].path+"/"+e.name:e.path=e.name}))}Traverse(e,t=!1){e(this);const s=Object.keys(this.scene.objects);if(t&&this.parent&&this.scene.objects[this.parent])this.scene.objects[this.parent].Traverse(e,!0);else for(let t=0;t<s.length;t++){const i=this.scene.objects[s[t]];i.hasUnity&&i.parent==this.id&&i.Traverse(e)}}GetComponent(e){const t=Object.keys(this.components);for(let s=0;s<t.length;s++)if(this.components[t[s]].type==e)return this.components[t[s]]}SetLayer(e){return ee(this,void 0,void 0,(function*(){return this.scene.SetLayer(this,e)}))}SetActive(e){return ee(this,void 0,void 0,(function*(){return this.scene.SetActive(this,e)}))}SetParent(e,t=!0){return ee(this,void 0,void 0,(function*(){if(yield this.Async(),yield e.Async(),e.id==this.id)throw new Error("Cannot set parent to self");let s=!1;if(this.Traverse((t=>{t.id==e.id&&(s=!0)})),s)throw new Error("Cannot set parent from a child object");return this.scene.SetParent(this,e,t)}))}AddComponent(e){return ee(this,void 0,void 0,(function*(){return this.scene.AddComponent(this,e)}))}Async(){return ee(this,void 0,void 0,(function*(){return yield this.scene.WaitForUnity(this),this}))}}function se(e){return ee(this,void 0,void 0,(function*(){return new te(e).Async()}))}class ie extends d{constructor(){super(),this.props={},this.scene=ke.getInstance()}Attach(e,t){return s=this,i=void 0,n=function*(){},new((r=void 0)||(r=Promise))((function(e,t){function o(e){try{c(n.next(e))}catch(e){t(e)}}function a(e){try{c(n.throw(e))}catch(e){t(e)}}function c(t){var s;t.done?e(t.value):(s=t.value,s instanceof r?s:new r((function(e){e(s)}))).then(o,a)}c((n=n.apply(s,i||[])).next())}));var s,i,r,n}}function re(e){const t=ke.getInstance();switch(e.type){case"AvatarPlaybackCompleted":{const t=ke.getInstance().objects[e.id];t&&t.meta&&t.meta.el?t.meta.el.emit("avatar-playback-complete",e,!1):t.dispatchEvent(new CustomEvent("avatar-playback-complete",{detail:e}))}break;case"UserPose":window.userpose=e.pose,window.userPoseCallback&&window.userPoseCallback(e.pose),window.legacyPoseEnabled&&t.dispatchEvent(new CustomEvent("legacy-user-pose",{detail:e.pose}));break;case"VideoPrepareComplete":const s=ke.getInstance().objects[e.id];s&&s.meta&&s.meta.el?s.meta.el.emit("video-prepare-complete",e,!1):s.dispatchEvent(new CustomEvent("video-prepare-complete",{detail:e}));break;case"DoIOwn":window.doIOwnCallback&&window.doIOwnCallback(e.objectId,e.owned);break;default:console.log("Unknown message: "),console.log(e)}}class ne{constructor(e){this.totalCount=0,this.firstStartStamp=0,this.lastStamp=0,this.lastCount=0,this.started=!1,this.name=e,this.startTime=0}dumpLog(e){const t=e-this.lastStamp,s=`Counter ${this.name}: ${this.lastCount} in ${t.toFixed(2)} (${(this.lastCount/t).toFixed(2)}/sec), ${this.totalCount} total`;this.lastCount=0,this.lastStamp=e,console.log(s)}add(e=1){try{this.totalCount+=e,this.lastCount+=e,this.started||(this.started=!0,this.startTime=performance.now(),this.firstStartStamp=0,this.lastStamp=0);const t=(performance.now()-this.startTime)/1e3;t-this.lastStamp>=ne.LOG_INTERVAL_SEC&&this.dumpLog(t)}catch(e){throw console.error("Exception",e),e}}}ne.LOG_INTERVAL_SEC=1;class oe{constructor(e){this.emitCounter=new ne("ApiWrapper: Web -> Unity"),this.onCounter=new ne("ApiWrapper: Unity -> Web"),this.api=e}emit(e){this.api.emit(e)}on(e){this.api.on((t=>{e(t)}))}}var ae=function(e,t,s,i){return new(s||(s=Promise))((function(r,n){function o(e){try{c(i.next(e))}catch(e){n(e)}}function a(e){try{c(i.throw(e))}catch(e){n(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(o,a)}c((i=i.apply(e,t||[])).next())}))};class ce{constructor(){this.components={}}Add(e,t){return this.components[e.id]={comp:e,props:t},this}}class le{constructor(){this.properties=[]}}class ue{constructor(){this.EnableDevTools=!0,this.EnableTeleport=!0,this.EnableForceGrab=!1,this.EnableSpiderMan=!1,this.EnablePortals=!0,this.EnableGuests=!0,this.EnableQuaternionPose=!1,this.EnableControllerExtras=!1,this.EnableFriendPositionJoin=!0,this.EnableDefaultTextures=!0,this.EnableAvatars=!0,this.MaxOccupancy=20,this.RefreshRate=72,this.ClippingPlane=new R(.02,1500),this.SpawnPoint=new J}Serialize(){return Object.keys(this).map((e=>{if(this[e].Serialize)return e+u.SECONDARY+this[e].Serialize();switch(e){case"MaxOccupancy":case"RefreshRate":return e+u.SECONDARY+this[e];default:return e+u.SECONDARY+(this[e]?1:0)}})).join(u.PRIMARY)}Deserialize(e){e.split(u.PRIMARY).map((e=>e.split(u.SECONDARY))).forEach((e=>{const t=e[0];if(this[t].Deserialize)this[t].Deserialize(e[1]);else switch(t){case"RefreshRate":case"MaxOccupancy":this[t]=Number(e[1]);default:this[t]="1"==e[1]}}))}}const he={},de={},pe=new class{constructor(){this._updates=[],this._api=new oe(window._api),this._interval=setInterval((()=>this.tick()),11)}emit(e){this._updates.push(e)}tick(){this._updates.length>0&&(this._api.emit(u.PRIMARY+u.SECONDARY+u.TERTIARY+Array.from(this._updates).join(u.PRIMARY+u.SECONDARY+u.TERTIARY)),this._updates=[])}on(e){this._api.on(e)}},me={};let ge,ye,be,fe=0;var Ae=e=>{ye||pe.emit(e)};setTimeout((()=>Ae(l.NOTHING_20S)),3e4),setTimeout((()=>Ae(l.NOTHING)),26e4);let ve=new class extends d{};function _e(e,t,s=!1){return ae(this,void 0,void 0,(function*(){const i=yield new te("AssetBundleLoader").Async(),r=location.protocol+"//"+location.host;return console.log("Loading asset bundle from HTML: ",t||r+"/windows.banter",e||r+"/android.banter"),yield i.AddComponent(new k(t||r+"/windows.banter",null,null,e||r+"/android.banter",null,null,!0,s)),i}))}new class{constructor(){document.addEventListener("DOMContentLoaded",(()=>{this.html=document.querySelector("html"),this.hasAndroid=this.html.hasAttribute("android-bundle"),this.hasWindows=this.html.hasAttribute("windows-bundle"),this.setup()}))}setup(){return e=this,t=void 0,i=function*(){(this.hasAndroid||this.hasWindows)&&_e(this.html.getAttribute("android-bundle"),this.html.getAttribute("windows-bundle"))},new((s=void 0)||(s=Promise))((function(r,n){function o(e){try{c(i.next(e))}catch(e){n(e)}}function a(e){try{c(i.throw(e))}catch(e){n(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(o,a)}c((i=i.apply(e,t||[])).next())}));var e,t,s,i}};class ke extends d{constructor(){super(),this.objects={},this.components={},this.users={},this.spaceState={public:{},protected:{}},pe.emit(l.SCENE_START),this.FireUnityLoaded(),pe.on((e=>this.ParseMessage(e)))}FireUnityLoaded(){return ae(this,void 0,void 0,(function*(){yield this.WaitForUnityLoaded(),yield this.WaitForEndOfFrame(),this.dispatchEvent(new CustomEvent($.UNITY_LOADED))}))}SetLoadPromise(e){return ae(this,void 0,void 0,(function*(){be?console.warn("Load promise already set."):(be=e,yield be,this.SetSceneLoaded())}))}SetSettings(e){return ae(this,void 0,void 0,(function*(){yield this.Send(l.SCENE_SETTINGS,e.Serialize())}))}SetSceneLoaded(){ye=!0,console.log("Banter Scene Loaded."),pe.emit(l.SCENE_READY),this.dispatchEvent(new CustomEvent($.LOADED))}DebounceLoad(){ye||be||(clearTimeout(ge),ge=setTimeout((()=>{this.SetSceneLoaded()}),500))}Find(e){return ae(this,void 0,void 0,(function*(){const t=Object.values(this.objects);for(let s=0;s<t.length;s++)if(yield t[s].Async(),t[s].name==e)return t[s]}))}FindByPath(e){return ae(this,void 0,void 0,(function*(){const t=Object.values(this.objects);for(let s=0;s<t.length;s++)if(yield t[s].Async(),t[s].path==e)return t[s]}))}OpenPage(e){return ae(this,void 0,void 0,(function*(){yield this.Send(l.OPEN_PAGE,e)}))}DeepLink(e,t){return ae(this,void 0,void 0,(function*(){yield this.Send(l.DEEP_LINK,e+u.PRIMARY+t)}))}StartTTS(e){return ae(this,void 0,void 0,(function*(){yield this.Send(l.START_TTS,e?"1":"0")}))}StopTTS(e){return ae(this,void 0,void 0,(function*(){yield this.Send(l.STOP_TTS,e)}))}SendBrowserMessage(e){return ae(this,void 0,void 0,(function*(){yield this.Send(l.SEND_MENU_BROWSER_MESSAGE,e)}))}Gravity(e){return ae(this,void 0,void 0,(function*(){yield this.Send(l.GRAVITY,e.x+u.PRIMARY+e.y+u.PRIMARY+e.z)}))}TimeScale(e){return ae(this,void 0,void 0,(function*(){yield this.Send(l.TIME_SCALE,e)}))}PlayerSpeed(e){return ae(this,void 0,void 0,(function*(){yield this.Send(l.PLAYER_SPEED,e?"1":"0")}))}YtInfo(e){return ae(this,void 0,void 0,(function*(){const t=(yield this.Send(l.YT_INFO,e)).split(u.TERTIARY);return JSON.parse(t[1])}))}TeleportTo(e,t,s,i=!1){return ae(this,void 0,void 0,(function*(){yield this.Send(l.TELEPORT,e.x+u.PRIMARY+e.y+u.PRIMARY+e.z+u.PRIMARY+t+u.PRIMARY+(s?1:0)+u.PRIMARY+(i?1:0))}))}SetPublicSpaceProps(e){return this.SetProp(l.SET_PUBLIC_SPACE_PROPS,e)}SetProtectedSpaceProps(e){return this.SetProp(l.SET_PROTECTED_SPACE_PROPS,e)}SetUserProps(e,t){return this.SetProp(l.SET_USER_PROPS,e,t)}SetProp(e,t,s=null){return pe.emit(e+u.PRIMARY+Object.keys(t).map((e=>e+u.TERTIARY+t[e])).join(u.SECONDARY)+(s?u.PRIMARY+s:""))}WaitForEndOfFrame(){return ae(this,void 0,void 0,(function*(){yield this.Send(l.WAIT_FOR_END_OF_FRAME,"")}))}Instantiate(e){return ae(this,void 0,void 0,(function*(){yield e.Async();const t=e.active;t||(yield e.SetActive(!0));const s=yield this.Send(l.INSTANTIATE,e.id);return t||e.SetActive(!1),yield this.WaitForEndOfFrame(),this.objects[s.split(u.PRIMARY)[1]]}))}SetLayer(e,t){return ae(this,void 0,void 0,(function*(){yield e.Async(),yield this.Send(l.SET_LAYER,e.id+u.PRIMARY+t)}))}SetActive(e,t){return ae(this,void 0,void 0,(function*(){yield this.WaitForUnityLoaded(),yield this.Send(l.SET_ACTIVE,e.id+u.PRIMARY+(t?1:0)),e.active=t}))}AddObject(e,t=!1){return ae(this,void 0,void 0,(function*(){this.DebounceLoad(),t?(de[e.id]=e,yield this.Send(l.OBJECT_ADDED,e.id+u.PRIMARY+(e.active?1:0)+u.PRIMARY+e.name)):this.objects[e.id]?Object.assign(this.objects[e.id],e):this.objects[e.id]=e}))}Raycast(e,t,s,i=0){return this.Send(l.RAYCAST,e.x+u.PRIMARY+e.y+u.PRIMARY+e.z+u.PRIMARY+t.x+u.PRIMARY+t.y+u.PRIMARY+t.z+u.PRIMARY+s+u.PRIMARY+i)}OneShot(e,t=!0){return ae(this,void 0,void 0,(function*(){yield this.Send(l.ONE_SHOT,(t?"1":"0")+u.PRIMARY+e)}))}CallMethod(e,t,s){return ae(this,void 0,void 0,(function*(){yield e.Async(),yield this.Send(l.CALL_METHOD,e.id+u.PRIMARY+t+u.PRIMARY+s.join(u.SECONDARY))}))}AddComponent(e,t){return ae(this,void 0,void 0,(function*(){yield e.Async(),t.gameObject=e,t.oid=e.id,he[t.id]=t;const s=t.Serialise(Object.keys(a).filter((e=>!isNaN(Number(e)))).map((e=>parseInt(e))));return yield this.Send(l.COMPONENT_ADDED,e.id+u.PRIMARY+t.id+u.PRIMARY+t.type+u.PRIMARY+s),t}))}RemoveComponent(e,t=!1){return ae(this,void 0,void 0,(function*(){e.removeAllEventListeners(),delete e.gameObject.components[e.id],delete this.components[e.id],t||(yield this.Send(l.COMPONENT_REMOVED,e.id))}))}RemoveObject(e,t=!1){return ae(this,void 0,void 0,(function*(){this.objects[e.id]&&(this.objects[e.id].removeAllEventListeners(),Object.keys(this.objects[e.id].components).forEach((e=>{this.components[e].Destroy(t)})),delete this.objects[e.id]),t||(yield this.Send(l.OBJECT_REMOVED,e.id))}))}Send(e,t){return ae(this,void 0,void 0,(function*(){return new Promise((s=>{fe>9999&&(fe=0);const i=l.REQUEST_ID+u.REQUEST_ID+ ++fe;me[fe]=s,pe.emit(i+u.PRIMARY+e+u.PRIMARY+t)}))}))}EnableLegacy(){pe.emit(l.ENABLE_LEGACY)}WaitForUnity(e){return ae(this,void 0,void 0,(function*(){if(!e.hasUnity)return new Promise((t=>{e.addEventListener($.UNITY_LINKED,(e=>{t()}))}))}))}QueryComponents(e){return ae(this,void 0,void 0,(function*(){const t=Object.values(e.components),s=t.map((e=>e.comp.id+u.SECONDARY+e.props.join(u.TERTIARY)));return yield this.Send(l.QUERY_COMPONENTS,s.join(u.PRIMARY)),t.map((e=>e.comp))}))}WatchProperties(e){return ae(this,void 0,void 0,(function*(){this.components[e.id]&&(yield this.Send(l.WATCH_PROPERTIES,e.id+u.PRIMARY+e.properties.join(u.SECONDARY)))}))}SetComponents(e,t=!1){return ae(this,void 0,void 0,(function*(){const s=Object.values(e.components);yield Promise.all(s.map((e=>e.comp.Async())));const i=s.map((e=>e.comp.oid+u.PRIMARY+e.comp.id+u.PRIMARY+e.comp.Serialise(e.props))),r=(t?1:0)+u.TERTIARY+i.join(u.TERTIARY);return t?yield this.Send(l.COMPONENT_UPDATED,r):pe.emit(l.REQUEST_ID+u.REQUEST_ID+1e4+u.PRIMARY+l.COMPONENT_UPDATED+u.PRIMARY+r),s.map((e=>e.comp))}))}WaitForUnityLoaded(){return ae(this,void 0,void 0,(function*(){yield p(this,"unityLoaded")}))}ProcessUpdates(e){var t={};e.forEach((e=>{const s=e.split(u.PRIMARY),i=Number(s[0]);this.objects[i]||this.AddUnexpectedObject(i);const r=Number(s[1]),n=Number(s[2]);if(r){if(!this.components[r]){const e=Q(n);this.components[r]=new e,this.components[r].gameObject=this.objects[i],this.components[r].oid=i,this.components[r].id=r,this.components[r].hasUnity=!0,this.objects[i].components[r]=this.components[r],this.components[r].Deserialise(s[3])}this.components[r].Deserialise(s[3]),t[i]=t[i]||{cids:[]},t[i].cids.includes(r)||t[i].cids.push(r)}}));var s=Object.keys(t);for(let e=0;e<s.length;e++)this.objects[s[e]].dispatchEvent(new CustomEvent($.OBJECT_UPDATE,{detail:t[s[e]].cids}))}ProcessUnlinked(e,t){e&&de[e]?(de[e].id=t,de[e].hasUnity=!0,this.AddObject(de[e]),delete de[e],this.objects[t].dispatchEvent(new CustomEvent($.UNITY_LINKED,{detail:{linkId:e,id:t}}))):this.objects[t]||this.AddObject(new te(null,t))}ProcessUnlinkedComponent(e,t,s){e&&he[e]&&(he[e].id=t,this.components[t]=he[e],this.objects[s].components[t]=this.components[t],this.components[t].dispatchEvent(new CustomEvent($.UNITY_LINKED,{detail:{linkId:e,id:t,oid:s}})),delete he[e])}ProcessRequestCallback(e,t){me[e]&&(me[e](t),delete me[e])}GetLegacyBanterScene(){return ve}AddUnexpectedObject(e){this.AddObject(new te(null,e)),this.UpdateObject(e)}ParseMessage(e){if("string"==typeof e&&e.startsWith(l.REQUEST_ID)){var t=(l.REQUEST_ID+u.REQUEST_ID).length,s=e.substring(t,e.indexOf(u.PRIMARY,t));if(e=e.substring(t+s.length+1),this.ProcessRequestCallback(s,e),e.startsWith(l.OBJECT_ADDED)){const t=e.substring(l.OBJECT_ADDED.length+1).split(u.PRIMARY);this.ProcessUnlinked(t[5],t[0]),this.SetObject(t[0],t[2],"1"==t[1],t[4],t[3]),this.DebounceLoad()}else if(e.startsWith(l.COMPONENT_ADDED)){const t=e.substring(l.COMPONENT_ADDED.length+1).split(u.PRIMARY),s=t[0],i=t[1],r=Number(t[2]),n=t[3];this.ProcessUnlinkedComponent(n,i,s),this.SetComponent(i,r,s)}}else if("string"==typeof e){const t=u.PRIMARY+u.SECONDARY+u.TERTIARY;switch(!0){case e.startsWith(l.LEGACY_SEND_TO_AFRAME):try{re.bind(ve,JSON.parse(e.substring(l.LEGACY_SEND_TO_AFRAME.length+1)))()}catch(e){console.error("Error parsing LEGACY_SEND_TO_AFRAME",e)}break;case e.startsWith(t):e.substring(t.length).split(t).forEach((e=>this.ParseMessage(e)));break;case e.startsWith(l.UPDATE):this.ProcessUpdates(e.substring(l.UPDATE.length).split(u.TERTIARY));break;case e.startsWith(l.EVENT):this.ProcessEvent(e)}}}ProcessEvent(e){var t,s;const i=e.substring(l.EVENT.length,e.indexOf(u.PRIMARY,l.EVENT.length)),r=e.substring(e.indexOf(u.PRIMARY,l.EVENT.length)+1).split(u.SECONDARY);switch(i){case l.SEND_TRANSCRIPTION:{const e=r[0],t=r[1];this.dispatchEvent(new CustomEvent("transcription",{detail:{message:t,id:e}}))}break;case l.CLICKED:if(this.objects[r[0]]){const e=this.objects[r[0]],t=new C(Number(r[1]),Number(r[2]),Number(r[3])),s=new C(Number(r[4]),Number(r[5]),Number(r[6]));e.dispatchEvent(new CustomEvent("click",{detail:{point:t,normal:s}}))}break;case l.GRABBED:if(this.objects[r[0]]){const e=this.objects[r[0]],t=new C(Number(r[1]),Number(r[2]),Number(r[3])),s=new C(Number(r[4]),Number(r[5]),Number(r[6])),i=Number(r[7]);e.dispatchEvent(new CustomEvent("grab",{detail:{point:t,normal:s,side:i}}))}break;case l.RELEASED:if(this.objects[r[0]]){const e=this.objects[r[0]],t=Number(r[1]);e.dispatchEvent(new CustomEvent("drop",{detail:{side:t}}))}break;case l.BUTTON_PRESSED:case l.BUTTON_RELEASED:const e=Number(r[0]),n=Number(r[1]);this.dispatchEvent(new CustomEvent(i===l.BUTTON_PRESSED?"button-pressed":"button-released",{detail:{button:e,side:n}}));break;case l.LOADED:const o=r[0];this.components[o]&&this.components[o].dispatchEvent(new CustomEvent($.LOADED));break;case l.MENU_BROWSER_MESSAGE:this.dispatchEvent(new CustomEvent("menu-browser-message",{detail:r[0]}));break;case l.USER_LEFT:case l.USER_JOINED:const a=i===l.USER_JOINED,c=r[0],h=r[1],d="1"==r[2],p=r[3],m=r[4];a&&!this.users[c]?(this.users[c]=new ie,this.users[c].id=p,this.users[c].uid=c,this.users[c].color=m,this.users[c].isLocal=d,this.users[c].name=h,d&&(this.localUser=this.users[c]),console.warn("user joined: ",this.users[c]),this.dispatchEvent(new CustomEvent("user-joined",{detail:this.users[c]}))):a&&this.users[c]?(console.warn("got user-joined event for user that already joined: ",this.users[c]),this.users[c].id=p,this.users[c].uid=c,this.users[c].color=m,this.users[c].isLocal=d,this.users[c].name=h,d&&(this.localUser=this.users[c])):!a&&this.users[c]&&(console.warn("user left: ",this.users[c]),this.dispatchEvent(new CustomEvent("user-left",{detail:this.users[c]})),delete this.users[c]);break;case l.FULL_SPACE_STATE:let g=JSON.parse(r[0]);const y=(null===(t=this.spaceState)||void 0===t?void 0:t.protected)||{},b=(null===(s=this.spaceState)||void 0===s?void 0:s.public)||{};this.spaceState={public:{},protected:{}},this.spaceState.public=(null==g?void 0:g.public)||{},this.spaceState.protected=(null==g?void 0:g.protected)||{};const f=[],A=Object.keys(this.spaceState.protected),v=Object.keys(y),_=Object.keys(this.spaceState.public),k=Object.keys(b);_.filter((e=>!k.includes(e))).forEach((e=>{f.push({type:"public",property:e,oldValue:null,newValue:this.spaceState.public[e]})})),k.filter((e=>!_.includes(e))).forEach((e=>{f.push({type:"public",property:e,oldValue:b[e],newValue:null})})),_.filter((e=>k.includes(e))).forEach((e=>{f.push({type:"public",property:e,oldValue:b[e],newValue:this.spaceState.public[e]})})),A.filter((e=>!v.includes(e))).forEach((e=>{f.push({type:"protected",property:e,oldValue:null,newValue:this.spaceState.protected[e]})})),v.filter((e=>!A.includes(e))).forEach((e=>{f.push({type:"protected",property:e,oldValue:y[e],newValue:null})})),A.filter((e=>v.includes(e))).forEach((e=>{f.push({type:"protected",property:e,oldValue:y[e],newValue:this.spaceState.protected[e]})})),f.length&&this.dispatchEvent(new CustomEvent("space-state-changed",{detail:{changes:f}}));break;case l.SPACE_STATE_CHANGED:const S=r[0],w=r[1],E=r[2],R="1"==r[3];R?this.spaceState.public[S]=w:this.spaceState.protected[S]=w,this.dispatchEvent(new CustomEvent("space-state-changed",{detail:{changes:[{property:S,newValue:w,oldValue:E,isPublic:R}]}}));break;case l.BANTER_VERSION:{const e=r[0],t=r[1],s=r[2],i=r[3];window.VERSION_NAME||(console.log("Banter Version:",t,"("+e+"), Space Instance: "+i),console.log("Unity Version:",s)),window.VERSION_NAME=t,window.VERSION_CODE=e,window.UNITY_VERSION=s,window.SPACE_INSTANCE=i}break;case l.BROWSER_MESSAGE:this.objects[r[0]].dispatchEvent(new CustomEvent("browser-message",{detail:r[1]}));break;case l.USER_STATE_CHANGED:{const e=r.shift();if(!this.users[e])return void console.log("got user-state-changed event for user that doesn't exist?",e);const t=this.users[e],s=r.map((e=>{const t=e.split(u.TERTIARY);return{key:t[0],newValue:t[1],oldValue:null}}));Object.keys(t.props).forEach((e=>{s.forEach((s=>{s.key===e&&(t.props[e]=s.newValue)}))})),t.dispatchEvent(new CustomEvent("state-changed",{detail:{id:p,changes:s}})),this.dispatchEvent(new CustomEvent("user-state-changed",{detail:{user:t,changes:s}}))}break;case l.ONE_SHOT_RECIEVED:{const e=r[0],t="1"==r[1],s=r[2];this.dispatchEvent(new CustomEvent("one-shot",{detail:{fromId:e,fromAdmin:t,data:s}}))}break;case l.AFRAME_TRIGGER:const B=r[0];this.dispatchEvent(new CustomEvent("aframe-trigger",{detail:{data:B}}));break;case l.KEY:const P=Number(r[0]);this.dispatchEvent(new CustomEvent("key-press",{detail:{key:P}}));break;case l.UNITY_LOADED:console.log("Unity Scene Loaded."),this.unityLoaded=!0;break;case l.VOICE_STARTED:this.dispatchEvent(new CustomEvent("voice-started",{detail:{}}));break;case l.COLLISION_ENTER:if(this.objects[r[0]]){const e=this.objects[r[0]],t=this.objects[r[1]]||r[1],s=new C(Number(r[2]),Number(r[3]),Number(r[4])),i=new C(Number(r[5]),Number(r[6]),Number(r[7])),n=r[8],o=r[9],a=r[10];let c;a&&this.users[a]&&(c=this.users[a],this.users[a].dispatchEvent(new CustomEvent("collision-enter",{detail:{name:o,tag:n,collider:t,point:s,normal:i,object:e}}))),e.dispatchEvent(new CustomEvent("collision-enter",{detail:{name:o,tag:n,collider:t,point:s,normal:i,user:c}}))}break;case l.COLLISION_EXIT:case l.TRIGGER_EXIT:case l.TRIGGER_ENTER:const T=i===l.COLLISION_EXIT?"collision-exit":i===l.TRIGGER_ENTER?"trigger-enter":"trigger-exit";if(this.objects[r[0]]){const e=this.objects[r[0]],t=this.objects[r[1]]||r[1],s=r[2],i=r[3],n=r[4];let o;n&&this.users[n]&&(o=this.users[n],this.users[n].dispatchEvent(new CustomEvent(T,{detail:{name:i,tag:s,collider:t,object:e}}))),e.dispatchEvent(new CustomEvent(T,{detail:{name:i,tag:s,collider:t,user:o}}))}}}SetComponent(e,t,s){this.components[e].type=t,this.components[e].id=e,this.components[e].oid=s,this.components[e].hasUnity=!0}SetObject(e,t,s,i,r){this.objects[e].name=t,this.objects[e].active=s,this.objects[e].parent=i,this.objects[e].layer=r,this.objects[e].hasUnity=!0,this.objects[e].UpdatePath()}SetParent(e,t,s=!0){return ae(this,void 0,void 0,(function*(){return this.Send(l.SET_PARENT,t.id+u.PRIMARY+e.id+u.PRIMARY+(s?1:0))}))}UpdateObject(e){return this.Send(l.OBJECT_UPDATE_REQUEST,e)}static getInstance(){return ke.instance||(ke.instance=new ke),ke.instance}LegacyAttachObject(e,t,s){return ae(this,void 0,void 0,(function*(){yield e.Async(),pe.emit(l.LEGACY+l.LEGACY_ATTACH_OBJECT+u.PRIMARY+e.id+u.PRIMARY+t+u.PRIMARY+s)}))}LegacySetChildColor(e,t,s){return ae(this,void 0,void 0,(function*(){yield e.Async(),pe.emit(l.LEGACY+l.LEGACY_SET_CHILD_COLOR+u.PRIMARY+e.id+u.PRIMARY+t.x+u.PRIMARY+t.y+u.PRIMARY+t.z+u.PRIMARY+s)}))}LegacyLockPlayer(){return ae(this,void 0,void 0,(function*(){pe.emit(l.LEGACY+l.LEGACY_LOCK_PLAYER+u.PRIMARY)}))}LegacyUnlockPlayer(){return ae(this,void 0,void 0,(function*(){pe.emit(l.LEGACY+l.LEGACY_UNLOCK_PLAYER+u.PRIMARY)}))}LegacySetRefreshRate(e){pe.emit(l.LEGACY+l.LEGACY_SET_REFRESH_RATE+u.PRIMARY+e)}LegacySitPlayer(e){return ae(this,void 0,void 0,(function*(){pe.emit(l.LEGACY+l.LEGACY_SIT_PLAYER+u.PRIMARY+e.id)}))}LegacyUnsitPlayer(){return ae(this,void 0,void 0,(function*(){pe.emit(l.LEGACY+l.LEGACY_UNSIT_PLAYER+u.PRIMARY)}))}LegacyGorillaPlayer(){return ae(this,void 0,void 0,(function*(){pe.emit(l.LEGACY+l.LEGACY_GORILLA_PLAYER+u.PRIMARY)}))}LegacyUngorillaPlayer(){return ae(this,void 0,void 0,(function*(){pe.emit(l.LEGACY+l.LEGACY_UNGORILLA_PLAYER+u.PRIMARY)}))}LegacyEnableControllerExtras(){return ae(this,void 0,void 0,(function*(){pe.emit(l.LEGACY+l.LEGACY_ENABLE_CONTROLLER_EXTRAS+u.PRIMARY)}))}LegacyEnableQuaternionPose(){return ae(this,void 0,void 0,(function*(){pe.emit(l.LEGACY+l.LEGACY_ENABLE_QUATERNION_POSE+u.PRIMARY)}))}LegacySetVideoUrl(e,t){return ae(this,void 0,void 0,(function*(){pe.emit(l.LEGACY+l.LEGACY_SET_VIDEO_URL+u.PRIMARY+e.id+u.PRIMARY+t)}))}LegacySendAframeEvent(e,t,s){return ae(this,void 0,void 0,(function*(){pe.emit(l.LEGACY+l.LEGACY_SEND_AFRAME_EVENT+u.PRIMARY+e+u.PRIMARY+(t?"1":"0")+u.PRIMARY+(s||""))}))}LegacyPlayAvatar(e,t,s,i){return ae(this,void 0,void 0,(function*(){yield e.Async(),pe.emit(l.LEGACY+l.LEGACY_PLAY_AVATAR+u.PRIMARY+e.id+u.PRIMARY+t+u.PRIMARY+s+u.PRIMARY+i)}))}LegacyRequestOwnership(e){return ae(this,void 0,void 0,(function*(){pe.emit(l.LEGACY+l.LEGACY_REQUEST_OWNERSHIP+u.PRIMARY+e)}))}LegacyDoIOwn(e){return ae(this,void 0,void 0,(function*(){pe.emit(l.LEGACY+l.LEGACY_DO_I_OWN+u.PRIMARY+e)}))}LegacyResetNetworkObject(e){return ae(this,void 0,void 0,(function*(){pe.emit(l.LEGACY+l.LEGACY_RESET_NETWORK_OBJECT+u.PRIMARY+e)}))}}s(72);const Se={};var we=s(217),Ee=we.isValidDefaultValue,Re=we.propertyTypes,Ce=console.warn.bind(console);function Be(e){return"type"in e?"string"==typeof e.type:"default"in e}const Pe=function(e,t){var s;if(Be(e))return Te(e,t);for(s in e)e[s]=Te(e[s],t);return e};function Te(e,t){var s,i,r=e.default,n=e.type;return e.type?"bool"===e.type?n="boolean":"float"===e.type&&(n="number"):n=void 0===r||"boolean"!=typeof r&&"number"!=typeof r?Array.isArray(r)?"array":"string":typeof r,(i=Re[n])||Ce("Unknown property type for component `"+t+"`: "+n),s=!!e.parse,e.parse=e.parse||i.parse,e.stringify=e.stringify||i.stringify,e.type=n,"default"in e?s||Ee(n,r)||Ce("Default value `"+r+"` does not match type `"+n+"` in component `"+t+"`"):e.default=i.default,e}const Me=(Oe=[],function(e,t,s=!0,i=null,r=!0){var n,o,a,c;for(o in Oe.length=0,s?e:t)s&&void 0===e[o]||Oe.push(o);if(null===e||"object"!=typeof e)return e;for(o in e)try{void 0===e[o]||t[o]||r||Ce("Unknown property `"+o+"` for component/system `"+i+"`.")}catch(t){console.log(i,o,e[o])}for(n=0;n<Oe.length;n++){if(a=t[o=Oe[n]],c=e[o],!t[o])return;e[o]=xe(c,a)}return e});var Oe;function xe(e,t){return null!=e&&""!==e||(e=t.default,Array.isArray(e)&&(e=e.slice())),t.parse||console.log("No parse function for property type: ",t.type),t.parse(e,t.default)}var Ne={nbsp:" ",cent:"",pound:"",yen:"",euro:"",copy:"",reg:"",lt:"<",gt:">",quot:'"',amp:"&",apos:"'"},Le=/-([a-z])/g;const Ie=function(e,t){var s;return"string"!=typeof e?e:(s=function(e,t){var s,i,r,n,o,a;for(t=t||{},s=Ue(e),i=0;i<s.length;i++)(r=s[i])&&(n=r.indexOf(":"),o=r.substr(0,n).trim(),a=r.substr(n+1).trim(),t[o]=a);return t}(e,t),s[""]?e:Ye(s))},Je=function(e){return"string"==typeof e?e:function(e){var t,s=0,i=0,r="";for(t in e)s++;for(t in e)void 0!==e[t]&&("object"==typeof e[t]?r+=t+": "+JSON.stringify(e[t]):r+=t+": "+e[t],i<s-1&&(r+="; "),i++);return r}(e)};function De(e){return e.replace(Le,qe)}function Ye(e){var t,s;for(s in e)s!==(t=De(s))&&(e[t]=e[s],delete e[s]);return e}var je,ze,Fe,Ge,Ue=(je=[],ze=/url\([^)]+$/,function(e){var t,s="",i=0;for(e=e.replace(/\&([^;]+);/g,(function(e,t){var s;return t in Ne?Ne[t]:(s=t.match(/^#x([\da-fA-F]+)$/))?String.fromCharCode(parseInt(s[1],16)):(s=t.match(/^#(\d+)$/))?String.fromCharCode(~~s[1]):e})),je.length=0;i<e.length;)-1===(t=e.indexOf(";",i))&&(t=e.length),s+=e.substring(i,t),ze.test(s)?(s+=";",i=t+1):(je.push(s.trim()),s="",i=t+1);return je});function qe(e){return e[1].toUpperCase()}!function(e){e[e.BoxGeometry=0]="BoxGeometry",e[e.CircleGeometry=1]="CircleGeometry",e[e.ConeGeometry=2]="ConeGeometry",e[e.CylinderGeometry=3]="CylinderGeometry",e[e.PlaneGeometry=4]="PlaneGeometry",e[e.RingGeometry=5]="RingGeometry",e[e.SphereGeometry=6]="SphereGeometry",e[e.TorusGeometry=7]="TorusGeometry",e[e.TorusKnotGeometry=8]="TorusKnotGeometry",e[e.ParametricGeometry=9]="ParametricGeometry"}(Fe||(Fe={})),function(e){e[e.Klein=0]="Klein",e[e.Apple=1]="Apple",e[e.Fermet=2]="Fermet",e[e.Catenoid=3]="Catenoid",e[e.Helicoid=4]="Helicoid",e[e.Horn=5]="Horn",e[e.Mobius=6]="Mobius",e[e.Mobius3d=7]="Mobius3d",e[e.Natica=8]="Natica",e[e.Pillow=9]="Pillow",e[e.Scherk=10]="Scherk",e[e.Snail=11]="Snail",e[e.Spiral=12]="Spiral",e[e.Spring=13]="Spring",e[e.Custom=14]="Custom"}(Ge||(Ge={}));var Ve={update:null,begin:null,loopBegin:null,changeBegin:null,change:null,changeComplete:null,loopComplete:null,complete:null,loop:1,direction:"normal",autoplay:!0,timelineOffset:0},He={duration:1e3,delay:0,endDelay:0,easing:"easeOutElastic(1, .5)",round:0},We=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY","perspective","matrix","matrix3d"],Ke={CSS:{},springs:{}};function Ze(e,t,s){return Math.min(Math.max(e,t),s)}function Xe(e,t){return e.indexOf(t)>-1}function Qe(e,t){return e.apply(null,t)}var $e={arr:function(e){return Array.isArray(e)},obj:function(e){return Xe(Object.prototype.toString.call(e),"Object")},pth:function(e){return $e.obj(e)&&e.hasOwnProperty("totalLength")},svg:function(e){return e instanceof SVGElement},inp:function(e){return e instanceof HTMLInputElement},dom:function(e){return e.nodeType||$e.svg(e)},str:function(e){return"string"==typeof e},fnc:function(e){return"function"==typeof e},und:function(e){return void 0===e},nil:function(e){return $e.und(e)||null===e},hex:function(e){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e)},rgb:function(e){return/^rgb/.test(e)},hsl:function(e){return/^hsl/.test(e)},col:function(e){return $e.hex(e)||$e.rgb(e)||$e.hsl(e)},key:function(e){return!Ve.hasOwnProperty(e)&&!He.hasOwnProperty(e)&&"targets"!==e&&"keyframes"!==e}};function et(e){var t=/\(([^)]+)\)/.exec(e);return t?t[1].split(",").map((function(e){return parseFloat(e)})):[]}function tt(e,t){var s=et(e),i=Ze($e.und(s[0])?1:s[0],.1,100),r=Ze($e.und(s[1])?100:s[1],.1,100),n=Ze($e.und(s[2])?10:s[2],.1,100),o=Ze($e.und(s[3])?0:s[3],.1,100),a=Math.sqrt(r/i),c=n/(2*Math.sqrt(r*i)),l=c<1?a*Math.sqrt(1-c*c):0,u=c<1?(c*a-o)/l:-o+a;function h(e){var s=t?t*e/1e3:e;return s=c<1?Math.exp(-s*c*a)*(1*Math.cos(l*s)+u*Math.sin(l*s)):(1+u*s)*Math.exp(-s*a),0===e||1===e?e:1-s}return t?h:function(){var t=Ke.springs[e];if(t)return t;for(var s=1/6,i=0,r=0;;)if(1===h(i+=s)){if(++r>=16)break}else r=0;var n=i*s*1e3;return Ke.springs[e]=n,n}}function st(e){return void 0===e&&(e=10),function(t){return Math.ceil(Ze(t,1e-6,1)*e)*(1/e)}}var it,rt,nt=function(){var e=.1;function t(e,t){return 1-3*t+3*e}function s(e,t){return 3*t-6*e}function i(e){return 3*e}function r(e,r,n){return((t(r,n)*e+s(r,n))*e+i(r))*e}function n(e,r,n){return 3*t(r,n)*e*e+2*s(r,n)*e+i(r)}return function(t,s,i,o){if(0<=t&&t<=1&&0<=i&&i<=1){var a=new Float32Array(11);if(t!==s||i!==o)for(var c=0;c<11;++c)a[c]=r(c*e,t,i);return function(c){return t===s&&i===o||0===c||1===c?c:r(function(s){for(var o=0,c=1;10!==c&&a[c]<=s;++c)o+=e;--c;var l=o+(s-a[c])/(a[c+1]-a[c])*e,u=n(l,t,i);return u>=.001?function(e,t,s,i){for(var o=0;o<4;++o){var a=n(t,s,i);if(0===a)return t;t-=(r(t,s,i)-e)/a}return t}(s,l,t,i):0===u?l:function(e,t,s,i,n){var o,a,c=0;do{(o=r(a=t+(s-t)/2,i,n)-e)>0?s=a:t=a}while(Math.abs(o)>1e-7&&++c<10);return a}(s,o,o+e,t,i)}(c),s,o)}}}}(),ot=(it={linear:function(){return function(e){return e}}},rt={Sine:function(){return function(e){return 1-Math.cos(e*Math.PI/2)}},Expo:function(){return function(e){return e?Math.pow(2,10*e-10):0}},Circ:function(){return function(e){return 1-Math.sqrt(1-e*e)}},Back:function(){return function(e){return e*e*(3*e-2)}},Bounce:function(){return function(e){for(var t,s=4;e<((t=Math.pow(2,--s))-1)/11;);return 1/Math.pow(4,3-s)-7.5625*Math.pow((3*t-2)/22-e,2)}},Elastic:function(e,t){void 0===e&&(e=1),void 0===t&&(t=.5);var s=Ze(e,1,10),i=Ze(t,.1,2);return function(e){return 0===e||1===e?e:-s*Math.pow(2,10*(e-1))*Math.sin((e-1-i/(2*Math.PI)*Math.asin(1/s))*(2*Math.PI)/i)}}},["Quad","Cubic","Quart","Quint"].forEach((function(e,t){rt[e]=function(){return function(e){return Math.pow(e,t+2)}}})),Object.keys(rt).forEach((function(e){var t=rt[e];it["easeIn"+e]=t,it["easeOut"+e]=function(e,s){return function(i){return 1-t(e,s)(1-i)}},it["easeInOut"+e]=function(e,s){return function(i){return i<.5?t(e,s)(2*i)/2:1-t(e,s)(-2*i+2)/2}},it["easeOutIn"+e]=function(e,s){return function(i){return i<.5?(1-t(e,s)(1-2*i))/2:(t(e,s)(2*i-1)+1)/2}}})),it);function at(e,t){if($e.fnc(e))return e;var s=e.split("(")[0],i=ot[s],r=et(e);switch(s){case"spring":return tt(e,t);case"cubicBezier":return Qe(nt,r);case"steps":return Qe(st,r);default:return Qe(i,r)}}function ct(e){try{return document.querySelectorAll(e)}catch(e){return}}function lt(e,t){for(var s=e.length,i=arguments.length>=2?arguments[1]:void 0,r=[],n=0;n<s;n++)if(n in e){var o=e[n];t.call(i,o,n,e)&&r.push(o)}return r}function ut(e){return e.reduce((function(e,t){return e.concat($e.arr(t)?ut(t):t)}),[])}function ht(e){return $e.arr(e)?e:($e.str(e)&&(e=ct(e)||e),e instanceof NodeList||e instanceof HTMLCollection?[].slice.call(e):[e])}function dt(e,t){return e.some((function(e){return e===t}))}function pt(e){var t={};for(var s in e)t[s]=e[s];return t}function mt(e,t){var s=pt(e);for(var i in e)s[i]=t.hasOwnProperty(i)?t[i]:e[i];return s}function gt(e,t){var s=pt(e);for(var i in t)s[i]=$e.und(e[i])?t[i]:e[i];return s}function yt(e){var t=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(e);if(t)return t[1]}function bt(e,t){return $e.fnc(e)?e(t.target,t.id,t.total):e}function ft(e,t){return e.getAttribute(t)}function At(e,t,s){if(dt([s,"deg","rad","turn"],yt(t)))return t;var i=Ke.CSS[t+s];if(!$e.und(i))return i;var r=document.createElement(e.tagName),n=e.parentNode&&e.parentNode!==document?e.parentNode:document.body;n.appendChild(r),r.style.position="absolute",r.style.width=100+s;var o=100/r.offsetWidth;n.removeChild(r);var a=o*parseFloat(t);return Ke.CSS[t+s]=a,a}function vt(e,t,s){if(t in e.style){var i=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),r=e.style[t]||getComputedStyle(e).getPropertyValue(i)||"0";return s?At(e,r,s):r}}function _t(e,t){return $e.dom(e)&&!$e.inp(e)&&(!$e.nil(ft(e,t))||$e.svg(e)&&e[t])?"attribute":$e.dom(e)&&dt(We,t)?"transform":$e.dom(e)&&"transform"!==t&&vt(e,t)?"css":null!=e[t]?"object":void 0}function kt(e){if($e.dom(e)){for(var t,s=e.style.transform||"",i=/(\w+)\(([^)]*)\)/g,r=new Map;t=i.exec(s);)r.set(t[1],t[2]);return r}}function St(e,t,s,i){switch(_t(e,t)){case"transform":return function(e,t,s,i){var r=Xe(t,"scale")?1:0+function(e){return Xe(e,"translate")||"perspective"===e?"px":Xe(e,"rotate")||Xe(e,"skew")?"deg":void 0}(t),n=kt(e).get(t)||r;return s&&(s.transforms.list.set(t,n),s.transforms.last=t),i?At(e,n,i):n}(e,t,i,s);case"css":return vt(e,t,s);case"attribute":return ft(e,t);default:return e[t]||0}}function wt(e,t){var s=/^(\*=|\+=|-=)/.exec(e);if(!s)return e;var i=yt(e)||0,r=parseFloat(t),n=parseFloat(e.replace(s[0],""));switch(s[0][0]){case"+":return r+n+i;case"-":return r-n+i;case"*":return r*n+i}}function Et(e,t){if($e.col(e))return function(e){return $e.rgb(e)?(s=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(t=e))?"rgba("+s[1]+",1)":t:$e.hex(e)?function(e){var t=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(e,t,s,i){return t+t+s+s+i+i})),s=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return"rgba("+parseInt(s[1],16)+","+parseInt(s[2],16)+","+parseInt(s[3],16)+",1)"}(e):$e.hsl(e)?function(e){var t,s,i,r=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(e)||/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(e),n=parseInt(r[1],10)/360,o=parseInt(r[2],10)/100,a=parseInt(r[3],10)/100,c=r[4]||1;function l(e,t,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?e+6*(t-e)*s:s<.5?t:s<2/3?e+(t-e)*(2/3-s)*6:e}if(0==o)t=s=i=a;else{var u=a<.5?a*(1+o):a+o-a*o,h=2*a-u;t=l(h,u,n+1/3),s=l(h,u,n),i=l(h,u,n-1/3)}return"rgba("+255*t+","+255*s+","+255*i+","+c+")"}(e):void 0;var t,s}(e);if(/\s/g.test(e))return e;var s=yt(e),i=s?e.substr(0,e.length-s.length):e;return t?i+t:i}function Rt(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function Ct(e){for(var t,s=e.points,i=0,r=0;r<s.numberOfItems;r++){var n=s.getItem(r);r>0&&(i+=Rt(t,n)),t=n}return i}function Bt(e){if(e.getTotalLength)return e.getTotalLength();switch(e.tagName.toLowerCase()){case"circle":return function(e){return 2*Math.PI*ft(e,"r")}(e);case"rect":return function(e){return 2*ft(e,"width")+2*ft(e,"height")}(e);case"line":return function(e){return Rt({x:ft(e,"x1"),y:ft(e,"y1")},{x:ft(e,"x2"),y:ft(e,"y2")})}(e);case"polyline":return Ct(e);case"polygon":return function(e){var t=e.points;return Ct(e)+Rt(t.getItem(t.numberOfItems-1),t.getItem(0))}(e)}}function Pt(e,t){var s=t||{},i=s.el||function(e){for(var t=e.parentNode;$e.svg(t)&&$e.svg(t.parentNode);)t=t.parentNode;return t}(e),r=i.getBoundingClientRect(),n=ft(i,"viewBox"),o=r.width,a=r.height,c=s.viewBox||(n?n.split(" "):[0,0,o,a]);return{el:i,viewBox:c,x:c[0]/1,y:c[1]/1,w:o,h:a,vW:c[2],vH:c[3]}}function Tt(e,t,s){function i(s){void 0===s&&(s=0);var i=t+s>=1?t+s:0;return e.el.getPointAtLength(i)}var r=Pt(e.el,e.svg),n=i(),o=i(-1),a=i(1),c=s?1:r.w/r.vW,l=s?1:r.h/r.vH;switch(e.property){case"x":return(n.x-r.x)*c;case"y":return(n.y-r.y)*l;case"angle":return 180*Math.atan2(a.y-o.y,a.x-o.x)/Math.PI}}function Mt(e,t){var s=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?/g,i=Et($e.pth(e)?e.totalLength:e,t)+"";return{original:i,numbers:i.match(s)?i.match(s).map(Number):[0],strings:$e.str(e)||t?i.split(s):[]}}function Ot(e){return lt(e?ut($e.arr(e)?e.map(ht):ht(e)):[],(function(e,t,s){return s.indexOf(e)===t}))}function xt(e){var t=Ot(e);return t.map((function(e,s){return{target:e,id:s,total:t.length,transforms:{list:kt(e)}}}))}function Nt(e,t){var s=pt(t);if(/^spring/.test(s.easing)&&(s.duration=tt(s.easing)),$e.arr(e)){var i=e.length;2!==i||$e.obj(e[0])?$e.fnc(t.duration)||(s.duration=t.duration/i):e={value:e}}var r=$e.arr(e)?e:[e];return r.map((function(e,s){var i=$e.obj(e)&&!$e.pth(e)?e:{value:e};return $e.und(i.delay)&&(i.delay=s?0:t.delay),$e.und(i.endDelay)&&(i.endDelay=s===r.length-1?t.endDelay:0),i})).map((function(e){return gt(e,s)}))}var Lt={css:function(e,t,s){return e.style[t]=s},attribute:function(e,t,s){return e.setAttribute(t,s)},object:function(e,t,s){return e[t]=s},transform:function(e,t,s,i,r){if(i.list.set(t,s),t===i.last||r){var n="";i.list.forEach((function(e,t){n+=t+"("+e+") "})),e.style.transform=n}}};function It(e,t){xt(e).forEach((function(e){for(var s in t){var i=bt(t[s],e),r=e.target,n=yt(i),o=St(r,s,n,e),a=wt(Et(i,n||yt(o)),o),c=_t(r,s);Lt[c](r,s,a,e.transforms,!0)}}))}function Jt(e,t){return lt(ut(e.map((function(e){return t.map((function(t){return function(e,t){var s=_t(e.target,t.name);if(s){var i=function(e,t){var s;return e.tweens.map((function(i){var r=function(e,t){var s={};for(var i in e){var r=bt(e[i],t);$e.arr(r)&&1===(r=r.map((function(e){return bt(e,t)}))).length&&(r=r[0]),s[i]=r}return s.duration=parseFloat(s.duration),s.delay=parseFloat(s.delay),s}(i,t),n=r.value,o=$e.arr(n)?n[1]:n,a=yt(o),c=St(t.target,e.name,a,t),l=s?s.to.original:c,u=$e.arr(n)?n[0]:l,h=yt(u)||yt(c),d=a||h;return $e.und(o)&&(o=l),r.from=Mt(u,d),r.to=Mt(wt(o,u),d),r.start=s?s.end:0,r.end=r.start+r.delay+r.duration+r.endDelay,r.easing=at(r.easing,r.duration),r.isPath=$e.pth(n),r.isPathTargetInsideSVG=r.isPath&&$e.svg(t.target),r.isColor=$e.col(r.from.original),r.isColor&&(r.round=1),s=r,r}))}(t,e),r=i[i.length-1];return{type:s,property:t.name,animatable:e,tweens:i,duration:r.end,delay:i[0].delay,endDelay:r.endDelay}}}(e,t)}))}))),(function(e){return!$e.und(e)}))}function Dt(e,t){var s=e.length,i=function(e){return e.timelineOffset?e.timelineOffset:0},r={};return r.duration=s?Math.max.apply(Math,e.map((function(e){return i(e)+e.duration}))):t.duration,r.delay=s?Math.min.apply(Math,e.map((function(e){return i(e)+e.delay}))):t.delay,r.endDelay=s?r.duration-Math.max.apply(Math,e.map((function(e){return i(e)+e.duration-e.endDelay}))):t.endDelay,r}var Yt=0,jt=[],zt=function(){var e;function t(s){for(var i=jt.length,r=0;r<i;){var n=jt[r];n.paused?(jt.splice(r,1),i--):(n.tick(s),r++)}e=r>0?requestAnimationFrame(t):void 0}return"undefined"!=typeof document&&document.addEventListener("visibilitychange",(function(){Gt.suspendWhenDocumentHidden&&(Ft()?e=cancelAnimationFrame(e):(jt.forEach((function(e){return e._onDocumentVisibility()})),zt()))})),function(){e||Ft()&&Gt.suspendWhenDocumentHidden||!(jt.length>0)||(e=requestAnimationFrame(t))}}();function Ft(){return!!document&&document.hidden}function Gt(e){void 0===e&&(e={});var t,s=0,i=0,r=0,n=0,o=null;function a(e){var t=window.Promise&&new Promise((function(e){return o=e}));return e.finished=t,t}var c=function(e){var t=mt(Ve,e),s=mt(He,e),i=function(e,t){var s=[],i=t.keyframes;for(var r in i&&(t=gt(function(e){for(var t=lt(ut(e.map((function(e){return Object.keys(e)}))),(function(e){return $e.key(e)})).reduce((function(e,t){return e.indexOf(t)<0&&e.push(t),e}),[]),s={},i=function(i){var r=t[i];s[r]=e.map((function(e){var t={};for(var s in e)$e.key(s)?s==r&&(t.value=e[s]):t[s]=e[s];return t}))},r=0;r<t.length;r++)i(r);return s}(i),t)),t)$e.key(r)&&s.push({name:r,tweens:Nt(t[r],e)});return s}(s,e),r=xt(e.targets),n=Jt(r,i),o=Dt(n,s),a=Yt;return Yt++,gt(t,{id:a,children:[],animatables:r,animations:n,duration:o.duration,delay:o.delay,endDelay:o.endDelay})}(e);function l(){var e=c.direction;"alternate"!==e&&(c.direction="normal"!==e?"normal":"reverse"),c.reversed=!c.reversed,t.forEach((function(e){return e.reversed=c.reversed}))}function u(e){return c.reversed?c.duration-e:e}function h(){s=0,i=u(c.currentTime)*(1/Gt.speed)}function d(e,t){t&&t.seek(e-t.timelineOffset)}function p(e){for(var t=0,s=c.animations,i=s.length;t<i;){var r=s[t],n=r.animatable,o=r.tweens,a=o.length-1,l=o[a];a&&(l=lt(o,(function(t){return e<t.end}))[0]||l);for(var u=Ze(e-l.start-l.delay,0,l.duration)/l.duration,h=isNaN(u)?1:l.easing(u),d=l.to.strings,p=l.round,m=[],g=l.to.numbers.length,y=void 0,b=0;b<g;b++){var f=void 0,A=l.to.numbers[b],v=l.from.numbers[b]||0;f=l.isPath?Tt(l.value,h*A,l.isPathTargetInsideSVG):v+h*(A-v),p&&(l.isColor&&b>2||(f=Math.round(f*p)/p)),m.push(f)}var _=d.length;if(_){y=d[0];for(var k=0;k<_;k++){d[k];var S=d[k+1],w=m[k];isNaN(w)||(y+=S?w+S:w+" ")}}else y=m[0];Lt[r.type](n.target,r.property,y,n.transforms),r.currentValue=y,t++}}function m(e){c[e]&&!c.passThrough&&c[e](c)}function g(e){var h=c.duration,g=c.delay,y=h-c.endDelay,b=u(e);c.progress=Ze(b/h*100,0,100),c.reversePlayback=b<c.currentTime,t&&function(e){if(c.reversePlayback)for(var s=n;s--;)d(e,t[s]);else for(var i=0;i<n;i++)d(e,t[i])}(b),!c.began&&c.currentTime>0&&(c.began=!0,m("begin")),!c.loopBegan&&c.currentTime>0&&(c.loopBegan=!0,m("loopBegin")),b<=g&&0!==c.currentTime&&p(0),(b>=y&&c.currentTime!==h||!h)&&p(h),b>g&&b<y?(c.changeBegan||(c.changeBegan=!0,c.changeCompleted=!1,m("changeBegin")),m("change"),p(b)):c.changeBegan&&(c.changeCompleted=!0,c.changeBegan=!1,m("changeComplete")),c.currentTime=Ze(b,0,h),c.began&&m("update"),e>=h&&(i=0,c.remaining&&!0!==c.remaining&&c.remaining--,c.remaining?(s=r,m("loopComplete"),c.loopBegan=!1,"alternate"===c.direction&&l()):(c.paused=!0,c.completed||(c.completed=!0,m("loopComplete"),m("complete"),!c.passThrough&&"Promise"in window&&(o(),a(c)))))}return a(c),c.reset=function(){var e=c.direction;c.passThrough=!1,c.currentTime=0,c.progress=0,c.paused=!0,c.began=!1,c.loopBegan=!1,c.changeBegan=!1,c.completed=!1,c.changeCompleted=!1,c.reversePlayback=!1,c.reversed="reverse"===e,c.remaining=c.loop,t=c.children;for(var s=n=t.length;s--;)c.children[s].reset();(c.reversed&&!0!==c.loop||"alternate"===e&&1===c.loop)&&c.remaining++,p(c.reversed?c.duration:0)},c._onDocumentVisibility=h,c.set=function(e,t){return It(e,t),c},c.tick=function(e){r=e,s||(s=r),g((r+(i-s))*Gt.speed)},c.seek=function(e){g(u(e))},c.pause=function(){c.paused=!0,h()},c.play=function(){c.paused&&(c.completed&&c.reset(),c.paused=!1,jt.push(c),h(),zt())},c.reverse=function(){l(),c.completed=!c.reversed,h()},c.restart=function(){c.reset(),c.play()},c.remove=function(e){qt(Ot(e),c)},c.reset(),c.autoplay&&c.play(),c}function Ut(e,t){for(var s=t.length;s--;)dt(e,t[s].animatable.target)&&t.splice(s,1)}function qt(e,t){var s=t.animations,i=t.children;Ut(e,s);for(var r=i.length;r--;){var n=i[r],o=n.animations;Ut(e,o),o.length||n.children.length||i.splice(r,1)}s.length||i.length||t.pause()}Gt.version="3.2.1",Gt.speed=1,Gt.suspendWhenDocumentHidden=!0,Gt.running=jt,Gt.remove=function(e){for(var t=Ot(e),s=jt.length;s--;)qt(t,jt[s])},Gt.get=St,Gt.set=It,Gt.convertPx=At,Gt.path=function(e,t){var s=$e.str(e)?ct(e)[0]:e,i=t||100;return function(e){return{property:e,el:s,svg:Pt(s),totalLength:Bt(s)*(i/100)}}},Gt.setDashoffset=function(e){var t=Bt(e);return e.setAttribute("stroke-dasharray",t),t},Gt.stagger=function(e,t){void 0===t&&(t={});var s=t.direction||"normal",i=t.easing?at(t.easing):null,r=t.grid,n=t.axis,o=t.from||0,a="first"===o,c="center"===o,l="last"===o,u=$e.arr(e),h=u?parseFloat(e[0]):parseFloat(e),d=u?parseFloat(e[1]):0,p=yt(u?e[1]:e)||0,m=t.start||0+(u?h:0),g=[],y=0;return function(e,t,b){if(a&&(o=0),c&&(o=(b-1)/2),l&&(o=b-1),!g.length){for(var f=0;f<b;f++){if(r){var A=c?(r[0]-1)/2:o%r[0],v=c?(r[1]-1)/2:Math.floor(o/r[0]),_=A-f%r[0],k=v-Math.floor(f/r[0]),S=Math.sqrt(_*_+k*k);"x"===n&&(S=-_),"y"===n&&(S=-k),g.push(S)}else g.push(Math.abs(o-f));y=Math.max.apply(Math,g)}i&&(g=g.map((function(e){return i(e/y)*y}))),"reverse"===s&&(g=g.map((function(e){return n?e<0?-1*e:-e:Math.abs(y-e)})))}return m+(u?(d-h)/y:h)*(Math.round(100*g[t])/100)+p}},Gt.timeline=function(e){void 0===e&&(e={});var t=Gt(e);return t.duration=0,t.add=function(s,i){var r=jt.indexOf(t),n=t.children;function o(e){e.passThrough=!0}r>-1&&jt.splice(r,1);for(var a=0;a<n.length;a++)o(n[a]);var c=gt(s,mt(He,e));c.targets=c.targets||e.targets;var l=t.duration;c.autoplay=!1,c.direction=t.direction,c.timelineOffset=$e.und(i)?l:wt(i,l),o(t),t.seek(c.timelineOffset);var u=Gt(c);o(u),n.push(u);var h=Dt(n,e);return t.delay=h.delay,t.endDelay=h.endDelay,t.duration=h.duration,t.seek(0),t.reset(),t.autoplay&&t.play(),t},t},Gt.easing=at,Gt.penner=ot,Gt.random=function(e,t){return Math.floor(Math.random()*(t-e+1))+e};const Vt=Gt,Ht="srgb",Wt="srgb-linear",Kt="display-p3-linear",Zt="linear",Xt="srgb",Qt="rec709";class $t{constructor(e,t,s,i,r,n,o,a,c){this.elements=[1,0,0,0,1,0,0,0,1],void 0!==e&&this.set(e,t,s,i,r,n,o,a,c)}set(e,t,s,i,r,n,o,a,c){const l=this.elements;return l[0]=e,l[1]=i,l[2]=o,l[3]=t,l[4]=r,l[5]=a,l[6]=s,l[7]=n,l[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,s=e.elements;return t[0]=s[0],t[1]=s[1],t[2]=s[2],t[3]=s[3],t[4]=s[4],t[5]=s[5],t[6]=s[6],t[7]=s[7],t[8]=s[8],this}extractBasis(e,t,s){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),s.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const s=e.elements,i=t.elements,r=this.elements,n=s[0],o=s[3],a=s[6],c=s[1],l=s[4],u=s[7],h=s[2],d=s[5],p=s[8],m=i[0],g=i[3],y=i[6],b=i[1],f=i[4],A=i[7],v=i[2],_=i[5],k=i[8];return r[0]=n*m+o*b+a*v,r[3]=n*g+o*f+a*_,r[6]=n*y+o*A+a*k,r[1]=c*m+l*b+u*v,r[4]=c*g+l*f+u*_,r[7]=c*y+l*A+u*k,r[2]=h*m+d*b+p*v,r[5]=h*g+d*f+p*_,r[8]=h*y+d*A+p*k,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],s=e[1],i=e[2],r=e[3],n=e[4],o=e[5],a=e[6],c=e[7],l=e[8];return t*n*l-t*o*c-s*r*l+s*o*a+i*r*c-i*n*a}invert(){const e=this.elements,t=e[0],s=e[1],i=e[2],r=e[3],n=e[4],o=e[5],a=e[6],c=e[7],l=e[8],u=l*n-o*c,h=o*a-l*r,d=c*r-n*a,p=t*u+s*h+i*d;if(0===p)return this.set(0,0,0,0,0,0,0,0,0);const m=1/p;return e[0]=u*m,e[1]=(i*c-l*s)*m,e[2]=(o*s-i*n)*m,e[3]=h*m,e[4]=(l*t-i*a)*m,e[5]=(i*r-o*t)*m,e[6]=d*m,e[7]=(s*a-c*t)*m,e[8]=(n*t-s*r)*m,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,s,i,r,n,o){const a=Math.cos(r),c=Math.sin(r);return this.set(s*a,s*c,-s*(a*n+c*o)+n+e,-i*c,i*a,-i*(-c*n+a*o)+o+t,0,0,1),this}scale(e,t){return this.premultiply(es.makeScale(e,t)),this}rotate(e){return this.premultiply(es.makeRotation(-e)),this}translate(e,t){return this.premultiply(es.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),s=Math.sin(e);return this.set(t,-s,0,s,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,s=e.elements;for(let e=0;e<9;e++)if(t[e]!==s[e])return!1;return!0}fromArray(e,t=0){for(let s=0;s<9;s++)this.elements[s]=e[s+t];return this}toArray(e=[],t=0){const s=this.elements;return e[t]=s[0],e[t+1]=s[1],e[t+2]=s[2],e[t+3]=s[3],e[t+4]=s[4],e[t+5]=s[5],e[t+6]=s[6],e[t+7]=s[7],e[t+8]=s[8],e}}const es=new $t,ts=(new $t).set(.8224621,.177538,0,.0331941,.9668058,0,.0170827,.0723974,.9105199),ss=(new $t).set(1.2249401,-.2249404,0,-.0420569,1.0420571,0,-.0196376,-.0786361,1.0982735),is={[Wt]:{transfer:Zt,primaries:Qt,toReference:e=>e,fromReference:e=>e},[Ht]:{transfer:Xt,primaries:Qt,toReference:e=>e.convertSRGBToLinear(),fromReference:e=>e.convertLinearToSRGB()},[Kt]:{transfer:Zt,primaries:"p3",toReference:e=>e.applyMatrix3(ss),fromReference:e=>e.applyMatrix3(ts)},"display-p3":{transfer:Xt,primaries:"p3",toReference:e=>e.convertSRGBToLinear().applyMatrix3(ss),fromReference:e=>e.applyMatrix3(ts).convertLinearToSRGB()}},rs=new Set([Wt,Kt]),ns={enabled:!0,_workingColorSpace:Wt,get workingColorSpace(){return this._workingColorSpace},set workingColorSpace(e){if(!rs.has(e))throw new Error(`Unsupported working color space, "${e}".`);this._workingColorSpace=e},convert:function(e,t,s){if(!1===this.enabled||t===s||!t||!s)return e;const i=is[t].toReference;return(0,is[s].fromReference)(i(e))},fromWorkingColorSpace:function(e,t){return this.convert(e,this._workingColorSpace,t)},toWorkingColorSpace:function(e,t){return this.convert(e,t,this._workingColorSpace)},getPrimaries:function(e){return is[e].primaries},getTransfer:function(e){return""===e?Zt:is[e].transfer}};function os(e){return e<.04045?.0773993808*e:Math.pow(.9478672986*e+.0521327014,2.4)}function as(e){return e<.0031308?12.92*e:1.055*Math.pow(e,.41666)-.055}function cs(e,t,s){return Math.max(t,Math.min(s,e))}function ls(e,t,s){return(1-s)*e+s*t}const us={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},hs={h:0,s:0,l:0},ds={h:0,s:0,l:0};function ps(e,t,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?e+6*(t-e)*s:s<.5?t:s<2/3?e+6*(t-e)*(2/3-s):e}class ms{constructor(e,t,s){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,s)}set(e,t,s){if(void 0===t&&void 0===s){const t=e;t&&t.isColor?this.copy(t):"number"==typeof t?this.setHex(t):"string"==typeof t&&this.setStyle(t)}else this.setRGB(e,t,s);return this}asVector4(e=1){return new J(this.r,this.g,this.b,e)}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=Wt){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,ns.toWorkingColorSpace(this,t),this}setRGB(e,t,s,i=ns.workingColorSpace){return this.r=e,this.g=t,this.b=s,ns.toWorkingColorSpace(this,i),this}setHSL(e,t,s,i=ns.workingColorSpace){if(e=(e%1+1)%1,t=cs(t,0,1),s=cs(s,0,1),0===t)this.r=this.g=this.b=s;else{const i=s<=.5?s*(1+t):s+t-s*t,r=2*s-i;this.r=ps(r,i,e+1/3),this.g=ps(r,i,e),this.b=ps(r,i,e-1/3)}return ns.toWorkingColorSpace(this,i),this}setStyle(e,t=Wt){function s(t){void 0!==t&&parseFloat(t)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^(\w+)\(([^\)]*)\)/.exec(e)){let r;const n=i[1],o=i[2];switch(n){case"rgb":case"rgba":if(r=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return s(r[4]),this.setRGB(Math.min(255,parseInt(r[1],10))/255,Math.min(255,parseInt(r[2],10))/255,Math.min(255,parseInt(r[3],10))/255,t);if(r=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return s(r[4]),this.setRGB(Math.min(100,parseInt(r[1],10))/100,Math.min(100,parseInt(r[2],10))/100,Math.min(100,parseInt(r[3],10))/100,t);break;case"hsl":case"hsla":if(r=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return s(r[4]),this.setHSL(parseFloat(r[1])/360,parseFloat(r[2])/100,parseFloat(r[3])/100,t);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=i[1],r=s.length;if(3===r)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,t);if(6===r)return this.setHex(parseInt(s,16),t);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=Wt){const s=us[e.toLowerCase()];return void 0!==s?this.setHex(s,t):console.warn("THREE.Color: Unknown color "+e),this}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=os(e.r),this.g=os(e.g),this.b=os(e.b),this}copyLinearToSRGB(e){return this.r=as(e.r),this.g=as(e.g),this.b=as(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Wt){return ns.fromWorkingColorSpace(gs.copy(this),e),65536*Math.round(cs(255*gs.r,0,255))+256*Math.round(cs(255*gs.g,0,255))+Math.round(cs(255*gs.b,0,255))}getHexString(e=Wt){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=ns.workingColorSpace){ns.fromWorkingColorSpace(gs.copy(this),t);const s=gs.r,i=gs.g,r=gs.b,n=Math.max(s,i,r),o=Math.min(s,i,r);let a,c;const l=(o+n)/2;if(o===n)a=0,c=0;else{const e=n-o;switch(c=l<=.5?e/(n+o):e/(2-n-o),n){case s:a=(i-r)/e+(i<r?6:0);break;case i:a=(r-s)/e+2;break;case r:a=(s-i)/e+4}a/=6}return e.h=a,e.s=c,e.l=l,e}getRGB(e,t=ns.workingColorSpace){return ns.fromWorkingColorSpace(gs.copy(this),t),e.r=gs.r,e.g=gs.g,e.b=gs.b,e}getStyle(e=Wt){ns.fromWorkingColorSpace(gs.copy(this),e);const t=gs.r,s=gs.g,i=gs.b;return e!==Ht?`color(${e} ${t.toFixed(3)} ${s.toFixed(3)} ${i.toFixed(3)})`:`rgb(${Math.round(255*t)},${Math.round(255*s)},${Math.round(255*i)})`}offsetHSL(e,t,s){return this.getHSL(hs),this.setHSL(hs.h+e,hs.s+t,hs.l+s)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,s){return this.r=e.r+(t.r-e.r)*s,this.g=e.g+(t.g-e.g)*s,this.b=e.b+(t.b-e.b)*s,this}lerpHSL(e,t){this.getHSL(hs),e.getHSL(ds);const s=ls(hs.h,ds.h,t),i=ls(hs.s,ds.s,t),r=ls(hs.l,ds.l,t);return this.setHSL(s,i,r),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,s=this.g,i=this.b,r=e.elements;return this.r=r[0]*t+r[3]*s+r[6]*i,this.g=r[1]*t+r[4]*s+r[7]*i,this.b=r[2]*t+r[5]*s+r[8]*i,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const gs=new ms;var ys,bs;!function(e){e[e.Left=0]="Left",e[e.Center=1]="Center",e[e.Right=2]="Right"}(ys||(ys={})),function(e){e[e.Top=0]="Top",e[e.Center=1]="Center",e[e.Bottom=2]="Bottom"}(bs||(bs={}));var fs=function(e,t,s,i){return new(s||(s=Promise))((function(r,n){function o(e){try{c(i.next(e))}catch(e){n(e)}}function a(e){try{c(i.throw(e))}catch(e){n(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(o,a)}c((i=i.apply(e,t||[])).next())}))};const As=window;function vs(){return As.isQuaternionPose=!!As.userpose&&1===As.userpose[As.userpose.length-1]}var _s,ks,Ss;!function(e){e[e.Front=0]="Front",e[e.Back=1]="Back",e[e.Double=2]="Double"}(_s||(_s={})),function(e){e[e.Discrete=0]="Discrete",e[e.Continuous=1]="Continuous",e[e.ContinuousDynamic=2]="ContinuousDynamic",e[e.ContinuousSpeculative=3]="ContinuousSpeculative"}(ks||(ks={})),function(e){e[e.HEAD=0]="HEAD",e[e.BODY=1]="BODY",e[e.LEFT_HAND=2]="LEFT_HAND",e[e.RIGHT_HAND=3]="RIGHT_HAND",e[e.COCKPIT=4]="COCKPIT"}(Ss||(Ss={}));var ws=function(e,t,s,i){return new(s||(s=Promise))((function(r,n){function o(e){try{c(i.next(e))}catch(e){n(e)}}function a(e){try{c(i.throw(e))}catch(e){n(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(o,a)}c((i=i.apply(e,t||[])).next())}))};const Es="a-scene",Rs={box:Fe.BoxGeometry,circle:Fe.CircleGeometry,cone:Fe.ConeGeometry,cylinder:Fe.CylinderGeometry,plane:Fe.PlaneGeometry,ring:Fe.RingGeometry,sphere:Fe.SphereGeometry,torus:Fe.TorusGeometry,"torus-knot":Fe.TorusKnotGeometry,parametric:Fe.ParametricGeometry},Cs={apple:Ge.Apple,catenoid:Ge.Catenoid,custom:Ge.Custom,fermet:Ge.Fermet,helicoid:Ge.Helicoid,horn:Ge.Horn,mobius:Ge.Mobius,"mobius-3d":Ge.Mobius3d,natica:Ge.Natica,pillow:Ge.Pillow,scherk:Ge.Scherk,snail:Ge.Snail,spiral:Ge.Spiral,spring:Ge.Spring},Bs=new ue,Ps=window;class Ts extends HTMLElement{constructor(){super(...arguments),this.hasLoaded=!1,this.isNode=!0,this.readyToTrigger=!1,this.hasRun=!1,this.evtData={},this.components={},this.pendingAttributes={},this.gltfLoaded=!1,this.animations=[],this.hasEnabledTransformWatch=!1,this.unityReady=!1,this.colorOverrides=[]}getObject3D(){return this.object3D}get object3D(){const e=this;return e.gameObject&&!e.gameObject.meta._legacy&&(e.gameObject.meta._legacy={set parametric(t){var s=JSON.stringify({points:t.points});e.geometry?(e.geometry.geometryType=Fe.ParametricGeometry,e.geometry.parametricType=Ge.Custom,e.geometry.parametricPoints=s,e.geometry.stacks=t.stacks,e.geometry.slices=t.slices):(e.geometry=new x(Fe.ParametricGeometry,Ge.Custom,0,0,0,0,0,0,0,0,0,0,0,0,0,!1,0,0,0,0,0,0,0,0,0,0,0,t.stacks,t.slices,0,s),e.gameObject.AddComponent(e.geometry).then((()=>e.setupMaterialAfterGeometry())))}}),{get position(){let t=e.transform?new C(1,1,-1).MultiplyVectors(e.transform.localPosition):new C;return t.set=function(t,s,i){e.transform.localPosition=new C(t,s,-i)},t},get scale(){let t=e.transform?e.transform.localScale:new C;return t.set=function(t,s,i){e.transform.localScale=new C(t,s,i)},t},get rotation(){let t=e.transform?new C(-1,-1,1).MultiplyVectors(e.transform.localEulerAngles):new C;return t.set=function(t,s,i){e.transform.localEulerAngles=new C(-t*W,-s*W,i*W)},t},get quaternion(){let t=e.transform?(new K).SetFromEuler(new C(-e.transform.localEulerAngles.x,-e.transform.localEulerAngles.y,e.transform.localEulerAngles.z)):new J;return t.set=function(t,s,i,r){e.transform.localRotation=new K(-t,-s,i,r)},t},visible:!e.gameObject||e.gameObject.active,id:e.gameObject?e.gameObject.id:"",get userData(){return e.gameObject?e.gameObject.meta._legacy:null},get children(){return[e.object3D]},getWorldPosition:t=>{var s=new C;if(e.watchEulerAndPosition(),e.transform&&(s=new C(1,1,-1).MultiplyVectors(e.transform.position)),!t)return s;t.set(s.x,s.y,s.z)},getWorldQuaternion:t=>{let s=new K;if(e.watchEulerAndPosition(),e.transform&&(s=(new K).SetFromEuler(new C(-e.transform.eulerAngles.x,-e.transform.eulerAngles.y,e.transform.eulerAngles.z))),!t)return s;t.set(s.x,s.y,s.z,s.w)},remove(){e.parentElement.removeChild(e)}}}watchEulerAndPosition(){this.gameObject&&!this.hasEnabledTransformWatch&&(this.hasEnabledTransformWatch=!0,this.transform.WatchProperties([a.eulerAngles,a.position]))}onReadyStateChange(){"complete"===document.readyState&&this.doConnectedCallback()}connectedCallback(){"complete"===document.readyState?this.doConnectedCallback():document.addEventListener("readystatechange",this.onReadyStateChange.bind(this))}doConnectedCallback(){return ws(this,void 0,void 0,(function*(){this.tagName.toLocaleLowerCase()===Es&&function(){fs(this,void 0,void 0,(function*(){const e=ke.getInstance(),s=s=>e.objects[s].GetComponent(t.BanterRigidbody);As.banter={movePlayer:(t,s)=>e.TeleportTo(new C(t.x,t.y,t.z),0,s),openPage:t=>e.OpenPage(t),setChildColor:(t,s,i)=>e.LegacySetChildColor(e.objects[t],new C(i.r,i.g,i.b),s),setText:(s,i,r)=>e.objects[s].GetComponent(t.BanterText).text=i,lockPlayer:()=>e.LegacyLockPlayer(),unlockPlayer:()=>e.LegacyUnlockPlayer(),sitPlayer:t=>e.LegacySitPlayer(e.objects[t]),unsitPlayer:()=>e.LegacyUnsitPlayer(),gorillaPlayer:()=>e.LegacyGorillaPlayer(),ungorillaPlayer:()=>e.LegacyUngorillaPlayer(),startSTT:t=>e.StartTTS(t),stopSTT:t=>e.StopTTS(t),enableControllerExtras:()=>e.LegacyEnableControllerExtras(),enableQuaternionPose:()=>e.LegacyEnableQuaternionPose(),setVisible:(t,s)=>fs(this,void 0,void 0,(function*(){return e.objects[s].SetActive(t)})),addForce:(e,t,i)=>{let n=r.Force;switch(t){case"force":n=r.Force;break;case"impulse":n=r.Impulse;break;case"acceleration":n=r.Acceleration;break;case"velocitychange":n=r.VelocityChange}return s(i).AddForce(new C(e.x,e.y,e.z),n)},rigidBodySetKinematic:(e,t)=>setTimeout((()=>s(t).isKinematic=e),100),addExplosionForce:(e,t,i,n)=>s(n).AddExplosionForce(e,new C(t.x,t.y,-t.z),i,0,r.Force),movePosition:(e,t)=>{s(t).MovePosition(new C(e.x||0,e.y||0,-e.z||0))},moveRotation:(e,t)=>{const i=s(t);if(i){const t=new C(-e.x||0,-e.y||0,e.z||0),s=(new K).SetFromEuler(t);i.MoveRotation(s)}},timeScale:t=>e.TimeScale(t),gravity:t=>e.Gravity(t),playerSpeed:t=>e.PlayerSpeed(t),deeplink:(t,s)=>e.DeepLink(t,s),setVideoUrl:(t,s)=>e.LegacySetVideoUrl(e.objects[t],s),generateParametric:(e,t,s)=>{for(var i=[],r=0;r<=t;r++)for(var n=r/t,o=0;o<=e;o++){var a=s(o/e,n);i.push(a)}return i},sendMenuBrowserMessage:t=>e.SendBrowserMessage(t),setRefreshRate:t=>e.LegacySetRefreshRate(t),sendAframeEvent:(t,s,i)=>e.LegacySendAframeEvent(t,s,i),playAvatar:(t,s,i,r)=>e.LegacyPlayAvatar(e.objects[t],s,i,r),requestOwnership:t=>e.LegacyRequestOwnership(t),doIOwn:t=>e.LegacyDoIOwn(t),resetNetworkObject:t=>e.LegacyResetNetworkObject(t),oneShot:(t,s)=>t?e.OneShot(JSON.stringify(t),s||!1):null,setPublicSpaceProp:(t,s)=>{const i={};i[t]=s,e.SetPublicSpaceProps(i)},setProtectedSpaceProp:(t,s)=>{const i={};i[t]=s,e.SetProtectedSpaceProps(i)},rigidBodySleep:e=>{const t=s(e);t&&(t.velocity=new C(0,0,0),t.Sleep())}},As.userinputs={head:{position:{get x(){return As.userpose?As.userpose[0]:0},get y(){return As.userpose?As.userpose[1]:0},get z(){return As.userpose?-As.userpose[2]:0}},rotation:{get x(){return As.userpose?-As.userpose[3]:0},get y(){return As.userpose?-As.userpose[4]:0},get z(){return As.userpose?As.userpose[5]:0},get w(){return As.userpose&&vs()?As.userpose[6]:0}}},lefthand:{position:{get x(){return As.userpose?As.userpose[6+(vs()?1:0)]:0},get y(){return As.userpose?As.userpose[7+(vs()?1:0)]:0},get z(){return As.userpose?-As.userpose[8+(vs()?1:0)]:0}},rotation:{get x(){return As.userpose?-As.userpose[9+(vs()?1:0)]:0},get y(){return As.userpose?-As.userpose[10+(vs()?1:0)]:0},get z(){return As.userpose?As.userpose[11+(vs()?1:0)]:0},get w(){return As.userpose&&vs()?As.userpose[13]:0}}},righthand:{position:{get x(){return As.userpose?As.userpose[12+(vs()?2:0)]:0},get y(){return As.userpose?As.userpose[13+(vs()?2:0)]:0},get z(){return As.userpose?-As.userpose[14+(vs()?2:0)]:0}},rotation:{get x(){return As.userpose?-As.userpose[15+(vs()?2:0)]:0},get y(){return As.userpose?-As.userpose[16+(vs()?2:0)]:0},get z(){return As.userpose?As.userpose[17+(vs()?2:0)]:0},get w(){return As.userpose&&vs()?As.userpose[20]:0}}},cockpit:{position:{get x(){return As.userpose?As.userpose[18+(vs()?3:0)]:0},get y(){return As.userpose?As.userpose[19+(vs()?3:0)]:0},get z(){return As.userpose?-As.userpose[20+(vs()?3:0)]:0}},rotation:{get x(){return As.userpose?-As.userpose[21+(vs()?3:0)]:0},get y(){return As.userpose?-As.userpose[22+(vs()?3:0)]:0},get z(){return As.userpose?As.userpose[23+(vs()?3:0)]:0},get w(){return As.userpose&&vs()?As.userpose[26]:0}}},get voiceVolume(){return As.userpose?As.userpose[24+(vs()?4:0)]:0},controllers:{left:{get trigger(){return As.userpose&&As.userpose[25+(vs()?4:0)]||0},joystick:{get x(){return As.userpose&&As.userpose[27+(vs()?4:0)]||0},get y(){return As.userpose&&As.userpose[28+(vs()?4:0)]||0}}},right:{get trigger(){return As.userpose&&As.userpose[26+(vs()?4:0)]||0},joystick:{get x(){return As.userpose&&As.userpose[29+(vs()?4:0)]||0},get y(){return As.userpose&&As.userpose[30+(vs()?4:0)]||0}}}}},Object.keys(As.banter).forEach((e=>{window[e]=As.banter[e]})),e.On("button-pressed",(e=>{As.buttonPressCallback&&As.buttonPressCallback(m(e))})),e.On("user-joined",(e=>fs(this,void 0,void 0,(function*(){e.detail.isLocal?(As.user={id:e.detail.uid,sid:e.detail.id,uid:e.detail.uid,name:e.detail.name,color:e.detail.color,instance:window.SPACE_INSTANCE},As.userCallback&&As.userCallback(As.user)):(yield p(As,"AFRAME"),yield new Promise((e=>setTimeout(e,1e3))),As.userJoinedCallback&&As.userJoinedCallback({id:e.detail.uid,sid:e.detail.id,uid:e.detail.uid,name:e.detail.name,color:e.detail.color,instance:window.SPACE_INSTANCE}))})))),e.On("user-left",(e=>fs(this,void 0,void 0,(function*(){yield p(As,"AFRAME"),As.userLeftCallback&&As.userLeftCallback(e.detail)})))),e.On("button-released",(e=>{As.buttonPressCallback&&As.buttonPressCallback(m(e,"Release"))})),e.On("transcription",(e=>{As.transcriptionCallback&&As.transcriptionCallback(e.detail.id,e.detail.message)})),e.On("menu-browser-message",(e=>{window.dispatchEvent(new CustomEvent("menubrowsermessage",{detail:{message:e.detail}}))})),e.On("aframe-trigger",(e=>{As.aframeTriggerCallback&&As.aframeTriggerCallback(e.detail.data)})),e.On("voice-started",(e=>{As.voiceStartedCallback&&As.voiceStartedCallback()})),e.On("one-shot",(e=>{As.AframeInjection.dispatchEvent(new CustomEvent("oneShot",{detail:{data:JSON.parse(e.detail.data),fromId:e.detail.fromId,fromAdmin:e.detail.fromAdmin}}))})),e.On("space-state-changed",(e=>{As.AframeInjection.dispatchEvent(new CustomEvent("spaceStateChange",{detail:e.detail}))})),yield e.WaitForUnityLoaded(),As.loadDoneCallback&&(As.loadDoneCallback(),As.loadDone=!0),e.EnableLegacy()}))}(),this.sceneEl=yield this.closestScene(),this.sceneEl||console.warn("You are attempting to attach <"+this.tagName+"> outside of an A-Frame scene. Append this element to `<a-scene>` instead."),this.hasLoaded=!1,this.emit("nodeready",void 0,!1),this.tagName.toLocaleLowerCase()===Es?(this.getSceneSettings(),this.sceneEl=this,this.sceneEl.components["vr-mode-ui"]={updateEnterInterfaces(){}},this.load((()=>{console.log("Banter AFRAME shim loaded, errors above may be safely ignored (Failed to execute 'define', Cannot read properties of undefined (reading 'prototype')).")}))):(this.sceneEl=this.parentElement.sceneEl,this.load())}))}makeGameObject(){return ws(this,void 0,void 0,(function*(){this.gameObject=new te(this.tagName+(this.id?"#"+this.id:"")),this.gameObject.meta.el=this,yield this.gameObject.Async(),this.transform=yield this.gameObject.AddComponent(new Z),this.unityReady=!0,this.emit("unityready",void 0,!1)}))}getBoolValue(e){return e.enabled||!1===e.enabled?e.enabled:!!e}getSceneSettings(){if(this.hasAttribute("sq-forcegrabenabled")&&(Bs.EnableForceGrab=!0),this.hasAttribute("sq-spawnpoint")){let e=this.parseAttributeValue("sq-spawnpoint",this.getAttribute("sq-spawnpoint"));Bs.SpawnPoint=new J(e.position.x||0,e.position.y||0,-e.position.z||0,e.position.w||0)}if(this.hasAttribute("sq-clippingplane")){let e=this.parseAttributeValue("sq-clippingplane",this.getAttribute("sq-clippingplane"));Bs.ClippingPlane=new R(e.near||.015,e.far||1500)}if(this.hasAttribute("sq-maxoccupancy")){let e=this.parseAttributeValue("sq-maxoccupancy",this.getAttribute("sq-maxoccupancy"));Bs.MaxOccupancy=e.number||20}if(this.hasAttribute("sq-refreshrate")){let e=this.parseAttributeValue("sq-refreshrate",this.getAttribute("sq-refreshrate"));Bs.RefreshRate=e.rate||72}if(this.hasAttribute("sq-enablespiderman")&&(Bs.EnableSpiderMan=!0),this.hasAttribute("sq-disableteleport")&&(Bs.EnableTeleport=!1),this.hasAttribute("sq-hideavatars")&&(Bs.EnableAvatars=!1),this.hasAttribute("sq-devtoolsenabled")){let e=this.parseAttributeValue("sq-devtoolsenabled",this.getAttribute("sq-devtoolsenabled"));Bs.EnableDevTools=this.getBoolValue(e)}if(this.hasAttribute("sq-portalsenabled")){let e=this.parseAttributeValue("sq-portalsenabled",this.getAttribute("sq-portalsenabled"));Bs.EnablePortals=this.getBoolValue(e)}if(this.hasAttribute("sq-hidedefaulttextures")&&(Bs.EnableDefaultTextures=!1),this.hasAttribute("sq-guestsallowed")){let e=this.parseAttributeValue("sq-guestsallowed",this.getAttribute("sq-guestsallowed"));Bs.EnableGuests=this.getBoolValue(e)}if(this.hasAttribute("sq-friendpositionjoinallowed")){let e=this.parseAttributeValue("sq-friendpositionjoinallowed",this.getAttribute("sq-friendpositionjoinallowed"));Bs.EnableFriendPositionJoin=!!e.enabled}this.hasAttribute("sq-spawnpoint")||ke.getInstance().TeleportTo(new C(0,0,0),0,!1,!0),ke.getInstance().SetSettings(Bs)}closestScene(){return ws(this,void 0,void 0,(function*(){let e=this;for(;e&&e.tagName.toLocaleLowerCase()!==Es;)yield p(e,"parentElement"),e=e.parentElement;return e}))}disconnectedCallback(){this.hasLoaded=!1,this.gameObject&&(this.gameObject.Destroy(),delete this.gameObject)}loadMe(){var e;return ws(this,void 0,void 0,(function*(){yield this.makeGameObject();const t=null===(e=this.parentElement)||void 0===e?void 0:e.gameObject;t&&this.gameObject.SetParent(t,!1),this.gameObject.On("click",(e=>{e.detail.point=new C(e.detail.point.x,e.detail.point.y,-e.detail.point.z),e.detail.normal=new C(e.detail.normal.x,e.detail.normal.y,-e.detail.normal.z),this.gameObject.meta._legacy=e.detail,this.emit("click",e.detail)})),this.gameObject.On("grab",(e=>{e.detail.position=new C(e.detail.point.x,e.detail.point.y,-e.detail.point.z),e.detail.side=e.detail.side===n.LEFT?"left":"right",this.gameObject.meta._legacy=e.detail,this.emit("grab",e.detail)})),this.gameObject.On("drop",(e=>{this.emit("drop",e.detail)})),this.gameObject.On("collision-enter",(e=>{this.emit("collision-enter",e.detail)})),this.gameObject.On("collision-exit",(e=>{this.emit("collision-exit",e.detail)})),this.gameObject.On("trigger-enter",(e=>{this.gameObject.meta.el&&(e.detail.other=this.gameObject.meta.el),e.detail.isLocalPlayer=!!e.detail.user&&e.detail.user.uid===window.user.id,this.gameObject.meta._legacy=e.detail,this.emit("trigger-enter",e.detail)})),this.gameObject.On("trigger-exit",(e=>{this.gameObject.meta.el&&(e.detail.other=this.gameObject.meta.el),e.detail.isLocalPlayer=!!e.detail.user&&e.detail.user.uid===window.user.id,this.gameObject.meta._legacy=e.detail,this.emit("trigger-exit",e.detail)})),this.gameObject.On("browser-message",(e=>{this.emit("browsermessage",e.detail)}))}))}load(e,t){return ws(this,void 0,void 0,(function*(){let s,i;const r=this;this.hasLoaded||(this.loadMe(),this.getAttributeNames().forEach((e=>ws(this,void 0,void 0,(function*(){const t=this.getAttribute(e),s=yield this.parseAttributes(e,null,t);Se[e]&&Se[e].init&&Se[e].init.bind({el:this,sceneEl:this.sceneEl,data:s})()})))),this.setupMutationObserver(),t=t||(e=>e.isNode),s=this.getChildren(),i=s.filter(t).map((function(e){return new Promise((function(t,s){if(e.hasLoaded)return t();e.addEventListener("loaded",t),e.addEventListener("error",s)}))})),Promise.allSettled(i).then((function(t){t.forEach((function(e){"rejected"===e.status&&console.warn("Rendering scene with errors on node: ",e.reason.target)})),r.hasLoaded=!0,e&&e(),r.emit("loaded",void 0,!1)})))}))}getMaterialSide(e){return"back"===e?_s.Back:"double"===e?_s.Double:_s.Front}getAssetSrc(e){return e&&"string"==typeof e?e.startsWith("#")?document.querySelector(e).getAttribute("src"):e:e&&e instanceof HTMLImageElement?e.currentSrc:""}colorValToFull(e){let t=e.replace(/^#/,"");return 3===t.length&&(t=t.split("").map((function(e){return e+e})).join("")),t}setupMaterialAfterGeometry(){return ws(this,void 0,void 0,(function*(){let e;!this.invertedMesh&&this.hasAttribute("sq-invertedcollider")&&(this.invertedMesh=new L,yield this.gameObject.AddComponent(this.invertedMesh)),this.hasAttribute("material")&&(e=this.parseAttributeValue("material",this.getAttribute("material")));const t=this.getAssetSrc(this.hasAttribute("src")?this.getAttribute("src"):e&&e.src?e.src:"");let s=this.hasAttribute("opacity")?+this.getAttribute("opacity"):e&&(e.opacity||0===e.opacity)?e.opacity:1,i=!!this.hasAttribute("transparent")||e&&e.transparent,r=this.hasAttribute("side")?this.getAttribute("side"):e&&e.side?e.side:"front";Number.isNaN(s)&&(s=1);let n="Unlit/Diffuse";(i||1!=s)&&(n="Unlit/DiffuseTransparent");var o=this.hasAttribute("color")?this.getAttribute("color"):e&&e.color?e.color:"";o&&o.startsWith("#")&&(o=parseInt(this.colorValToFull(o).replace(/^#/,""),16)),this.material=new D(n,t,new ms(o).asVector4(s),this.getMaterialSide(r),!0),yield this.gameObject.AddComponent(this.material),this.collider||!this.hasAttribute("sq-collider")&&!this.hasAttribute("sq-climbable")||(this.collider=new Y(!0,this.hasAttribute("sq-triggercollider")),yield this.gameObject.AddComponent(this.collider),yield this.gameObject.AddComponent(new M)),(!this.collider&&this.hasAttribute("sq-nonconvexcollider")||this.hasAttribute("sq-invertedcollider"))&&(this.collider=new Y(!1,this.hasAttribute("sq-triggercollider")),yield this.gameObject.AddComponent(this.collider),yield this.gameObject.AddComponent(new M))}))}setRotationFromEuler(e,t,s){const i=new C(e,t,s),r=(new K).SetFromEuler(i);this.transform.localRotation=r}processAttributes(e,t,s){return ws(this,void 0,void 0,(function*(){switch(e){case"position":yield p(this,"unityReady"),this.transform.localPosition=new C(t.x||0,t.y||0,-t.z||0);break;case"scale":yield p(this,"unityReady"),this.transform.localScale=new C(t.x||1e-5,t.y||1e-5,t.z||1e-5);break;case"rotation":yield p(this,"unityReady"),this.transform.localEulerAngles=new C(-t.x||0,-t.y||0,t.z||0);break;case"sq-parametric":case"geometry":this.geometry||("sq-parametric"===e&&(t.primitive="parametric"),this.geometry=new x(Rs[t.primitive],Cs[t.type],t.width,t.height,t.depth,t.segmentsWidth,t.segmentsHeight,t.segmentsDepth,t.radius,t.segments,t.thetaStart*H,t.thetaLength*H,t.phiStart*H,t.phiLength*H,t.segmentsRadial,t.openEnded,t.radiusTop,t.radiusBottom,t.radiusInner,t.radiusOuter,t.segmentsTheta,t.segmentsPhi,t.tube,t.segmentsTubular,t.arc*H,t.p,t.q,t.stacks,t.slices,t.detail),yield this.gameObject.AddComponent(this.geometry),yield this.setupMaterialAfterGeometry());break;case"sq-playavatar":yield p(this,"unityReady"),window.playAvatar(this.gameObject.id,t.tracking,t.audio,t.avatar);break;case"sq-streetview":this.streetview||(this.streetview=new q(t.panoId),yield this.gameObject.AddComponent(this.streetview));break;case"material":this.material&&(t.color&&(t.color&&t.color.startsWith("#")&&(t.color=parseInt(this.colorValToFull(t.color).replace(/^#/,""),16)),this.material.color=new ms(t.color).asVector4(t.opacity||1)),t.side&&(this.material.side=this.getMaterialSide(t.side)),t.src&&(this.material.texture=this.getAssetSrc(t.src)));break;case"color":this.material&&(this.material.color=new ms(t).asVector4());break;case"side":this.material&&(this.material.side=this.getMaterialSide(t));break;case"src":this.material&&(this.material.texture=this.getAssetSrc(t));break;case"animation":if(yield p(this,"unityReady"),yield this.gameObject.scene.WaitForUnityLoaded(),this.animations.includes(t.property))return;this.animations.push(t.property);const i=t.property.split(".").filter((e=>"object3D"!==e));switch(i[0]){case"scale":i[1]&&this.animateIt(t,"localScale",i[1],(()=>this.transform.localScale=this.transform.localScale));break;case"position":i[1]&&this.animateIt(t,"localPosition",i[1],(()=>this.transform.localPosition=this.transform.localPosition));break;case"rotation":i[1]&&this.animateIt(t,"localEulerAngles",i[1],(()=>{this.setRotationFromEuler(this.transform.localEulerAngles.x,this.transform.localEulerAngles.y,this.transform.localEulerAngles.z)}))}break;case"link":this.portal||(this.portal=new F(t.href),yield this.gameObject.AddComponent(this.portal));break;case"sound":this.sound||(this.sound=new Audio(t.src),this.sound.loop=t.loop,this.sound.volume=t.volume,t.autoplay&&this.sound.play());break;case"text":if(!this.text){let e=ys.Left;switch(t.align){case"center":e=ys.Center;break;case"left":e=ys.Left;break;case"right":e=ys.Right}let s=bs.Bottom;switch(t.baseline){case"center":s=bs.Center;break;case"top":s=bs.Top;break;case"bottom":s=bs.Bottom}this.text=new V(t.value.split("\\n").join("\n"),new ms(t.color).asVector4(),e,s,2,!1,!1,new R(0,0)),yield this.gameObject.AddComponent(this.text)}break;case"gltf-model":if(!this.gltf){let e=this.hasAttribute("sq-collider"),s=this.hasAttribute("sq-nonconvexcollider"),i=this.hasAttribute("sq-slippery"),r=this.hasAttribute("sq-climbable")||this.hasAttribute("sq-grabbable");this.gltf=new N(this.getAssetSrc(t),this.hasAttribute("sq-generatemipmaps"),e,s,i,r,!0),this.gltf.On("loaded",(()=>{this.gltfLoaded=!0,this.colorOverrides.length&&(this.colorOverrides.forEach((e=>{window.setChildColor(this.gameObject.id,e.path,e.color)})),this.colorOverrides=[])})),yield this.gameObject.AddComponent(this.gltf)}break;case"sq-overridecolor":this.colorOverrides.push({path:t.path,color:{r:t.color.x,g:t.color.y,b:t.color.z}}),this.gltf&&this.gltfLoaded&&window.setChildColor(this.gameObject.id,t.path,{r:t.color.x,g:t.color.y,b:t.color.z});break;case"sq-billboard":this.billboard||(this.billboard=new w(0,!1,!0,!1),yield this.gameObject.AddComponent(this.billboard));break;case"sq-clickurl":this.addEventListener("click",(()=>{this.gameObject.scene.OpenPage(t.url)}));break;case"sq-deeplink":this.addEventListener("click",(()=>{this.gameObject.scene.DeepLink(t.url,"")}));break;case"sq-interactable":this.gameObject.SetLayer(5);break;case"sq-syncloop":{let e;e=setInterval((()=>{if(this.gameObject){if(t.interval&&!this.hasRun){let e=(new Date).getTime(),s=e/1e3-Math.floor(e/(1e3*t.interval))*t.interval;s>t.interval-1&&!this.readyToTrigger&&(this.readyToTrigger=!0),s<1&&this.readyToTrigger&&(this.readyToTrigger=!1,this.emit(t.eventName,null,!1),t.runOnce&&(this.hasRun=!0))}}else clearInterval(e)}),50)}break;case"sq-lefthand":p(this,"unityReady"),yield new Promise((e=>setTimeout(e,200))),ke.getInstance().LegacyAttachObject(this.gameObject,t.whoToShow,Ss.LEFT_HAND);break;case"sq-righthand":p(this,"unityReady"),yield new Promise((e=>setTimeout(e,200))),ke.getInstance().LegacyAttachObject(this.gameObject,t.whoToShow,Ss.RIGHT_HAND);break;case"sq-head":p(this,"unityReady"),yield new Promise((e=>setTimeout(e,200))),ke.getInstance().LegacyAttachObject(this.gameObject,t.whoToShow,Ss.HEAD);break;case"sq-cockpit":p(this,"unityReady"),yield new Promise((e=>setTimeout(e,200))),ke.getInstance().LegacyAttachObject(this.gameObject,t.whoToShow,Ss.COCKPIT);break;case"sq-body":p(this,"unityReady"),yield new Promise((e=>setTimeout(e,200))),ke.getInstance().LegacyAttachObject(this.gameObject,t.whoToShow,Ss.BODY);break;case"visible":this.gameObject.SetActive(t);break;case"sq-trackpose":Ps.legacyPoseEnabled=!0;let r=null;const n=this.gameObject.scene;r=e=>{try{if(this.transform){if(this.hasLoaded)switch(t.type){case"lefthand":this.transform.localPosition=new C(Ps.userinputs.lefthand.position.x,Ps.userinputs.lefthand.position.y,-Ps.userinputs.lefthand.position.z),vs()?this.transform.localRotation=new K(Ps.userinputs.lefthand.rotation.x,Ps.userinputs.lefthand.rotation.y,Ps.userinputs.lefthand.rotation.z,Ps.userinputs.lefthand.rotation.w):this.transform.localEulerAngles=new C(-Ps.userinputs.lefthand.rotation.x*W,-Ps.userinputs.lefthand.rotation.y*W,Ps.userinputs.lefthand.rotation.z*W);break;case"righthand":this.transform.localPosition=new C(Ps.userinputs.righthand.position.x,Ps.userinputs.righthand.position.y,-Ps.userinputs.righthand.position.z),vs()?this.transform.localRotation=new K(Ps.userinputs.righthand.rotation.x,Ps.userinputs.righthand.rotation.y,Ps.userinputs.righthand.rotation.z,Ps.userinputs.righthand.rotation.w):this.transform.localEulerAngles=new C(-Ps.userinputs.righthand.rotation.x*W,-Ps.userinputs.righthand.rotation.y*W,Ps.userinputs.righthand.rotation.z*W);break;case"head":this.transform.localPosition=new C(Ps.userinputs.head.position.x,Ps.userinputs.head.position.y,-Ps.userinputs.head.position.z),vs()?this.transform.localRotation=new K(Ps.userinputs.head.rotation.x,Ps.userinputs.head.rotation.y,Ps.userinputs.head.rotation.z,Ps.userinputs.head.rotation.w):this.transform.localEulerAngles=new C(-Ps.userinputs.head.rotation.x*W,-Ps.userinputs.head.rotation.y*W,Ps.userinputs.head.rotation.z*W);break;case"cockpit":this.transform.localPosition=new C(Ps.userinputs.cockpit.position.x,Ps.userinputs.cockpit.position.y,-Ps.userinputs.cockpit.position.z),vs()?this.transform.localRotation=new K(Ps.userinputs.cockpit.rotation.x,Ps.userinputs.cockpit.rotation.y,Ps.userinputs.cockpit.rotation.z,Ps.userinputs.cockpit.rotation.w):this.transform.localEulerAngles=new C(-Ps.userinputs.cockpit.rotation.x*W,-Ps.userinputs.cockpit.rotation.y*W,Ps.userinputs.cockpit.rotation.z*W)}this.gameObject||n.Off("legacy-user-pose",r)}}catch(e){console.error(e)}},n.On("legacy-user-pose",r);break;case"sq-slippery":case"sq-sticky":if(yield new Promise((e=>setTimeout(e))),!this.physicMaterial){var s="sq-sticky"===e?15:t.friction;this.physicMaterial=new z(s,s),yield this.gameObject.AddComponent(this.physicMaterial)}this.rigidBody||"sq-sticky"!==e||(this.rigidBody=new G(1,0,.05,!0,!0,new C,ks.Discrete,!1,!1,!1,!1,!1,!1,new C,new C),yield this.gameObject.AddComponent(this.rigidBody));break;case"sq-climbable":case"sq-grabbable":this.gameObject.SetLayer(20);break;case"sq-gravityfield":this.gameObject.On("trigger-enter",(e=>{e.detail.user&&"__BA_PlayerLocoBall"===e.detail.tag&&e.detail.user.uid===window.user.id&&window.gravity(t.gravity)})),this.gameObject.On("trigger-exit",(e=>{e.detail.user&&"__BA_PlayerLocoBall"===e.detail.tag&&e.detail.user.uid===window.user.id&&window.gravity({x:0,y:-9.8,z:0})})),this.collider||(yield p(Ps,"user"),this.collider=new B(!0),yield this.gameObject.AddComponent(this.collider),yield this.gameObject.AddComponent(new M));break;case"sq-timedilationfield":this.gameObject.On("trigger-enter",(e=>{e.detail.user&&"__BA_PlayerLocoBall"===e.detail.tag&&e.detail.user.uid===window.user.id&&window.timeScale(t.scale)})),this.gameObject.On("trigger-exit",(e=>{e.detail.user&&"__BA_PlayerLocoBall"===e.detail.tag&&e.detail.user.uid===window.user.id&&window.timeScale(1)})),this.collider||(yield p(Ps,"user"),this.collider=new B(!0),yield this.gameObject.AddComponent(this.collider),yield this.gameObject.AddComponent(new M));break;case"sq-speedfield":this.gameObject.On("trigger-enter",(e=>{e.detail.user&&"__BA_PlayerLocoBall"===e.detail.tag&&e.detail.user.uid===window.user.id&&window.playerSpeed(!0)})),this.gameObject.On("trigger-exit",(e=>{e.detail.user&&"__BA_PlayerLocoBall"===e.detail.tag&&e.detail.user.uid===window.user.id&&window.playerSpeed(!1)})),this.collider||(yield p(Ps,"user"),this.collider=new B(!0),yield this.gameObject.AddComponent(this.collider),yield this.gameObject.AddComponent(new M));break;case"sq-browser":yield p(this,"unityReady"),this.browser?t.url&&(this.browser.url=t.url):(this.browser=new P(t.url,t.mipMaps,t.pixelsPerUnit,1024,576,JSON.stringify({actions:t.afterLoadActions})),yield this.gameObject.AddComponent(this.browser));break;case"sq-assetbundle":this.assetbundle||(this.assetbundle=new k(t.desktop,null,null,t.android,null,null,!0,!0),yield this.gameObject.AddComponent(this.assetbundle));break;case"sq-kitbundle":this.kitbundle||(this.kitbundle=new k(t.desktop,null,null,t.android,null,null,!1),yield this.gameObject.AddComponent(this.kitbundle));break;case"sq-kititem":this.kititem||(this.kititem=new I(t.item),yield this.gameObject.AddComponent(this.kititem));break;case"sq-boxcollider":this.collider||(this.collider=new B(this.hasAttribute("sq-triggercollider"),t.center,t.size),yield this.gameObject.AddComponent(this.collider),yield this.gameObject.AddComponent(new M));break;case"sq-spherecollider":this.collider||(this.collider=new U(this.hasAttribute("sq-triggercollider"),t.radius),yield this.gameObject.AddComponent(this.collider),yield this.gameObject.AddComponent(new M));break;case"sq-capsulecollider":this.collider||(this.collider=new T(this.hasAttribute("sq-triggercollider"),t.radius,t.height),yield this.gameObject.AddComponent(this.collider),yield this.gameObject.AddComponent(new M));break;case"sq-mirror":this.mirror||(this.mirror=new j,yield this.gameObject.AddComponent(this.mirror));break;case"sq-smoothposition":yield p(this,"unityReady"),this.transform.lerpPosition=!0;break;case"sq-smoothrotation":yield p(this,"unityReady"),this.transform.lerpRotation=!0;break;case"sq-spawnpoint":yield this.gameObject.scene.TeleportTo(new C(t.position.x||0,t.position.y||0,-t.position.z||0),t.position.w||0,!1,!0);break;case"sq-rigidbody":if(!this.rigidBody){let e=ks.Discrete;switch(t.collisionDetectionMode){case"discrete":e=ks.Discrete;break;case"continuous":e=ks.Continuous;break;case"continuousdynamic":e=ks.ContinuousDynamic;break;case"continuousspeculative":e=ks.ContinuousSpeculative}this.rigidBody=new G(t.mass,t.drag,t.angularDrag,t.isKinematic,t.useGravity,t.centerOfMass,e,t.freezePosX,t.freezePosY,t.freezePosZ,t.freezeRotX,t.freezeRotY,t.freezeRotZ,t.velocity,t.angularVelocity),yield this.gameObject.AddComponent(this.rigidBody)}}}))}parseAttributeValue(e,t){let s;this.components[e]={data:Ie(t)},"sq-browser"===e&&(this.components[e].runActions=e=>{var t;return null===(t=this.browser)||void 0===t?void 0:t.RunActions(JSON.stringify({actions:e}))});try{if("geometry"===e){const t=this.components[e].data.primitive;t&&(Ls(t,"segmentsWidth",!0),Ls(t,"segmentsHeight",!0),Ls(t,"thetaLength",!0),Ls(t,"radiusTop",!0))}const i=Pe(Se[e].schema,e);s=Be(Se[e].schema)?xe(t,i):Me(this.components[e].data,Se[e].schema,!1,e)}catch(s){console.warn(s,e,t)}return s}parseAttributes(e,t,s){return ws(this,void 0,void 0,(function*(){if(e=e.split("__")[0],!Se[e])return;let t=this.parseAttributeValue(e,s);return this.processAttributes(e,t,s),t}))}invertCoordinates(e,t){var s="eulerAngles"===e||"localEulerAngles"===e;return("position"===e||"localPosition"===e)&&"z"===t||s&&"x"===t||s&&"y"===t?-1:1}animateIt(e,t,s,i){const r={};"string"==typeof s&&(r[s]=this.transform[t][s]*this.invertCoordinates(t,s));const n={targets:r,duration:e.dur||0,delay:e.delay||0,easing:e.easing||"linear",elasticity:e.elasticity||0,loop:e.loop||!1,direction:e.dir||"normal",autoplay:e.autoplay||!0,round:e.round||1e7,change:e=>{"string"==typeof s&&(this.transform[t][s]=e.animatables[0].target[s]*this.invertCoordinates(t,s)),i()}};"string"==typeof s&&(n[s]=e.from||0===e.from?[e.from,e.to]:[this.transform[t][s]*this.invertCoordinates(t,s),e.to]),e.startEvents&&e.startEvents.length?e.startEvents.forEach((e=>{this.addEventListener(e,(()=>{Vt(n)}))})):Vt(n)}attributeChangedCallback(e,t,s){var i=e.split("__");e=i[0],this.parseAttributes(e,t,s).then((t=>{"object"==typeof t&&i[1]&&(t._event="_"+i[1]),Se[e]&&Se[e].update&&Se[e].update.bind({el:this,sceneEl:this.sceneEl,data:t})()}))}setupMutationObserver(){const e=this;new MutationObserver((function(t){return ws(this,void 0,void 0,(function*(){let s;for(s=0;s<t.length;s++)if("attributes"===t[s].type){const i=t[s].attributeName,r=window.HTMLElement.prototype.getAttribute.call(e,i),n=t[s].oldValue;e.attributeChangedCallback(i,n,r)}}))})).observe(this,{attributes:!0,attributeOldValue:!0})}getChildren(){return Array.prototype.slice.call(this.children,0)}setObjectActiveInitially(e){return ws(this,void 0,void 0,(function*(){yield p(this,"unityReady"),this.gameObject.SetActive(e)}))}setAttribute(e,t,s){"object"!=typeof t?(s&&(t=t+": "+s),"visible"===e&&this.setObjectActiveInitially(!!t&&"false"!==t),window.HTMLElement.prototype.setAttribute.call(this,e,t)):this.attributeChangedCallback(e,null,t)}getAttribute(e){var t,s;return"visible"===e?"false"!==window.HTMLElement.prototype.getAttribute.call(this,e)&&null!==(s=null===(t=this.gameObject)||void 0===t?void 0:t.active)&&void 0!==s&&s:window.HTMLElement.prototype.getAttribute.call(this,e)}emit(e,t,s,i){let r=this.evtData;void 0===s&&(s=!0),r.bubbles=!!s,r.detail=t,i&&(r=Object.assign(i,r)),this.dispatchEvent(new CustomEvent(e,r))}}const Ms={registerComponent(e,t){t.schema=t.schema||{},Se[e]=t},utils:{styleParser:h},scenes:[]};window.addEventListener("DOMContentLoaded",(()=>{window.AFRAME.scenes=Array.from(document.querySelectorAll("a-scene"))}));const Os=(e,t)=>{Object.keys(t).forEach((e=>{Ms.registerComponent(e,{schema:t[e]})})),Ms.registerComponent(e,{schema:t})};Ms.registerComponent("gltf-model",{schema:{type:"model"}}),Ms.registerComponent("position",{schema:{type:"vec3",default:{x:0,y:0,z:0}}}),Ms.registerComponent("scale",{schema:{type:"vec3",default:{x:1,y:1,z:1}}}),Ms.registerComponent("rotation",{schema:{type:"vec3",default:{x:0,y:0,z:0}}}),Ms.registerComponent("rotation",{schema:{type:"vec3",default:{x:0,y:0,z:0}}}),Ms.registerComponent("visible",{schema:{type:"bool",default:!0}}),Ms.registerComponent("vr-mode-ui",{schema:{}}),Os("sound",{autoplay:{default:!1},loop:{default:!1},src:{type:"audio"},volume:{default:1}});const xs={primitive:{type:"string",default:""},depth:{type:"number",default:1,min:0},height:{type:"number",default:1,min:0},width:{type:"number",default:1,min:0},segmentsHeight:{type:"int",default:1,min:1},segmentsWidth:{type:"int",default:1,min:1},segmentsDepth:{type:"int",default:1,min:1},radius:{type:"number",default:1,min:0},segments:{type:"int",default:32,min:3},thetaStart:{type:"number",default:0},openEnded:{type:"bool",default:!1},radiusBottom:{type:"number",default:1,min:0},radiusTop:{type:"number",default:.01,min:0},segmentsRadial:{type:"int",default:36,min:3},radiusInner:{type:"number",default:.8,min:0},radiusOuter:{type:"number",default:1.2,min:0},segmentsPhi:{type:"int",default:10,min:1},segmentsTheta:{type:"int",default:32,min:3},phiLength:{type:"number",default:360},phiStart:{type:"number",default:0,min:0},arc:{type:"number",default:360},radiusTubular:{type:"number",default:.2,min:0},segmentsTubular:{type:"int",default:32,min:3},thetaLength:{default:180,min:0},p:{type:"number",default:2,min:1},q:{type:"number",default:3,min:1}};function Ns(e,t,s){e?Se.geometry.schema[t].default=s:Se[t].schema.default=s}function Ls(e,t,s=!1){xs[t]&&("sphere"===e?"segmentsWidth"===t?Ns(s,t,32):"segmentsHeight"===t&&Ns(s,t,16):"segmentsWidth"!==t&&"segmentsHeight"!==t||Ns(s,t,1),"ring"!==e&&"cone"!==e&&"circle"!==e&&"cylinder"!==e||"thetaLength"!==t?"thetaLength"===t&&Ns(s,t,180):Ns(s,t,360),"cylinder"===e&&"radiusTop"===t?Ns(s,t,1):"cone"===e&&"radiusTop"===t&&Ns(s,t,.01))}Os("geometry",xs),Os("material",{color:{type:"color",default:"#FFF"},opacity:{type:"number",default:1,min:0},transparent:{type:"bool",default:!1},src:{type:"asset",default:""}}),Os("link",{href:{type:"asset",default:""},src:{type:"asset",default:""},title:{type:"string",default:""}}),Os("animation",{autoplay:{default:!0},delay:{default:0},dir:{default:""},dur:{default:1e3},easing:{default:"easeInQuad"},elasticity:{default:400},enabled:{default:!0},from:{default:""},loop:{default:0,parse:function(e){return!0===e||"true"===e||!1!==e&&"false"!==e&&parseInt(e,10)}},property:{default:""},startEvents:{type:"array"},pauseEvents:{type:"array"},resumeEvents:{type:"array"},round:{default:!1},to:{default:""},type:{default:""},isRawProperty:{default:!1}}),Os("text",{align:{type:"string",default:"left"},baseline:{type:"string",default:"center"},color:{type:"string",default:"#FFF"},value:{type:"string",default:""}}),["climbable","collider","invertedcollider","triggercollider","nonconvexcollider","sticky","clickable","interactable","grabbable","billboard","generatemipmaps"].forEach((e=>{Ms.registerComponent("sq-"+e,{schema:{recursive:{type:"bool",default:!1}}})})),Ms.registerComponent("sq-deeplink",{schema:{url:{type:"string",default:""}}}),Ms.registerComponent("sq-playavatar",{schema:{tracking:{type:"string",default:""},audio:{type:"string",default:""},avatar:{type:"string",default:""}}}),Ms.registerComponent("sq-slippery",{schema:{friction:{type:"number",default:0},recursive:{type:"bool",default:!1}}}),["hidenametags","hideavatars","mirror","hidedefaulttextures","smoothposition","smoothrotation","disableteleport","enablespiderman"].forEach((e=>{Ms.registerComponent("sq-"+e,{schema:{enabled:{type:"bool",default:!1}}})})),["lefthand","righthand","head","body","cockpit"].forEach((e=>{Ms.registerComponent("sq-"+e,{schema:{whoToShow:{type:"string",default:"everyone"}}})})),Ms.registerComponent("sq-movingplatform",{schema:{end:{type:"vec3",default:{x:0,y:0,z:0}},speed:{type:"number",default:5},delay:{type:"number",default:5},timeToMaxSpeed:{type:"number",default:2},maxIterations:{type:"number",default:-1}}}),Ms.registerComponent("sq-parametric",{schema:{stacks:{type:"number",default:10},slices:{type:"number",default:10},type:{type:"string",default:"klein"},inverted:{type:"bool",default:!1}}}),Ms.registerComponent("sq-livestream",{schema:{type:{type:"string",default:"youtube"},url:{type:"string",default:""},muted:{type:"bool",default:!1},volume:{type:"number",default:.5},allowPause:{type:"bool",default:!1}}}),Ms.registerComponent("sq-boxcollider",{schema:{center:{type:"vec3",default:{x:0,y:0,z:0}},size:{type:"vec3",default:{x:1,y:1,z:1}}}}),Ms.registerComponent("sq-spherecollider",{schema:{center:{type:"vec3",default:{x:0,y:0,z:0}},radius:{type:"number",default:.5}}}),Ms.registerComponent("sq-capsulecollider",{schema:{center:{type:"vec3",default:{x:0,y:0,z:0}},radius:{type:"number",default:.5},height:{type:"number",default:1},direction:{type:"string",default:"y"}}}),Ms.registerComponent("sq-raycaster",{schema:{startEvent:{type:"string",default:"click"},continuous:{type:"bool",default:!1},distance:{type:"number",default:100}}}),Ms.registerComponent("sq-destructable",{schema:{randomSeed:{type:"number",default:0},fractureType:{type:"string",default:"shatter"},numFracturePieces:{type:"number",default:10},numInterations:{type:"number",default:1},numGenerations:{type:"number",default:1},evenlySizedPieces:{type:"bool",default:!1},forceThreshold:{type:"number",default:10},forceRolloffRadius:{type:"number",default:1}}}),Ms.registerComponent("sq-rigidbody",{schema:{angularDrag:{type:"number",default:.05},collisionDetectionMode:{type:"string",default:"discrete"},angularVelocity:{type:"vec3",default:{x:0,y:0,z:0}},centerOfMass:{type:"vec3",default:{x:0,y:0,z:0}},drag:{type:"number",default:0},isKinematic:{type:"bool",default:!1},useGravity:{type:"bool",default:!0},mass:{type:"number",default:1},toChild:{type:"bool",default:!1},velocity:{type:"vec3",default:{x:0,y:0,z:0}},freezePosX:{type:"bool",default:!1},freezePosY:{type:"bool",default:!1},freezePosZ:{type:"bool",default:!1},freezeRotX:{type:"bool",default:!1},freezeRotY:{type:"bool",default:!1},freezeRotZ:{type:"bool",default:!1}}}),Ms.registerComponent("sq-particlesystem",{schema:{duration:{type:"number",default:5},startColor:{type:"string",default:"#ffffff"},startDelay:{type:"number",default:0},startDelayMultiplier:{type:"number",default:1},startLifetime:{type:"number",default:5},startLifetimeMultiplier:{type:"number",default:1},startSize:{type:"number",default:1},startSpeed:{type:"number",default:5},startRotation:{type:"number",default:0},simulationSpace:{type:"string",default:"local"},particleTexture:{type:"string",default:"https://cdn.sidequestvr.com/file/297264/new-project-1.png"},emitterVelocity:{type:"vec3",default:{x:0,y:0,z:0}},emitterVelocityMode:{type:"string",default:"rigid-body"},maxParticles:{type:"number",default:1e3},flipRotation:{type:"number",default:0},scalingMode:{type:"string",default:"local"},loop:{type:"bool",default:!0},playOnAwake:{type:"bool",default:!0},prewarm:{type:"bool",default:!1}}}),Ms.registerComponent("sq-clippingplane",{schema:{near:{type:"number",default:.02},far:{type:"number",default:1500}}}),Ms.registerComponent("sq-maxoccupancy",{schema:{number:{type:"number",default:20}}}),Ms.registerComponent("sq-spawnpoint",{schema:{position:{type:"vec4",default:{x:0,y:0,z:0,w:0}}}}),Ms.registerComponent("sq-refreshrate",{schema:{rate:{type:"number",default:90}}}),Ms.registerComponent("sq-devtoolsenabled",{schema:{enabled:{type:"bool",default:!0}}}),Ms.registerComponent("sq-portalsenabled",{schema:{enabled:{type:"bool",default:!0}}}),Ms.registerComponent("sq-guestsallowed",{schema:{enabled:{type:"bool",default:!0}}}),Ms.registerComponent("sq-friendpositionjoinallowed",{schema:{enabled:{type:"bool",default:!0}}}),Ms.registerComponent("sq-clickurl",{schema:{url:{type:"string",default:"https://sidequestvr.com"}}}),Ms.registerComponent("sq-overridecolor",{multiple:!0,schema:{path:{type:"string",default:""},color:{type:"vec3",default:{x:1,y:1,z:1}}}}),Ms.registerComponent("sq-trackpose",{schema:{type:{type:"string",default:"lefthand"}}}),Ms.registerComponent("sq-streetview",{schema:{panoId:{type:"string",default:"EusXB0g8G1DOvaPV56X51g"}},update:function(e){const t=this.el.object3D;t&&(t.userData.streetView=this.data.panoId)}}),Ms.registerComponent("sq-customhome",{schema:{customHome:{type:"string",default:"https://cdn.sidequestvr.com/file/167567/canyon_environment.apk"}}}),Ms.registerComponent("sq-assetbundle",{schema:{android:{type:"string",default:""},androidShaders:{type:"string",default:""},desktop:{type:"string",default:""},desktopShaders:{type:"string",default:""}}}),Ms.registerComponent("sq-questhome",{schema:{url:{type:"string",default:"https://cdn.sidequestvr.com/file/167567/canyon_environment.apk"}}}),Ms.registerComponent("sq-syncloop",{schema:{interval:{type:"number",default:0},runOnce:{type:"bool",default:!1},eventName:{type:"string",default:"startAnimation"},remote:{type:"string",default:""}}}),Ms.registerComponent("sq-timedilationfield",{schema:{scale:{type:"number",default:1}}}),Ms.registerComponent("sq-gravityfield",{schema:{gravity:{type:"vec3",default:{x:0,y:-9.8,z:0}}}}),Ms.registerComponent("sq-kitbundle",{schema:{android:{type:"string",default:""},desktop:{type:"string",default:""}}}),Ms.registerComponent("sq-custommaterial",{schema:{materialName:{type:"string",default:null},shaderName:{type:"string",default:null},shaderParamNames:{type:"array",default:null},shaderParamValues:{type:"array",default:null}}}),Ms.registerComponent("sq-kititem",{schema:{item:{type:"string",default:""}}}),Ms.registerComponent("sq-browser",{schema:{url:{type:"asset",default:""},remote:{type:"boolean",default:!0},mode:{type:"string",default:"local"},pixelsPerUnit:{type:"number",default:1200},mipMaps:{type:"number",default:4},afterLoadActions:{default:null,parse:function(e){var t;if(Array.isArray(e))return e;if(!e||!(null===(t=null==e?void 0:e.trim())||void 0===t?void 0:t.length))return[];try{return JSON.parse(e)}catch(t){console.error("Invalid browser input: ",e),console.error(t)}}}}}),Ms.registerComponent("sq-browser-interaction",{schema:{url:{type:"asset",default:""}}}),Object.defineProperty(window,"AframeInjection",{value:new class extends d{waitFor(e,t){return fs(this,void 0,void 0,(function*(){return p(e,t)}))}},writable:!1}),Object.defineProperty(window,"isBanter",{value:!0,writable:!1}),Object.defineProperty(window,"AFRAME",{value:Ms,writable:!1});const Is=(e,t,s=!0,i="")=>{const r={};return t.forEach((t=>{const n=De(t);if((s||xs[n])&&Se[n]){Ls(i,n);var o=Pe(Se[n].schema,n),a=e.getAttribute(t),c=Ie(a);Be(Se[n].schema)?r[n]=xe(a,o):r[n]=Me(c,o,!0,n)}})),r},Js=(e,t,s)=>Je(Object.assign({primitive:t},Is(e,s,!1,t))),Ds=(e,t)=>e.hasAttribute(t)?";"+e.getAttribute(t):"";customElements.define("a-node",Ts),customElements.define("a-entity",class extends Ts{}),customElements.define("a-scene",class extends Ts{}),customElements.define("a-link",class extends Ts{constructor(){super(),this.addEventListener("nodeready",(()=>{this.setAttribute("link",Je(Is(this,["href","title","src"]))+Ds(this,"link"))}))}}),customElements.define("a-text",class extends Ts{constructor(){super(),this.addEventListener("nodeready",(()=>{this.setAttribute("text",Je(Is(this,["value","color","align","baseline"]))+Ds(this,"text"))}))}}),customElements.define("a-image",class extends Ts{constructor(){super(),this.addEventListener("nodeready",(()=>{this.setAttribute("geometry",Js(this,"plane",["width","height","segments-width","segments-height"])+Ds(this,"geometry"))}))}}),customElements.define("a-plane",class extends Ts{constructor(){super(),this.addEventListener("nodeready",(()=>{this.setAttribute("geometry",Js(this,"plane",["width","height","segments-width","segments-height"])+Ds(this,"geometry"))}))}}),customElements.define("a-box",class extends Ts{constructor(){super(),this.addEventListener("nodeready",(()=>{this.setAttribute("geometry",Js(this,"box",["width","height","depth","segments-width","segments-height","segments-depth"])+Ds(this,"geometry"))}))}}),customElements.define("a-sphere",class extends Ts{constructor(){super(),this.addEventListener("nodeready",(()=>{this.setAttribute("geometry",Js(this,"sphere",["radius","segments-width","segments-height","phi-start","phi-length","theta-start","theta-length"])+Ds(this,"geometry"))}))}}),customElements.define("a-sky",class extends Ts{constructor(){super(),this.addEventListener("nodeready",(()=>{this.setAttribute("radius","500"),this.setAttribute("geometry",Js(this,"sphere",["radius","segments-width","segments-height","phi-start","phi-length","theta-start","theta-length"])+Ds(this,"geometry")),this.setAttribute("side","back")}))}}),customElements.define("a-cylinder",class extends Ts{constructor(){super(),this.addEventListener("unityready",(()=>{this.hasAttribute("radius")&&!this.hasAttribute("radius-bottom")&&this.setAttribute("radius-bottom",this.getAttribute("radius")),this.hasAttribute("radius")&&!this.hasAttribute("radius-top")&&this.setAttribute("radius-top",this.getAttribute("radius")),this.setAttribute("geometry",Js(this,"cylinder",["radius-top","radius-bottom","height","segments-radial","segments-height","open-ended","theta-start","theta-length","radius"])+Ds(this,"geometry"))}))}}),customElements.define("a-cone",class extends Ts{constructor(){super(),this.addEventListener("nodeready",(()=>{this.setAttribute("geometry",Js(this,"cone",["radius","height","segments-radial","segments-height","open-ended","theta-start","theta-length"])+Ds(this,"geometry"))}))}}),customElements.define("a-ring",class extends Ts{constructor(){super(),this.addEventListener("nodeready",(()=>{this.setAttribute("geometry",Js(this,"ring",["radius-inner","radius-outer","segments-theta","segments-phi","theta-start","theta-length"])+Ds(this,"geometry"))}))}}),customElements.define("a-circle",class extends Ts{constructor(){super(),this.addEventListener("nodeready",(()=>{this.setAttribute("geometry",Js(this,"circle",["radius","segments","theta-start","theta-length"])+Ds(this,"geometry"))}))}}),customElements.define("a-torus",class extends Ts{constructor(){super(),this.addEventListener("nodeready",(()=>{this.setAttribute("geometry",Js(this,"torus",["tube","segments-radial","segments-tubular","arc"])+Ds(this,"geometry"))}))}}),customElements.define("a-sound",class extends Ts{constructor(){super(),this.addEventListener("nodeready",(()=>{this.setAttribute("sound",Je(Is(this,["src","loop","volume","autoplay"]))+Ds(this,"sound"))}))}});const Ys=!0})(),BS=i})();